{"version":3,"file":"158.js","mappings":"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","sources":["./projects/mf-user/src/app/app-routing.module.ts","./projects/mf-user/src/app/components/role/role.component.ts","./projects/mf-user/src/app/components/role/role.component.html","./projects/mf-user/src/app/components/user/user.component.ts","./projects/mf-user/src/app/components/user/user.component.html","./projects/mf-user/src/app/models/role.model.ts","./projects/mf-user/src/app/models/user.model.ts","./projects/mf-user/src/app/pages/role.page/role.page.component.ts","./projects/mf-user/src/app/pages/role.page/role.page.component.html","./projects/mf-user/src/app/pages/roles-list.page/roles-list.page.component.ts","./projects/mf-user/src/app/pages/roles-list.page/roles-list.page.component.html","./projects/mf-user/src/app/pages/user.page/user.page.component.ts","./projects/mf-user/src/app/pages/user.page/user.page.component.html","./projects/mf-user/src/app/pages/users-list.page/users-list.page.component.ts","./projects/mf-user/src/app/pages/users-list.page/users-list.page.component.html","./projects/mf-user/src/app/services/module.service.ts","./projects/mf-user/src/app/services/role.service.ts","./projects/mf-user/src/app/services/user.service.ts","./projects/mf-user/src/app/user.module.ts","./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { UsersListComponent } from './pages/users-list.page/users-list.page.component';\r\nimport { UserPageComponent } from './pages/user.page/user.page.component';\r\nimport { ActionEnum, ModulesEnum, ModuleActionsEnum, permissionGuard } from 'commons-lib';\r\nimport { RolesListComponent } from './pages/roles-list.page/roles-list.page.component';\r\nimport { RolePageComponent } from './pages/role.page/role.page.component';\r\n\r\nconst routes: Routes = [\r\n  { \r\n    path: 'users',\r\n    component: UsersListComponent,\r\n    data: { parentModule: ModulesEnum.Users, parentModuleAction: ModuleActionsEnum.Read },\r\n    canActivate: [permissionGuard]\r\n  },\r\n  {\r\n    path: 'user-create',\r\n    component: UserPageComponent,\r\n    data: { actionState: ActionEnum.Create, parentModule: ModulesEnum.Users, parentModuleAction: ModuleActionsEnum.Create },\r\n    canActivate: [permissionGuard]\r\n  },\r\n  {\r\n    path: 'user-edit/:id',\r\n    component: UserPageComponent,\r\n    data: { actionState: ActionEnum.Edit, parentModule: ModulesEnum.Users, parentModuleAction: ModuleActionsEnum.Update },\r\n    canActivate: [permissionGuard]\r\n  },\r\n  {\r\n    path: 'roles',\r\n    component: RolesListComponent,\r\n    data: { parentModule: ModulesEnum.Roles, parentModuleAction: ModuleActionsEnum.Read },\r\n    canActivate: [permissionGuard]\r\n  },\r\n  {\r\n    path: 'role-create',\r\n    component: RolePageComponent,\r\n    data: { actionState: ActionEnum.Create, parentModule: ModulesEnum.Roles, parentModuleAction: ModuleActionsEnum.Create },\r\n    canActivate: [permissionGuard]\r\n  },\r\n  {\r\n    path: 'role-edit/:id',\r\n    component: RolePageComponent,\r\n    data: { actionState: ActionEnum.Edit, parentModule: ModulesEnum.Roles, parentModuleAction: ModuleActionsEnum.Update },\r\n    canActivate: [permissionGuard]\r\n  },\r\n  { path: '', redirectTo: 'users', pathMatch: 'full' },\r\n  { path: '**', redirectTo: 'users', pathMatch: 'full' },\r\n];\r\n\r\n/*const routes: Routes = [\r\n  { \r\n    path: 'users',\r\n    component: UsersListComponent,\r\n    data: { parentModule: ModulesEnum.Users, parentModuleAction: ModuleActionsEnum.Read }\r\n  },\r\n  {\r\n    path: 'user-create',\r\n    component: UserPageComponent,\r\n    data: { actionState: ActionEnum.Create, parentModule: ModulesEnum.Users, parentModuleAction: ModuleActionsEnum.Create }\r\n  },\r\n  {\r\n    path: 'user-edit/:id',\r\n    component: UserPageComponent,\r\n    data: { actionState: ActionEnum.Edit, parentModule: ModulesEnum.Users, parentModuleAction: ModuleActionsEnum.Update }\r\n  },\r\n  {\r\n    path: 'roles',\r\n    component: RolesListComponent,\r\n    data: { parentModule: ModulesEnum.Roles, parentModuleAction: ModuleActionsEnum.Read }\r\n  },\r\n  {\r\n    path: 'role-create',\r\n    component: RolePageComponent,\r\n    data: { actionState: ActionEnum.Create, parentModule: ModulesEnum.Roles, parentModuleAction: ModuleActionsEnum.Create }\r\n  },\r\n  {\r\n    path: 'role-edit/:id',\r\n    component: RolePageComponent,\r\n    data: { actionState: ActionEnum.Edit, parentModule: ModulesEnum.Roles, parentModuleAction: ModuleActionsEnum.Update }\r\n  },\r\n  { path: '', redirectTo: 'users', pathMatch: 'full' },\r\n  { path: '**', redirectTo: 'users', pathMatch: 'full' },\r\n];*/\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { AfterViewInit, Component, Input, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { ActionEnum } from 'commons-lib';\r\nimport { UserDTO } from '../../models/user.model';\r\nimport { RoleService } from '../../services/role.service';\r\nimport { FormArray, FormBuilder, FormGroup, ReactiveFormsModule, ValidationErrors, ValidatorFn, Validators } from '@angular/forms';\r\nimport { firstValueFrom } from 'rxjs';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ModuleService } from '../../services/module.service';\r\nimport { ModuleDTO } from '../../models/module.model';\r\n\r\n@Component({\r\n  selector: 'app-role',\r\n  standalone: true,\r\n  imports: [TranslateModule, ReactiveFormsModule, CommonModule],\r\n  templateUrl: './role.component.html',\r\n  styleUrl: './role.component.css'\r\n})\r\nexport class RoleComponent implements OnInit, AfterViewInit {\r\n  @Input() roleId: number = 0;\r\n  @Input() action!: ActionEnum;\r\n\r\n  roleData: UserDTO = new UserDTO();\r\n  editAction: ActionEnum = ActionEnum.Edit;\r\n\r\n  public formRole: FormGroup = new FormGroup({});\r\n\r\n  constructor(\r\n      public translate: TranslateService,\r\n      private readonly moduleService: ModuleService,\r\n      private readonly roleService: RoleService,\r\n      private readonly formBuilder: FormBuilder,\r\n      private route: Router,\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.setFormGroup();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.setRoleModulesFormArray();\r\n    Promise.resolve().then(() => this.loadData());\r\n  }\r\n\r\n  get roleModules(): FormArray {\r\n    return this.formRole.get('roleModules') as FormArray;\r\n  }\r\n\r\n  createItem(module: ModuleDTO): FormGroup {\r\n    return this.formBuilder.group({\r\n      idModule: [module.idModule],  // ID del módulo\r\n      moduleName: [module.name], // Nombre del módulo\r\n      actions: this.formBuilder.group({\r\n        create: [false], // Checkbox para \"Crear\"\r\n        read: [false],   // Checkbox para \"Leer\"\r\n        update: [false], // Checkbox para \"Actualizar\"\r\n        delete: [false]  // Checkbox para \"Eliminar\"\r\n      })\r\n    });\r\n  }\r\n\r\n  setFormGroup(): void {\r\n    this.formRole = this.formBuilder.group({\r\n        idRole: [0],\r\n        name: ['', [Validators.required]],\r\n        roleModules: this.formBuilder.array([])\r\n    });\r\n  }\r\n\r\n  async setRoleModulesFormArray(): Promise<void> {\r\n    const modules = await firstValueFrom(this.moduleService.getAll());\r\n\r\n    for (let module of modules) {\r\n        this.roleModules.push(this.createItem(module));\r\n    }\r\n  }\r\n\r\n  async loadData(): Promise<void> {\r\n    if(this.roleId > 0) {\r\n      await firstValueFrom(this.roleService.getById(this.roleId)).then(\r\n        role => {\r\n          this.formRole.patchValue({\r\n            ...role\r\n          });\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  save(): void {\r\n    this.formRole.markAllAsTouched();\r\n\r\n    if (!this.formRole.valid) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if(this.action == ActionEnum.Create) {\r\n        this.roleService.create(this.formRole.value).subscribe(e => {\r\n          this.redirectToList();\r\n        });\r\n      } else {\r\n        this.roleService.update(this.roleId, this.formRole.value).subscribe(e => {\r\n            this.redirectToList();\r\n        });\r\n      }\r\n    } catch(e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  cancel(): void {\r\n    this.redirectToList();\r\n  }\r\n\r\n  redirectToList(): void {\r\n    this.route.navigate(['/user-management/roles']);\r\n  }\r\n}\r\n","<form [formGroup]=\"formRole\" class=\"row g-3\">\r\n    <div class=\"text-end\">\r\n      <button class=\"btn btn-success me-2\" (click)=\"save()\">{{ 'Button.Save' | translate }}</button>\r\n      <button class=\"btn btn-outline-secondary\" (click)=\"cancel()\">{{ 'Button.Cancel' | translate }}</button>\r\n    </div>\r\n\r\n    <div class=\"col-md-12\">\r\n        <label for=\"name\" class=\"form-label\">{{ 'Commons.Name' | translate }}</label>\r\n        <input type=\"text\" formControlName=\"name\" class=\"form-control\" id=\"name\" placeholder=\"{{ 'Commons.Name' | translate }}\">\r\n        <div *ngIf=\"formRole.controls['name']?.invalid && formRole.controls['name']?.touched\" class=\"text-danger\">\r\n            <small *ngIf=\"formRole.controls['name']?.errors?.['required']\">{{ 'Validations.FieldRequired' | translate }}</small>\r\n        </div>\r\n    </div>\r\n\r\n    <h4> {{ \"Role.RoleModulePermissions\" | translate }} </h4>\r\n\r\n    <div formArrayName=\"roleModules\" class=\"text-center\">\r\n        <div *ngFor=\"let item of roleModules.controls; let i = index\" [formGroupName]=\"i\" class=\"col-md-12\">\r\n            <div formGroupName=\"actions\">\r\n                <label class=\"col-md-2 moduleName\">\r\n                    {{ \"Modules.\" + item.get('moduleName')?.value | translate }}\r\n                </label>\r\n                <label class=\"col-md-2\">\r\n                    <input type=\"checkbox\" class=\"form-check-input\" formControlName=\"create\"> {{ 'Crud.Create' | translate }}\r\n                </label>\r\n                <label class=\"col-md-2\">\r\n                    <input type=\"checkbox\" class=\"form-check-input\" formControlName=\"read\"> {{ 'Crud.Read' | translate }}\r\n                </label>\r\n                <label class=\"col-md-2\">\r\n                    <input type=\"checkbox\" class=\"form-check-input\" formControlName=\"update\"> {{ 'Crud.Update' | translate }}\r\n                </label>\r\n                <label class=\"col-md-2\">\r\n                    <input type=\"checkbox\" class=\"form-check-input\" formControlName=\"delete\"> {{ 'Crud.Delete' | translate }}\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  </form>","import { AfterViewInit, Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { ActionEnum, SelectComponent, SelectIdEnum } from 'commons-lib';\r\nimport { UserService } from '../../services/user.service';\r\nimport { CreateUserDTO, UpdateUserDTO, UserDTO } from '../../models/user.model';\r\nimport { RoleService } from '../../services/role.service';\r\nimport { RoleDTO } from '../../models/role.model';\r\nimport { AbstractControl, FormBuilder, FormGroup, ReactiveFormsModule, ValidationErrors, ValidatorFn, Validators } from '@angular/forms';\r\nimport { firstValueFrom } from 'rxjs';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-user',\r\n  standalone: true,\r\n  imports: [TranslateModule, ReactiveFormsModule, CommonModule, SelectComponent],\r\n  templateUrl: './user.component.html',\r\n  styleUrl: './user.component.css'\r\n})\r\nexport class UserComponent implements OnInit, AfterViewInit {\r\n  @Input() userId: number = 0;\r\n  @Input() action!: ActionEnum;\r\n\r\n  @ViewChild('roleSelect') roleSelect: SelectComponent | undefined;\r\n\r\n  userData: UserDTO = new UserDTO();\r\n  roleList: RoleDTO[] = [];\r\n  selectId: SelectIdEnum = SelectIdEnum.ListCourt;\r\n  editAction: ActionEnum = ActionEnum.Edit;\r\n\r\n  public formUser: FormGroup = new FormGroup({});\r\n\r\n  constructor(\r\n      public translate: TranslateService,\r\n      private readonly userService: UserService,\r\n      private readonly roleService: RoleService,\r\n      private readonly formBuilder: FormBuilder,\r\n      private route: Router,\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.setFormGroup();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.loadData();\r\n  }\r\n\r\n  setFormGroup(): void {\r\n    if(this.action == ActionEnum.Create) {\r\n      this.formUser = this.formBuilder.group({\r\n        name: ['', [Validators.required]],\r\n        email: ['', [Validators.required, Validators.email]],\r\n        password: ['', [Validators.required]],\r\n        phone: ['', [Validators.required, Validators.pattern(/^\\d{6,10}$/)]],\r\n        role: [{ id: '-1' }, [Validators.required, this.invalidRoleValidator()]]\r\n      });\r\n    } else {\r\n      this.formUser = this.formBuilder.group({\r\n        idUser: [this.userId],\r\n        name: ['', [Validators.required]],\r\n        role: [{ id: '-1' }, [Validators.required, this.invalidRoleValidator()]],\r\n        isActive: [true]\r\n      });\r\n    }\r\n  }\r\n\r\n  async loadData(): Promise<void> {\r\n    if(this.userId > 0) {\r\n      await firstValueFrom(this.userService.getById(this.userId)).then(\r\n        user => {\r\n          this.userData = user;\r\n          this.formUser.patchValue({\r\n            ...user,\r\n            role: { id: user.roleId.toString() }\r\n          });\r\n        }\r\n      );\r\n    }\r\n\r\n    this.roleService.getAll().subscribe((roles: RoleDTO[]) => {\r\n      this.roleList = roles;\r\n\r\n      if(this.roleSelect) {\r\n        const items = RoleDTO.transformToSelectDto(this.roleList);\r\n        this.roleSelect.items = items;\r\n\r\n        if(this.action == ActionEnum.Edit) {\r\n          this.roleSelect.empty = false;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  save(): void {\r\n    this.formUser.markAllAsTouched();\r\n    \r\n    console.log(this.formUser);\r\n\r\n    if (!this.formUser.valid) {\r\n      return;\r\n    }\r\n\r\n    // Llamar servicio de creación!\r\n    try {\r\n      if(this.action == ActionEnum.Create) {\r\n        const payload: CreateUserDTO = {\r\n          name: this.formUser.value.name,\r\n          email: this.formUser.value.email,\r\n          password: this.formUser.value.password,\r\n          phone: this.formUser.value.phone,\r\n          RoleId: Number(this.formUser.value.role.id)\r\n        };\r\n\r\n        console.log('payload:' , payload);\r\n\r\n        this.userService.create(payload).subscribe(e => {\r\n          this.redirectToList();\r\n        });\r\n      } else {\r\n        const payload:UpdateUserDTO = {\r\n          idUser: this.userId,\r\n          name: this.formUser.value.name,\r\n          isActive: this.formUser.value.isActive,\r\n          newUserRoleId: Number(this.formUser.value.role.id)\r\n        };\r\n\r\n        this.userService.update(payload).subscribe(e => {\r\n          this.redirectToList();\r\n        });\r\n      }\r\n    } catch(e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  cancel(): void {\r\n    this.redirectToList();\r\n  }\r\n\r\n  // Validador personalizado para verificar si el id es \"-1\"\r\n  invalidRoleValidator(): ValidatorFn {\r\n    return (control: AbstractControl): ValidationErrors | null => {\r\n      if (control.value && control.value.id === '-1') {\r\n        return { invalidRole: true }; // Retorna un error si el id es '-1'\r\n      }\r\n      return null; // Retorna null si el valor es válido\r\n    };\r\n  }\r\n\r\n  redirectToList(): void {\r\n    this.route.navigate(['/user-management/users']);\r\n  }\r\n}\r\n","<form [formGroup]=\"formUser\" class=\"row g-3\">\r\n  <div class=\"text-end\">\r\n    <button class=\"btn btn-success me-2\" (click)=\"save()\">{{ 'Button.Save' | translate }}</button>\r\n    <button class=\"btn btn-outline-secondary\" (click)=\"cancel()\">{{ 'Button.Cancel' | translate }}</button>\r\n  </div>\r\n\r\n  <div [ngClass]=\"{'col-md-7': action == editAction, 'col-md-3': action != editAction}\">\r\n    <label for=\"name\" class=\"form-label\">{{ 'Commons.Name' | translate }}</label>\r\n    <input type=\"text\" formControlName=\"name\" class=\"form-control\" id=\"name\" placeholder=\"{{ 'Commons.Name' | translate }}\">\r\n    <div *ngIf=\"formUser.controls['name']?.invalid && formUser.controls['name']?.touched\" class=\"text-danger\">\r\n      <small *ngIf=\"formUser.controls['name']?.errors?.['required']\">{{ 'Validations.FieldRequired' | translate }}</small>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"col-md-3\" *ngIf=\"action != editAction\">\r\n    <label for=\"userEmail\" class=\"form-label\">{{ 'Commons.Email' | translate }}</label>\r\n    <input type=\"email\" formControlName=\"email\" class=\"form-control\" id=\"userEmail\" placeholder=\"{{ 'Commons.Email' | translate }}\">\r\n    <div *ngIf=\"formUser.controls['email']?.invalid && formUser.controls['email']?.touched\" class=\"text-danger\">\r\n      <small *ngIf=\"formUser.controls['email']?.errors?.['required']\">{{ 'Validations.FieldRequired' | translate }}</small>\r\n      <small *ngIf=\"formUser.controls['email']?.errors?.['email']\">{{ 'Validations.FieldInvalidName' | translate }}</small>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"col-md-2\" *ngIf=\"action != editAction\">\r\n    <label for=\"password\" class=\"form-label\">{{ 'Commons.Password' | translate }}</label>\r\n    <input type=\"password\" formControlName=\"password\" class=\"form-control\" id=\"password\" placeholder=\"{{ 'Commons.Password' | translate }}\">\r\n    <div *ngIf=\"formUser.controls['password']?.invalid && formUser.controls['password']?.touched\" class=\"text-danger\">\r\n      <small *ngIf=\"formUser.controls['password']?.errors?.['required']\">{{ 'Validations.FieldRequired' | translate }}</small>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"col-md-2\" *ngIf=\"action != editAction\">\r\n    <label for=\"phone\" class=\"form-label\">{{ 'Commons.Phone' | translate }}</label>\r\n    <input type=\"text\" formControlName=\"phone\" class=\"form-control\" id=\"phone\" minlength=\"6\" maxlength=\"10\" placeholder=\"{{ 'Commons.Phone' | translate }}\">\r\n    <div *ngIf=\"formUser.controls['phone']?.invalid && formUser.controls['phone']?.touched\" class=\"text-danger\">\r\n      <small *ngIf=\"formUser.controls['phone']?.errors?.['required']\">{{ 'Validations.FieldRequired' | translate }}</small>\r\n      <small *ngIf=\"formUser.controls['phone']?.errors?.['pattern']\">{{ 'Validations.FieldOnlyNumberMinLength6' | translate }}</small>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]=\"{'col-md-3': action == editAction, 'col-md-2': action != editAction}\">\r\n    <label for=\"exampleColorInput\" class=\"form-label\">{{ 'Commons.Role' | translate }}</label>\r\n    <lib-select [selectId]=\"selectId\" formControlName=\"role\" [useCustomItems]=\"true\" #roleSelect></lib-select>\r\n    <div *ngIf=\"formUser.controls['role']?.touched && formUser.get('role')?.hasError('invalidRole')\"  class=\"text-danger\">\r\n      <small>{{ 'Validations.FieldRequired' | translate }}</small>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"col-md-2\" *ngIf=\"action == editAction\">\r\n    <label for=\"exampleColorInput\" class=\"form-label\">{{ 'Commons.State' | translate }}</label>\r\n    <div class=\"form-check\">\r\n        <input type=\"checkbox\" formControlName=\"isActive\" class=\"form-check-input\" id=\"isActive\">\r\n        <label class=\"form-check-label\" for=\"isActive\">\r\n          {{ formUser.controls['isActive'].value ? ('Commons.Active' | translate) : ('Commons.Inactive' | translate) }}\r\n        </label>\r\n    </div>\r\n  </div>\r\n</form>","export class RoleDTO {\r\n    idRole!: number;\r\n    name!: string;\r\n\r\n    static transformToSelectDto(data: RoleDTO[]): { id: string, text: string }[] {\r\n        return data.map(e => ({\r\n            id: e.idRole.toString(),\r\n            text: e.name\r\n        }));\r\n    }\r\n}\r\n\r\nexport class RoleItemDTO {\r\n    idRole?: number;\r\n    name!: string;\r\n    roleModules?: RoleModulesDTO[];\r\n}\r\n\r\nexport class RoleModulesDTO {\r\n    idModule!: number;\r\n    moduleName!: string;\r\n    modulePath?: string;\r\n    actions!: {\r\n        create: boolean;\r\n        read: boolean;\r\n        update: boolean;\r\n        delete: boolean;\r\n    }\r\n}","export class UserDTO {\r\n    idUser!: number;\r\n    name!: string;\r\n    phone?: string;\r\n    email!: string;\r\n    roleId!: number | string;\r\n    roleName?: string;\r\n    isActive!: boolean;\r\n    isAdmin!: boolean;\r\n}\r\n\r\nexport class CreateUserDTO {\r\n    name!: string;\r\n    phone!: string;\r\n    email!: string;\r\n    password!: string;\r\n    RoleId!: number;\r\n}\r\n\r\nexport class UpdateUserDTO {\r\n    idUser!: number;\r\n    name!: string;\r\n    isActive!: boolean;\r\n    newUserRoleId!: number;\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ActionEnum } from 'commons-lib';\r\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { RoleComponent } from '../../components/role/role.component';\r\n\r\n@Component({\r\n  selector: 'app-user.page',\r\n  standalone: true,\r\n  imports: [RoleComponent, TranslateModule],\r\n  templateUrl: './role.page.component.html',\r\n  styleUrl: './role.page.component.css'\r\n})\r\nexport class RolePageComponent implements OnInit {\r\n  roleId!: number;\r\n  action!: ActionEnum;\r\n  title: string = '';\r\n\r\n  constructor(\r\n    public translate: TranslateService,\r\n    private route: ActivatedRoute\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.route.paramMap.subscribe(params => {\r\n      this.roleId = Number(params.get('id'));\r\n    });\r\n    this.action = this.route.snapshot.data['actionState'];\r\n\r\n    this.setTitle();\r\n  }\r\n\r\n  setTitle(): void {\r\n    switch(this.action) {\r\n      case ActionEnum.Create:\r\n        this.title = 'Role.Create';\r\n        break;\r\n      case ActionEnum.Edit: \r\n        this.title = \"Role.Edit\";\r\n        break;\r\n    } \r\n  }\r\n}\r\n","<div class=\"card\">\r\n    <div class=\"card-header\">\r\n        <h4 class=\"card-title\">{{ title | translate }}</h4>\r\n    </div>\r\n    <div class=\"card-body\">        \r\n        <app-role [roleId]=\"roleId\" [action]=\"action\"></app-role>\r\n    </div>\r\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { catchError, Subject, Subscription, switchMap, throwError } from 'rxjs';\r\nimport { Router, RouterLink } from '@angular/router';\r\nimport {\r\n  DropdownComponent,\r\n  DropdownItemModel,\r\n  ActionEnum,\r\n  ConfirmModalComponent,\r\n  ConfirmModalModel,\r\n  NotificationService,\r\n  PermissionLibService,\r\n  ModulesEnum,\r\n  ModuleActionsEnum\r\n} from 'commons-lib';\r\nimport { RoleDTO } from '../../models/role.model';\r\nimport { RoleService } from '../../services/role.service';\r\n\r\n@Component({\r\n  selector: 'roles-list.page',\r\n  standalone: true,\r\n  imports: [\r\n    TranslateModule,\r\n    CommonModule,\r\n    DropdownComponent,\r\n    ConfirmModalComponent,\r\n    RouterLink\r\n  ],\r\n  templateUrl: './roles-list.page.component.html',\r\n  styleUrl: './roles-list.page.component.css'\r\n})\r\nexport class RolesListComponent implements OnInit {\r\n  @ViewChild('confirmDeleteModal') confirmDeleteModal!: ConfirmModalComponent;\r\n\r\n  private readonly subscription: Subscription = new Subscription();\r\n  private reloadRoles$ = new Subject<void>();\r\n\r\n  roles: RoleDTO[] | undefined;\r\n  confirmModalData: ConfirmModalModel = new ConfirmModalModel();\r\n\r\n  private actionsCallbacks: Map<ActionEnum, Function> = new Map();\r\n\r\n  /* actions permission */\r\n  public allowCreate: boolean = false;\r\n  public allowUpdate: boolean = false;\r\n  public allowDelete: boolean = false;\r\n\r\n  constructor(\r\n      public translate: TranslateService,\r\n      private readonly roleService: RoleService,\r\n      private readonly notificationService: NotificationService,\r\n      private readonly permissionLibService: PermissionLibService,\r\n      private readonly router: Router\r\n    ) {\r\n      [this.allowCreate, this.allowUpdate, this.allowDelete] = this.permissionLibService.hasMultiplePermissionToComponent(\r\n        ModulesEnum.Roles,\r\n        [\r\n          ModuleActionsEnum.Create,\r\n          ModuleActionsEnum.Update,\r\n          ModuleActionsEnum.Delete\r\n        ]\r\n      );\r\n    }\r\n  \r\n    ngOnInit(): void {\r\n      this.loadRoles();\r\n      this.loadActions();\r\n      this.loadConfirmModalData();\r\n    }\r\n\r\n    loadConfirmModalData(): void {\r\n      this.confirmModalData = {\r\n        title: this.translate.instant('Role.DeleteRole'),\r\n        body: this.translate.instant('Role.ConfirmDeleteRole'),\r\n        confirmLabel: this.translate.instant('Button.Yes'),\r\n        cancelLabel: this.translate.instant('Button.No')\r\n      };\r\n    }\r\n  \r\n    loadRoles(): void {\r\n      this.subscription.add(\r\n        this.reloadRoles$.pipe(\r\n          switchMap(() => this.roleService.getAll())\r\n        ).subscribe((roles: RoleDTO[]) => {\r\n          this.roles = roles;\r\n        })\r\n      );\r\n    \r\n      this.reloadRoles$.next();\r\n    }\r\n\r\n    loadActions(): void {\r\n      this.actionsCallbacks.set(ActionEnum.Edit, (roleId: number) => this.editRole(roleId));\r\n      this.actionsCallbacks.set(ActionEnum.Delete, (roleId: number) => this.deleteRole(roleId));\r\n    }\r\n\r\n    loadActionItems(roleId: number): DropdownItemModel[] {\r\n      const actions: DropdownItemModel[] = [\r\n        {\r\n          id: roleId,\r\n          name: this.translate.instant('Button.Edit'),\r\n          disabled: false,\r\n          action: ActionEnum.Edit\r\n        },\r\n        {\r\n          id: roleId,\r\n          name: this.translate.instant('Button.Delete'),\r\n          disabled: false,\r\n          action: ActionEnum.Delete\r\n        }\r\n      ];\r\n\r\n      return actions;\r\n    }\r\n\r\n    handleAction(actionItem: DropdownItemModel) {\r\n      const action = this.actionsCallbacks.get(actionItem.action);\r\n\r\n      if(action) {\r\n        action(actionItem.id);\r\n      }\r\n    }\r\n\r\n    editRole(roleId: number): void {\r\n      this.router.navigate([`/user-management/role-edit/${roleId}`]);\r\n    }\r\n\r\n    deleteRole(roleId: number): void {\r\n      const role = this.roles?.find(e => e.idRole == roleId);\r\n      \r\n      if(role) {\r\n        this.confirmModalData.boldBody = role.name;\r\n        this.confirmDeleteModal.openModal(roleId);\r\n      }\r\n    }\r\n\r\n    onConfirmDelete(roleId: number): void {\r\n        this.roleService.delete(roleId).pipe(\r\n            catchError(error => {\r\n                const errorMsg = this.translate.instant(\"Role.RoleDeletedError\");\r\n                this.notificationService.ErrorNotification(errorMsg);\r\n                console.error('Error en la petición:', error);\r\n                return throwError(() => new Error(errorMsg));\r\n            })\r\n            ).subscribe(data => {\r\n                this.notificationService.SuccesNotification(this.translate.instant(\"Role.RoleDeleted\"));\r\n                this.reloadRoles$.next();\r\n            });\r\n    }\r\n}\r\n","<div class=\"card\">\r\n    <div class=\"card-header\">\r\n        <div class=\"card-title\">{{ 'Title.Roles' | translate }}</div>\r\n    </div>\r\n    <div class=\"card-body\">\r\n        <div class=\"mb-2\">\r\n            <a *ngIf=\"allowCreate\" routerLink=\"/user-management/role-create\" class=\"btn btn-success\" #btnFoco>{{ 'Role.Create' | translate }}</a>\r\n        </div>\r\n        <table class=\"table table-head-bg-primary\">\r\n            <thead>\r\n                <tr>\r\n                    <th scope=\"col\">#</th>\r\n                    <th scope=\"col\" style=\"width: 80%;\">{{ 'Commons.Name' | translate }}</th>\r\n                    <th scope=\"col\" *ngIf=\"allowUpdate || allowDelete\">\r\n                        {{ 'Commons.Action' | translate }}\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                @for (rol of roles; track rol; let i = $index) {\r\n                    <tr>\r\n                        <td>{{ i + 1 }}</td>\r\n                        <td>{{ rol.name }}</td>\r\n                        <td *ngIf=\"allowUpdate || allowDelete\">\r\n                            <lib-dropdown\r\n                                placeholder=\"{{ 'Commons.Action' | translate }}\"\r\n                                emptyItemsLabel=\"{{ 'Commons.ElementsNotFound' | translate }}\"\r\n                                [items]=\"loadActionItems(rol.idRole)\"\r\n                                (actionButtonClick)=\"handleAction($event)\"\r\n                            ></lib-dropdown>\r\n                        </td>\r\n                    </tr>\r\n                }\r\n                @empty {\r\n                    <td colspan=\"7\">\r\n                        <h5>{{ 'Commons.ElementsNotFound' | translate }}</h5>\r\n                    </td>\r\n                }\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>\r\n\r\n<lib-confirm-modal\r\n    [data]=\"confirmModalData\"\r\n    (confirmButtonClick)=\"onConfirmDelete($event)\"\r\n    #confirmDeleteModal\r\n></lib-confirm-modal>","import { Component, OnInit } from '@angular/core';\r\nimport { UserComponent } from \"../../components/user/user.component\";\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ActionEnum } from 'commons-lib';\r\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-user.page',\r\n  standalone: true,\r\n  imports: [UserComponent, TranslateModule],\r\n  templateUrl: './user.page.component.html',\r\n  styleUrl: './user.page.component.css'\r\n})\r\nexport class UserPageComponent implements OnInit {\r\n  userId!: number;\r\n  action!: ActionEnum;\r\n  title: string = '';\r\n\r\n  constructor(\r\n    public translate: TranslateService,\r\n    private route: ActivatedRoute\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.route.paramMap.subscribe(params => {\r\n      this.userId = Number(params.get('id'));\r\n    });\r\n    this.action = this.route.snapshot.data['actionState'];\r\n\r\n    this.setTitle();\r\n  }\r\n\r\n  setTitle(): void {\r\n    switch(this.action) {\r\n      case ActionEnum.Create:\r\n        this.title = 'User.Create';\r\n        break;\r\n      case ActionEnum.Edit: \r\n        this.title = \"User.Edit\";\r\n        break;\r\n    } \r\n  }\r\n}\r\n","<div class=\"card\">\r\n    <div class=\"card-header\">\r\n        <h4 class=\"card-title\">{{ title | translate }}</h4>\r\n    </div>\r\n    <div class=\"card-body\">        \r\n        <app-user [userId]=\"userId\" [action]=\"action\"></app-user>\r\n    </div>\r\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { Subject, Subscription, switchMap } from 'rxjs';\r\nimport { UserDTO } from '../../models/user.model';\r\nimport { UserService } from '../../services/user.service';\r\nimport { Router, RouterLink } from '@angular/router';\r\nimport {\r\n  DropdownComponent,\r\n  DropdownItemModel,\r\n  ActionEnum,\r\n  ConfirmModalComponent,\r\n  ConfirmModalModel,\r\n  NotificationService,\r\n  PermissionLibService,\r\n  ModulesEnum,\r\n  ModuleActionsEnum\r\n} from 'commons-lib';\r\n\r\n@Component({\r\n  selector: 'users-list.page',\r\n  standalone: true,\r\n  imports: [\r\n    TranslateModule,\r\n    CommonModule,\r\n    DropdownComponent,\r\n    ConfirmModalComponent,\r\n    RouterLink\r\n],\r\n  templateUrl: './users-list.page.component.html',\r\n  styleUrl: './users-list.page.component.css'\r\n})\r\nexport class UsersListComponent implements OnInit {\r\n  @ViewChild('confirmDeleteModal') confirmDeleteModal!: ConfirmModalComponent;\r\n\r\n  private readonly subscription: Subscription = new Subscription();\r\n  private reloadUsers$ = new Subject<void>();\r\n\r\n  users: UserDTO[] | undefined;\r\n  confirmModalData: ConfirmModalModel = new ConfirmModalModel();\r\n\r\n  private actionsCallbacks: Map<ActionEnum, Function> = new Map();\r\n\r\n  /* actions permission */\r\n  public allowCreate: boolean = false;\r\n  public allowUpdate: boolean = false;\r\n  public allowDelete: boolean = false;\r\n\r\n  constructor(\r\n      public translate: TranslateService,\r\n      private readonly userService: UserService,\r\n      private readonly notificationService: NotificationService,\r\n      private readonly permissionLibService: PermissionLibService,\r\n      private readonly router: Router\r\n    ) {\r\n      /*this.allowCreate = this.permissionLibService.hasPermissionToComponent(\r\n        ModulesEnum.Users,\r\n        ModuleActionsEnum.Create\r\n      );\r\n      this.allowUpdate = this.permissionLibService.hasPermissionToComponent(\r\n        ModulesEnum.Users,\r\n        ModuleActionsEnum.Update\r\n      );\r\n      this.allowDelete = this.permissionLibService.hasPermissionToComponent(\r\n        ModulesEnum.Users,\r\n        ModuleActionsEnum.Delete\r\n      );*/\r\n\r\n      [this.allowCreate, this.allowUpdate, this.allowDelete] = this.permissionLibService.hasMultiplePermissionToComponent(\r\n        ModulesEnum.Users,\r\n        [\r\n          ModuleActionsEnum.Create,\r\n          ModuleActionsEnum.Update,\r\n          ModuleActionsEnum.Delete\r\n        ]\r\n      );\r\n    }\r\n  \r\n    ngOnInit(): void {\r\n      this.loadUsers();\r\n      this.loadActions();\r\n      this.loadConfirmModalData();\r\n    }\r\n\r\n    loadConfirmModalData(): void {\r\n      this.confirmModalData = {\r\n        title: this.translate.instant('User.DeleteUser'),\r\n        body: this.translate.instant('User.ConfirmDeleteUser'),\r\n        confirmLabel: this.translate.instant('Button.Yes'),\r\n        cancelLabel: this.translate.instant('Button.No')\r\n      };\r\n    }\r\n  \r\n    loadUsers(): void {\r\n      this.subscription.add(\r\n        this.reloadUsers$.pipe(\r\n          switchMap(() => this.userService.getAll())\r\n        ).subscribe((users: UserDTO[]) => {\r\n          this.users = users;\r\n        })\r\n      );\r\n    \r\n      this.reloadUsers$.next();\r\n    }\r\n\r\n    loadActions(): void {\r\n      this.actionsCallbacks.set(ActionEnum.Edit, (userId: number) => this.editUser(userId));\r\n      this.actionsCallbacks.set(ActionEnum.Delete, (userId: number) => this.deleteUser(userId));\r\n    }\r\n\r\n    loadActionItems(userId: number): DropdownItemModel[] {\r\n      let actions: DropdownItemModel[] = [];\r\n\r\n      if(this.allowUpdate) {\r\n        actions.push({\r\n          id: userId,\r\n          name: this.translate.instant('Button.Edit'),\r\n          disabled: false,\r\n          action: ActionEnum.Edit\r\n        });\r\n      }\r\n      \r\n      if(this.allowDelete) {\r\n        actions.push({\r\n          id: userId,\r\n          name: this.translate.instant('Button.Delete'),\r\n          disabled: false,\r\n          action: ActionEnum.Delete\r\n        });\r\n      }\r\n\r\n      return actions;\r\n    }\r\n\r\n    handleAction(actionItem: DropdownItemModel) {\r\n      const action = this.actionsCallbacks.get(actionItem.action);\r\n\r\n      if(action) {\r\n        action(actionItem.id);\r\n      }\r\n    }\r\n\r\n    editUser(userId: number): void {\r\n      this.router.navigate([`/user-management/user-edit/${userId}`]);\r\n    }\r\n\r\n    deleteUser(userId: number): void {\r\n      const user = this.users?.find(e => e.idUser == userId);\r\n      \r\n      if(user) {\r\n        this.confirmModalData.boldBody = user.name;\r\n        this.confirmDeleteModal.openModal(userId);\r\n      }\r\n    }\r\n\r\n    onConfirmDelete(userId: number): void {\r\n      this.userService.delete(userId).subscribe(() => {\r\n        this.notificationService.SuccesNotification(this.translate.instant(\"User.UserDeleted\"));\r\n        this.reloadUsers$.next();\r\n      });\r\n    }\r\n}\r\n","<div class=\"card\">\r\n    <div class=\"card-header\">\r\n        <div class=\"card-title\">{{ 'Title.Users' | translate }}</div>\r\n    </div>\r\n    <div class=\"card-body\">\r\n        <div class=\"mb-2\">\r\n            <a *ngIf=\"allowCreate\" routerLink=\"/user-management/user-create\" class=\"btn btn-success\" #btnFoco>{{ 'User.Create' | translate }}</a>\r\n        </div>\r\n        <table class=\"table table-head-bg-primary\">\r\n            <thead>\r\n                <tr>\r\n                    <th scope=\"col\">#</th>\r\n                    <th scope=\"col\">{{ 'Commons.Name' | translate }}</th>\r\n                    <th scope=\"col\">{{ 'Commons.Role' | translate }}</th>\r\n                    <th scope=\"col\">{{ 'Commons.Email' | translate }}</th>\r\n                    <th scope=\"col\">{{ 'Commons.State' | translate }}</th>\r\n                    <th scope=\"col\" *ngIf=\"allowUpdate || allowDelete\">\r\n                        {{ 'Commons.Action' | translate }}\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                @for (user of users; track user; let i = $index) {\r\n                    <tr>\r\n                        <td>{{ i + 1 }}</td>\r\n                        <td>{{ user.name }}</td>\r\n                        <td>{{ user.roleName ?? 'Admin' }}</td>\r\n                        <td>{{ user.email }}</td>\r\n                        <td>\r\n                            <span \r\n                                class=\"badge btn-sm\"\r\n                                [ngClass]=\"{'badge-success': user.isActive, 'badge-danger': !user.isActive}\"\r\n                            >\r\n                                {{ 'Commons.'+user.isActive | translate }}\r\n                            </span>\r\n                        </td>\r\n                        <td *ngIf=\"allowUpdate || allowDelete\">\r\n                            <lib-dropdown\r\n                                placeholder=\"{{ 'Commons.Action' | translate }}\"\r\n                                emptyItemsLabel=\"{{ 'Commons.ElementsNotFound' | translate }}\"\r\n                                [items]=\"loadActionItems(user.idUser)\"\r\n                                (actionButtonClick)=\"handleAction($event)\"\r\n                            ></lib-dropdown>\r\n                        </td>\r\n                    </tr>\r\n                }\r\n                @empty {\r\n                    <td colspan=\"7\">\r\n                        <h5>{{ 'Commons.ElementsNotFound' | translate }}</h5>\r\n                    </td>\r\n                }\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>\r\n\r\n<lib-confirm-modal\r\n    [data]=\"confirmModalData\"\r\n    (confirmButtonClick)=\"onConfirmDelete($event)\"\r\n    #confirmDeleteModal\r\n></lib-confirm-modal>","// Get all Roles\r\n// Get all modules\r\n// Get role by id\r\n// Save role -> Llamar al GetAllRolesByModule\r\n// Update role -> Llamar al GetAllRolesByModule\r\n// Delete role\r\n// GetAllRolesByModule -> Actualizar en localStorage!\r\n\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { ApiEnum } from \"commons-lib\";\r\nimport { Observable } from \"rxjs\";\r\nimport { UserDTO } from \"../models/user.model\";\r\nimport { ModuleDTO } from \"../models/module.model\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ModuleService {\r\n\r\n    apiUrl: string = ApiEnum.Module;\r\n\r\n    constructor(private readonly http: HttpClient) {\r\n    }\r\n\r\n    getAll(): Observable<ModuleDTO[]> {\r\n        return this.http.get<ModuleDTO[]>(`${this.apiUrl}`);\r\n    }\r\n}\r\n\r\n","// Get all Roles\r\n// Get all modules\r\n// Get role by id\r\n// Save role -> Llamar al GetAllRolesByModule\r\n// Update role -> Llamar al GetAllRolesByModule\r\n// Delete role\r\n// GetAllRolesByModule -> Actualizar en localStorage!\r\n\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { ApiEnum } from \"commons-lib\";\r\nimport { Observable } from \"rxjs\";\r\nimport { RoleItemDTO, RoleDTO } from \"../models/role.model\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RoleService {\r\n\r\n    apiUrl: string = ApiEnum.Role;\r\n\r\n    constructor(\r\n      private readonly http: HttpClient\r\n    ) {}\r\n\r\n    getAll(): Observable<RoleDTO[]> {\r\n        return this.http.get<RoleDTO[]>(`${this.apiUrl}`);\r\n    }\r\n\r\n    getById(roleId: number): Observable<RoleItemDTO> {\r\n      return this.http.get<RoleItemDTO>(`${this.apiUrl}${roleId}`);\r\n    }\r\n\r\n    delete(roleId: number): Observable<number> {\r\n      return this.http.delete<number>(`${this.apiUrl}${roleId}`);\r\n    }\r\n\r\n    create(data: RoleItemDTO): Observable<any> {\r\n      return this.http.post(`${this.apiUrl}`, data);\r\n    }\r\n\r\n    update(roleId: number, data: RoleItemDTO): Observable<any> {\r\n      return this.http.put(`${this.apiUrl}${roleId}`, data);\r\n    }\r\n}\r\n\r\n","import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { ApiEnum } from \"commons-lib\";\r\nimport { Observable } from \"rxjs\";\r\nimport { CreateUserDTO, UpdateUserDTO, UserDTO } from \"../models/user.model\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserService {\r\n\r\n    apiUrl: string = ApiEnum.User;\r\n\r\n    constructor(private readonly http: HttpClient) {\r\n    }\r\n\r\n    getAll(): Observable<UserDTO[]> {\r\n        return this.http.get<UserDTO[]>(`${this.apiUrl}GetAll`);\r\n    }\r\n\r\n    getById(userId: number): Observable<UserDTO> {\r\n      return this.http.get<UserDTO>(`${this.apiUrl}${userId}`);\r\n    }\r\n\r\n    create(data: CreateUserDTO): Observable<any> {\r\n      return this.http.post(`${this.apiUrl}`, data);\r\n    }\r\n\r\n    update(data: UpdateUserDTO): Observable<number> {\r\n      return this.http.put<number>(`${this.apiUrl}`, data);\r\n    }\r\n\r\n    delete(userId: number): Observable<number> {\r\n      return this.http.delete<number>(`${this.apiUrl}${userId}`);\r\n    }\r\n}\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AppRoutingModule } from './app-routing.module';\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    AppRoutingModule\r\n  ]\r\n})\r\nexport class UserModule { }\r\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}"],"names":["RouterModule","UsersListComponent","UserPageComponent","ActionEnum","ModulesEnum","ModuleActionsEnum","permissionGuard","RolesListComponent","RolePageComponent","routes","path","component","data","parentModule","Users","parentModuleAction","Read","canActivate","actionState","Create","Edit","Update","Roles","redirectTo","pathMatch","AppRoutingModule","forChild","imports","i1","exports","TranslateModule","UserDTO","FormGroup","ReactiveFormsModule","Validators","firstValueFrom","CommonModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind1","ɵɵtemplate","RoleComponent_div_14_small_1_Template","ɵɵproperty","ctx_r0","formRole","controls","errors","ɵɵelement","i_r3","ɵɵtextInterpolate1","tmp_4_0","item_r2","get","value","RoleComponent","constructor","translate","moduleService","roleService","formBuilder","route","roleId","roleData","editAction","ngOnInit","setFormGroup","ngAfterViewInit","setRoleModulesFormArray","Promise","resolve","then","loadData","roleModules","createItem","module","group","idModule","moduleName","name","actions","create","read","update","delete","idRole","required","array","_this","_asyncToGenerator","modules","getAll","push","_this2","getById","role","patchValue","save","markAllAsTouched","valid","action","subscribe","e","redirectToList","console","error","cancel","navigate","ɵɵdirectiveInject","TranslateService","i2","ModuleService","i3","RoleService","i4","FormBuilder","i5","Router","selectors","inputs","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","RoleComponent_Template","rf","ctx","ɵɵlistener","RoleComponent_Template_button_click_2_listener","RoleComponent_Template_button_click_5_listener","RoleComponent_div_14_Template","RoleComponent_div_19_Template","ɵɵpropertyInterpolate","invalid","touched","TranslatePipe","ɵNgNoValidate","DefaultValueAccessor","CheckboxControlValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","FormGroupName","FormArrayName","i6","NgForOf","NgIf","styles","SelectComponent","SelectIdEnum","RoleDTO","UserComponent_div_14_small_1_Template","ctx_r1","formUser","UserComponent_div_15_div_6_small_1_Template","UserComponent_div_15_div_6_small_2_Template","UserComponent_div_15_div_6_Template","UserComponent_div_16_div_6_small_1_Template","UserComponent_div_16_div_6_Template","UserComponent_div_17_div_6_small_1_Template","UserComponent_div_17_div_6_small_2_Template","UserComponent_div_17_div_6_Template","UserComponent","userService","userId","userData","roleList","selectId","ListCourt","email","password","phone","pattern","id","invalidRoleValidator","idUser","isActive","user","toString","roles","roleSelect","items","transformToSelectDto","empty","log","payload","RoleId","Number","newUserRoleId","control","invalidRole","UserService","viewQuery","UserComponent_Query","UserComponent_Template_button_click_2_listener","ɵɵrestoreView","_r1","ɵɵresetView","UserComponent_Template_button_click_5_listener","UserComponent_div_14_Template","UserComponent_div_15_Template","UserComponent_div_16_Template","UserComponent_div_17_Template","UserComponent_div_24_Template","UserComponent_div_25_Template","ɵɵpureFunction2","_c1","_c2","tmp_15_0","hasError","MinLengthValidator","MaxLengthValidator","NgClass","map","text","RoleItemDTO","RoleModulesDTO","CreateUserDTO","UpdateUserDTO","title","paramMap","params","snapshot","setTitle","ActivatedRoute","attrs","_c0","RolePageComponent_Template","catchError","Subject","Subscription","switchMap","throwError","RouterLink","DropdownComponent","ConfirmModalComponent","ConfirmModalModel","RolesListComponent_For_19_td_5_Template_lib_dropdown_actionButtonClick_1_listener","$event","_r2","ctx_r2","ɵɵnextContext","handleAction","loadActionItems","rol_r4","RolesListComponent_For_19_td_5_Template","i_r5","allowUpdate","allowDelete","notificationService","permissionLibService","router","subscription","reloadRoles$","confirmModalData","actionsCallbacks","Map","allowCreate","hasMultiplePermissionToComponent","Delete","loadRoles","loadActions","loadConfirmModalData","instant","body","confirmLabel","cancelLabel","add","pipe","next","set","editRole","deleteRole","disabled","actionItem","find","boldBody","confirmDeleteModal","openModal","onConfirmDelete","errorMsg","ErrorNotification","Error","SuccesNotification","NotificationService","PermissionLibService","RolesListComponent_Query","RolesListComponent_a_7_Template","RolesListComponent_th_16_Template","ɵɵrepeaterCreate","RolesListComponent_For_19_Template","ɵɵrepeaterTrackByIdentity","RolesListComponent_ForEmpty_20_Template","RolesListComponent_Template_lib_confirm_modal_confirmButtonClick_21_listener","ɵɵrepeater","UserPageComponent_Template","UsersListComponent_For_28_td_13_Template_lib_dropdown_actionButtonClick_1_listener","user_r4","UsersListComponent_For_28_td_13_Template","tmp_13_0","roleName","undefined","reloadUsers$","loadUsers","users","editUser","deleteUser","UsersListComponent_Query","UsersListComponent_a_7_Template","UsersListComponent_th_25_Template","UsersListComponent_For_28_Template","UsersListComponent_ForEmpty_29_Template","UsersListComponent_Template_lib_confirm_modal_confirmButtonClick_30_listener","ApiEnum","http","apiUrl","Module","ɵɵinject","HttpClient","factory","ɵfac","providedIn","Role","post","put","User","UserModule"],"sourceRoot":"webpack:///","x_google_ignoreList":[19]}