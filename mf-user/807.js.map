{"version":3,"file":"807.js","mappings":"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","sources":["./projects/mf-user/src/app/app-routing.module.ts","./projects/mf-user/src/app/app.component.ts","./projects/mf-user/src/app/app.component.html","./projects/mf-user/src/app/app.module.ts","./projects/mf-user/src/app/components/role/role.component.ts","./projects/mf-user/src/app/components/role/role.component.html","./projects/mf-user/src/app/components/user/user.component.ts","./projects/mf-user/src/app/components/user/user.component.html","./projects/mf-user/src/app/models/role.model.ts","./projects/mf-user/src/app/models/user.model.ts","./projects/mf-user/src/app/pages/role.page/role.page.component.ts","./projects/mf-user/src/app/pages/role.page/role.page.component.html","./projects/mf-user/src/app/pages/roles-list.page/roles-list.page.component.ts","./projects/mf-user/src/app/pages/roles-list.page/roles-list.page.component.html","./projects/mf-user/src/app/pages/user.page/user.page.component.ts","./projects/mf-user/src/app/pages/user.page/user.page.component.html","./projects/mf-user/src/app/pages/users-list.page/users-list.page.component.ts","./projects/mf-user/src/app/pages/users-list.page/users-list.page.component.html","./projects/mf-user/src/app/services/module.service.ts","./projects/mf-user/src/app/services/role.service.ts","./projects/mf-user/src/app/services/user.service.ts","./projects/mf-user/src/app/user.module.ts","./projects/mf-user/src/bootstrap.ts","./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { UsersListComponent } from './pages/users-list.page/users-list.page.component';\r\nimport { UserPageComponent } from './pages/user.page/user.page.component';\r\nimport { ActionEnum, ModulesEnum, ModuleActionsEnum, permissionGuard } from 'commons-lib';\r\nimport { RolesListComponent } from './pages/roles-list.page/roles-list.page.component';\r\nimport { RolePageComponent } from './pages/role.page/role.page.component';\r\n\r\nconst routes: Routes = [\r\n  { \r\n    path: 'users',\r\n    component: UsersListComponent,\r\n    data: { parentModule: ModulesEnum.Users, parentModuleAction: ModuleActionsEnum.Read },\r\n    canActivate: [permissionGuard]\r\n  },\r\n  {\r\n    path: 'user-create',\r\n    component: UserPageComponent,\r\n    data: { actionState: ActionEnum.Create, parentModule: ModulesEnum.Users, parentModuleAction: ModuleActionsEnum.Create },\r\n    canActivate: [permissionGuard]\r\n  },\r\n  {\r\n    path: 'user-edit/:id',\r\n    component: UserPageComponent,\r\n    data: { actionState: ActionEnum.Edit, parentModule: ModulesEnum.Users, parentModuleAction: ModuleActionsEnum.Update },\r\n    canActivate: [permissionGuard]\r\n  },\r\n  {\r\n    path: 'roles',\r\n    component: RolesListComponent,\r\n    data: { parentModule: ModulesEnum.Roles, parentModuleAction: ModuleActionsEnum.Read },\r\n    canActivate: [permissionGuard]\r\n  },\r\n  {\r\n    path: 'role-create',\r\n    component: RolePageComponent,\r\n    data: { actionState: ActionEnum.Create, parentModule: ModulesEnum.Roles, parentModuleAction: ModuleActionsEnum.Create },\r\n    canActivate: [permissionGuard]\r\n  },\r\n  {\r\n    path: 'role-edit/:id',\r\n    component: RolePageComponent,\r\n    data: { actionState: ActionEnum.Edit, parentModule: ModulesEnum.Roles, parentModuleAction: ModuleActionsEnum.Update },\r\n    canActivate: [permissionGuard]\r\n  },\r\n  { path: '', redirectTo: 'users', pathMatch: 'full' },\r\n  { path: '**', redirectTo: 'users', pathMatch: 'full' },\r\n];\r\n\r\n/*const routes: Routes = [\r\n  { \r\n    path: 'users',\r\n    component: UsersListComponent,\r\n    data: { parentModule: ModulesEnum.Users, parentModuleAction: ModuleActionsEnum.Read }\r\n  },\r\n  {\r\n    path: 'user-create',\r\n    component: UserPageComponent,\r\n    data: { actionState: ActionEnum.Create, parentModule: ModulesEnum.Users, parentModuleAction: ModuleActionsEnum.Create }\r\n  },\r\n  {\r\n    path: 'user-edit/:id',\r\n    component: UserPageComponent,\r\n    data: { actionState: ActionEnum.Edit, parentModule: ModulesEnum.Users, parentModuleAction: ModuleActionsEnum.Update }\r\n  },\r\n  {\r\n    path: 'roles',\r\n    component: RolesListComponent,\r\n    data: { parentModule: ModulesEnum.Roles, parentModuleAction: ModuleActionsEnum.Read }\r\n  },\r\n  {\r\n    path: 'role-create',\r\n    component: RolePageComponent,\r\n    data: { actionState: ActionEnum.Create, parentModule: ModulesEnum.Roles, parentModuleAction: ModuleActionsEnum.Create }\r\n  },\r\n  {\r\n    path: 'role-edit/:id',\r\n    component: RolePageComponent,\r\n    data: { actionState: ActionEnum.Edit, parentModule: ModulesEnum.Roles, parentModuleAction: ModuleActionsEnum.Update }\r\n  },\r\n  { path: '', redirectTo: 'users', pathMatch: 'full' },\r\n  { path: '**', redirectTo: 'users', pathMatch: 'full' },\r\n];*/\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrl: './app.component.scss'\r\n})\r\nexport class AppComponent {\r\n  title = 'mf-user';\r\n}\r\n","<h1>User!!!</h1>\r\n<router-outlet></router-outlet>","import { AppComponent } from './app.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { BrowserModule, provideClientHydration } from \"@angular/platform-browser\";\r\nimport { AppRoutingModule } from \"./app-routing.module\";\r\nimport { HttpClientModule } from \"@angular/common/http\";\r\nimport { UserModule } from './user.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    CommonModule,\r\n    AppRoutingModule,\r\n    HttpClientModule,\r\n    UserModule\r\n  ],\r\n  providers: [\r\n    provideClientHydration()\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { AfterViewInit, Component, Input, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { ActionEnum } from 'commons-lib';\r\nimport { UserDTO } from '../../models/user.model';\r\nimport { RoleService } from '../../services/role.service';\r\nimport { FormArray, FormBuilder, FormGroup, ReactiveFormsModule, ValidationErrors, ValidatorFn, Validators } from '@angular/forms';\r\nimport { firstValueFrom } from 'rxjs';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ModuleService } from '../../services/module.service';\r\nimport { ModuleDTO } from '../../models/module.model';\r\n\r\n@Component({\r\n  selector: 'app-role',\r\n  standalone: true,\r\n  imports: [TranslateModule, ReactiveFormsModule, CommonModule],\r\n  templateUrl: './role.component.html',\r\n  styleUrl: './role.component.css'\r\n})\r\nexport class RoleComponent implements OnInit, AfterViewInit {\r\n  @Input() roleId: number = 0;\r\n  @Input() action!: ActionEnum;\r\n\r\n  roleData: UserDTO = new UserDTO();\r\n  editAction: ActionEnum = ActionEnum.Edit;\r\n\r\n  public formRole: FormGroup = new FormGroup({});\r\n\r\n  constructor(\r\n      public translate: TranslateService,\r\n      private readonly moduleService: ModuleService,\r\n      private readonly roleService: RoleService,\r\n      private readonly formBuilder: FormBuilder,\r\n      private route: Router,\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.setFormGroup();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.setRoleModulesFormArray();\r\n    Promise.resolve().then(() => this.loadData());\r\n  }\r\n\r\n  get roleModules(): FormArray {\r\n    return this.formRole.get('roleModules') as FormArray;\r\n  }\r\n\r\n  createItem(module: ModuleDTO): FormGroup {\r\n    return this.formBuilder.group({\r\n      idModule: [module.idModule],  // ID del módulo\r\n      moduleName: [module.name], // Nombre del módulo\r\n      actions: this.formBuilder.group({\r\n        create: [false], // Checkbox para \"Crear\"\r\n        read: [false],   // Checkbox para \"Leer\"\r\n        update: [false], // Checkbox para \"Actualizar\"\r\n        delete: [false]  // Checkbox para \"Eliminar\"\r\n      })\r\n    });\r\n  }\r\n\r\n  setFormGroup(): void {\r\n    this.formRole = this.formBuilder.group({\r\n        idRole: [0],\r\n        name: ['', [Validators.required]],\r\n        roleModules: this.formBuilder.array([])\r\n    });\r\n  }\r\n\r\n  async setRoleModulesFormArray(): Promise<void> {\r\n    const modules = await firstValueFrom(this.moduleService.getAll());\r\n\r\n    for (let module of modules) {\r\n        this.roleModules.push(this.createItem(module));\r\n    }\r\n  }\r\n\r\n  async loadData(): Promise<void> {\r\n    if(this.roleId > 0) {\r\n      await firstValueFrom(this.roleService.getById(this.roleId)).then(\r\n        role => {\r\n          this.formRole.patchValue({\r\n            ...role\r\n          });\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  save(): void {\r\n    this.formRole.markAllAsTouched();\r\n\r\n    if (!this.formRole.valid) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if(this.action == ActionEnum.Create) {\r\n        this.roleService.create(this.formRole.value).subscribe(e => {\r\n          this.redirectToList();\r\n        });\r\n      } else {\r\n        this.roleService.update(this.roleId, this.formRole.value).subscribe(e => {\r\n            this.redirectToList();\r\n        });\r\n      }\r\n    } catch(e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  cancel(): void {\r\n    this.redirectToList();\r\n  }\r\n\r\n  redirectToList(): void {\r\n    this.route.navigate(['/user-management/roles']);\r\n  }\r\n}\r\n","<form [formGroup]=\"formRole\" class=\"row g-3\">\r\n    <div class=\"text-end\">\r\n      <button class=\"btn btn-success me-2\" (click)=\"save()\">{{ 'Button.Save' | translate }}</button>\r\n      <button class=\"btn btn-outline-secondary\" (click)=\"cancel()\">{{ 'Button.Cancel' | translate }}</button>\r\n    </div>\r\n\r\n    <div class=\"col-md-12\">\r\n        <label for=\"name\" class=\"form-label\">{{ 'Commons.Name' | translate }}</label>\r\n        <input type=\"text\" formControlName=\"name\" class=\"form-control\" id=\"name\" placeholder=\"{{ 'Commons.Name' | translate }}\">\r\n        <div *ngIf=\"formRole.controls['name']?.invalid && formRole.controls['name']?.touched\" class=\"text-danger\">\r\n            <small *ngIf=\"formRole.controls['name']?.errors?.['required']\">{{ 'Validations.FieldRequired' | translate }}</small>\r\n        </div>\r\n    </div>\r\n\r\n    <h4> {{ \"Role.RoleModulePermissions\" | translate }} </h4>\r\n\r\n    <div formArrayName=\"roleModules\" class=\"text-center\">\r\n        <div *ngFor=\"let item of roleModules.controls; let i = index\" [formGroupName]=\"i\" class=\"col-md-12\">\r\n            <div formGroupName=\"actions\">\r\n                <label class=\"col-md-2 moduleName\">\r\n                    {{ \"Modules.\" + item.get('moduleName')?.value | translate }}\r\n                </label>\r\n                <label class=\"col-md-2\">\r\n                    <input type=\"checkbox\" class=\"form-check-input\" formControlName=\"create\"> {{ 'Crud.Create' | translate }}\r\n                </label>\r\n                <label class=\"col-md-2\">\r\n                    <input type=\"checkbox\" class=\"form-check-input\" formControlName=\"read\"> {{ 'Crud.Read' | translate }}\r\n                </label>\r\n                <label class=\"col-md-2\">\r\n                    <input type=\"checkbox\" class=\"form-check-input\" formControlName=\"update\"> {{ 'Crud.Update' | translate }}\r\n                </label>\r\n                <label class=\"col-md-2\">\r\n                    <input type=\"checkbox\" class=\"form-check-input\" formControlName=\"delete\"> {{ 'Crud.Delete' | translate }}\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  </form>","import { AfterViewInit, Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { ActionEnum, SelectComponent, SelectIdEnum } from 'commons-lib';\r\nimport { UserService } from '../../services/user.service';\r\nimport { CreateUserDTO, UpdateUserDTO, UserDTO } from '../../models/user.model';\r\nimport { RoleService } from '../../services/role.service';\r\nimport { RoleDTO } from '../../models/role.model';\r\nimport { AbstractControl, FormBuilder, FormGroup, ReactiveFormsModule, ValidationErrors, ValidatorFn, Validators } from '@angular/forms';\r\nimport { firstValueFrom } from 'rxjs';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-user',\r\n  standalone: true,\r\n  imports: [TranslateModule, ReactiveFormsModule, CommonModule, SelectComponent],\r\n  templateUrl: './user.component.html',\r\n  styleUrl: './user.component.css'\r\n})\r\nexport class UserComponent implements OnInit, AfterViewInit {\r\n  @Input() userId: number = 0;\r\n  @Input() action!: ActionEnum;\r\n\r\n  @ViewChild('roleSelect') roleSelect: SelectComponent | undefined;\r\n\r\n  userData: UserDTO = new UserDTO();\r\n  roleList: RoleDTO[] = [];\r\n  selectId: SelectIdEnum = SelectIdEnum.ListCourt;\r\n  editAction: ActionEnum = ActionEnum.Edit;\r\n\r\n  public formUser: FormGroup = new FormGroup({});\r\n\r\n  constructor(\r\n      public translate: TranslateService,\r\n      private readonly userService: UserService,\r\n      private readonly roleService: RoleService,\r\n      private readonly formBuilder: FormBuilder,\r\n      private route: Router,\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.setFormGroup();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.loadData();\r\n  }\r\n\r\n  setFormGroup(): void {\r\n    if(this.action == ActionEnum.Create) {\r\n      this.formUser = this.formBuilder.group({\r\n        name: ['', [Validators.required]],\r\n        email: ['', [Validators.required, Validators.email]],\r\n        password: ['', [Validators.required]],\r\n        phone: ['', [Validators.required, Validators.pattern(/^\\d{6,10}$/)]],\r\n        role: [{ id: '-1' }, [Validators.required, this.invalidRoleValidator()]]\r\n      });\r\n    } else {\r\n      this.formUser = this.formBuilder.group({\r\n        idUser: [this.userId],\r\n        name: ['', [Validators.required]],\r\n        role: [{ id: '-1' }, [Validators.required, this.invalidRoleValidator()]],\r\n        isActive: [true]\r\n      });\r\n    }\r\n  }\r\n\r\n  async loadData(): Promise<void> {\r\n    if(this.userId > 0) {\r\n      await firstValueFrom(this.userService.getById(this.userId)).then(\r\n        user => {\r\n          this.userData = user;\r\n          this.formUser.patchValue({\r\n            ...user,\r\n            role: { id: user.roleId.toString() }\r\n          });\r\n        }\r\n      );\r\n    }\r\n\r\n    this.roleService.getAll().subscribe((roles: RoleDTO[]) => {\r\n      this.roleList = roles;\r\n\r\n      if(this.roleSelect) {\r\n        const items = RoleDTO.transformToSelectDto(this.roleList);\r\n        this.roleSelect.items = items;\r\n\r\n        if(this.action == ActionEnum.Edit) {\r\n          this.roleSelect.empty = false;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  save(): void {\r\n    this.formUser.markAllAsTouched();\r\n    \r\n    console.log(this.formUser);\r\n\r\n    if (!this.formUser.valid) {\r\n      return;\r\n    }\r\n\r\n    // Llamar servicio de creación!\r\n    try {\r\n      if(this.action == ActionEnum.Create) {\r\n        const payload: CreateUserDTO = {\r\n          name: this.formUser.value.name,\r\n          email: this.formUser.value.email,\r\n          password: this.formUser.value.password,\r\n          phone: this.formUser.value.phone,\r\n          RoleId: Number(this.formUser.value.role.id)\r\n        };\r\n\r\n        console.log('payload:' , payload);\r\n\r\n        this.userService.create(payload).subscribe(e => {\r\n          this.redirectToList();\r\n        });\r\n      } else {\r\n        const payload:UpdateUserDTO = {\r\n          idUser: this.userId,\r\n          name: this.formUser.value.name,\r\n          isActive: this.formUser.value.isActive,\r\n          newUserRoleId: Number(this.formUser.value.role.id)\r\n        };\r\n\r\n        this.userService.update(payload).subscribe(e => {\r\n          this.redirectToList();\r\n        });\r\n      }\r\n    } catch(e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  cancel(): void {\r\n    this.redirectToList();\r\n  }\r\n\r\n  // Validador personalizado para verificar si el id es \"-1\"\r\n  invalidRoleValidator(): ValidatorFn {\r\n    return (control: AbstractControl): ValidationErrors | null => {\r\n      if (control.value && control.value.id === '-1') {\r\n        return { invalidRole: true }; // Retorna un error si el id es '-1'\r\n      }\r\n      return null; // Retorna null si el valor es válido\r\n    };\r\n  }\r\n\r\n  redirectToList(): void {\r\n    this.route.navigate(['/user-management/users']);\r\n  }\r\n}\r\n","<form [formGroup]=\"formUser\" class=\"row g-3\">\r\n  <div class=\"text-end\">\r\n    <button class=\"btn btn-success me-2\" (click)=\"save()\">{{ 'Button.Save' | translate }}</button>\r\n    <button class=\"btn btn-outline-secondary\" (click)=\"cancel()\">{{ 'Button.Cancel' | translate }}</button>\r\n  </div>\r\n\r\n  <div [ngClass]=\"{'col-md-7': action == editAction, 'col-md-3': action != editAction}\">\r\n    <label for=\"name\" class=\"form-label\">{{ 'Commons.Name' | translate }}</label>\r\n    <input type=\"text\" formControlName=\"name\" class=\"form-control\" id=\"name\" placeholder=\"{{ 'Commons.Name' | translate }}\">\r\n    <div *ngIf=\"formUser.controls['name']?.invalid && formUser.controls['name']?.touched\" class=\"text-danger\">\r\n      <small *ngIf=\"formUser.controls['name']?.errors?.['required']\">{{ 'Validations.FieldRequired' | translate }}</small>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"col-md-3\" *ngIf=\"action != editAction\">\r\n    <label for=\"userEmail\" class=\"form-label\">{{ 'Commons.Email' | translate }}</label>\r\n    <input type=\"email\" formControlName=\"email\" class=\"form-control\" id=\"userEmail\" placeholder=\"{{ 'Commons.Email' | translate }}\">\r\n    <div *ngIf=\"formUser.controls['email']?.invalid && formUser.controls['email']?.touched\" class=\"text-danger\">\r\n      <small *ngIf=\"formUser.controls['email']?.errors?.['required']\">{{ 'Validations.FieldRequired' | translate }}</small>\r\n      <small *ngIf=\"formUser.controls['email']?.errors?.['email']\">{{ 'Validations.FieldInvalidName' | translate }}</small>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"col-md-2\" *ngIf=\"action != editAction\">\r\n    <label for=\"password\" class=\"form-label\">{{ 'Commons.Password' | translate }}</label>\r\n    <input type=\"password\" formControlName=\"password\" class=\"form-control\" id=\"password\" placeholder=\"{{ 'Commons.Password' | translate }}\">\r\n    <div *ngIf=\"formUser.controls['password']?.invalid && formUser.controls['password']?.touched\" class=\"text-danger\">\r\n      <small *ngIf=\"formUser.controls['password']?.errors?.['required']\">{{ 'Validations.FieldRequired' | translate }}</small>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"col-md-2\" *ngIf=\"action != editAction\">\r\n    <label for=\"phone\" class=\"form-label\">{{ 'Commons.Phone' | translate }}</label>\r\n    <input type=\"text\" formControlName=\"phone\" class=\"form-control\" id=\"phone\" minlength=\"6\" maxlength=\"10\" placeholder=\"{{ 'Commons.Phone' | translate }}\">\r\n    <div *ngIf=\"formUser.controls['phone']?.invalid && formUser.controls['phone']?.touched\" class=\"text-danger\">\r\n      <small *ngIf=\"formUser.controls['phone']?.errors?.['required']\">{{ 'Validations.FieldRequired' | translate }}</small>\r\n      <small *ngIf=\"formUser.controls['phone']?.errors?.['pattern']\">{{ 'Validations.FieldOnlyNumberMinLength6' | translate }}</small>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]=\"{'col-md-3': action == editAction, 'col-md-2': action != editAction}\">\r\n    <label for=\"exampleColorInput\" class=\"form-label\">{{ 'Commons.Role' | translate }}</label>\r\n    <lib-select [selectId]=\"selectId\" formControlName=\"role\" [useCustomItems]=\"true\" #roleSelect></lib-select>\r\n    <div *ngIf=\"formUser.controls['role']?.touched && formUser.get('role')?.hasError('invalidRole')\"  class=\"text-danger\">\r\n      <small>{{ 'Validations.FieldRequired' | translate }}</small>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"col-md-2\" *ngIf=\"action == editAction\">\r\n    <label for=\"exampleColorInput\" class=\"form-label\">{{ 'Commons.State' | translate }}</label>\r\n    <div class=\"form-check\">\r\n        <input type=\"checkbox\" formControlName=\"isActive\" class=\"form-check-input\" id=\"isActive\">\r\n        <label class=\"form-check-label\" for=\"isActive\">\r\n          {{ formUser.controls['isActive'].value ? ('Commons.Active' | translate) : ('Commons.Inactive' | translate) }}\r\n        </label>\r\n    </div>\r\n  </div>\r\n</form>","export class RoleDTO {\r\n    idRole!: number;\r\n    name!: string;\r\n\r\n    static transformToSelectDto(data: RoleDTO[]): { id: string, text: string }[] {\r\n        return data.map(e => ({\r\n            id: e.idRole.toString(),\r\n            text: e.name\r\n        }));\r\n    }\r\n}\r\n\r\nexport class RoleItemDTO {\r\n    idRole?: number;\r\n    name!: string;\r\n    roleModules?: RoleModulesDTO[];\r\n}\r\n\r\nexport class RoleModulesDTO {\r\n    idModule!: number;\r\n    moduleName!: string;\r\n    modulePath?: string;\r\n    actions!: {\r\n        create: boolean;\r\n        read: boolean;\r\n        update: boolean;\r\n        delete: boolean;\r\n    }\r\n}","export class UserDTO {\r\n    idUser!: number;\r\n    name!: string;\r\n    phone?: string;\r\n    email!: string;\r\n    roleId!: number | string;\r\n    roleName?: string;\r\n    isActive!: boolean;\r\n    isAdmin!: boolean;\r\n}\r\n\r\nexport class CreateUserDTO {\r\n    name!: string;\r\n    phone!: string;\r\n    email!: string;\r\n    password!: string;\r\n    RoleId!: number;\r\n}\r\n\r\nexport class UpdateUserDTO {\r\n    idUser!: number;\r\n    name!: string;\r\n    isActive!: boolean;\r\n    newUserRoleId!: number;\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ActionEnum } from 'commons-lib';\r\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { RoleComponent } from '../../components/role/role.component';\r\n\r\n@Component({\r\n  selector: 'app-user.page',\r\n  standalone: true,\r\n  imports: [RoleComponent, TranslateModule],\r\n  templateUrl: './role.page.component.html',\r\n  styleUrl: './role.page.component.css'\r\n})\r\nexport class RolePageComponent implements OnInit {\r\n  roleId!: number;\r\n  action!: ActionEnum;\r\n  title: string = '';\r\n\r\n  constructor(\r\n    public translate: TranslateService,\r\n    private route: ActivatedRoute\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.route.paramMap.subscribe(params => {\r\n      this.roleId = Number(params.get('id'));\r\n    });\r\n    this.action = this.route.snapshot.data['actionState'];\r\n\r\n    this.setTitle();\r\n  }\r\n\r\n  setTitle(): void {\r\n    switch(this.action) {\r\n      case ActionEnum.Create:\r\n        this.title = 'Role.Create';\r\n        break;\r\n      case ActionEnum.Edit: \r\n        this.title = \"Role.Edit\";\r\n        break;\r\n    } \r\n  }\r\n}\r\n","<div class=\"card\">\r\n    <div class=\"card-header\">\r\n        <h4 class=\"card-title\">{{ title | translate }}</h4>\r\n    </div>\r\n    <div class=\"card-body\">        \r\n        <app-role [roleId]=\"roleId\" [action]=\"action\"></app-role>\r\n    </div>\r\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { catchError, Subject, Subscription, switchMap, throwError } from 'rxjs';\r\nimport { Router, RouterLink } from '@angular/router';\r\nimport {\r\n  DropdownComponent,\r\n  DropdownItemModel,\r\n  ActionEnum,\r\n  ConfirmModalComponent,\r\n  ConfirmModalModel,\r\n  NotificationService,\r\n  PermissionLibService,\r\n  ModulesEnum,\r\n  ModuleActionsEnum\r\n} from 'commons-lib';\r\nimport { RoleDTO } from '../../models/role.model';\r\nimport { RoleService } from '../../services/role.service';\r\n\r\n@Component({\r\n  selector: 'roles-list.page',\r\n  standalone: true,\r\n  imports: [\r\n    TranslateModule,\r\n    CommonModule,\r\n    DropdownComponent,\r\n    ConfirmModalComponent,\r\n    RouterLink\r\n  ],\r\n  templateUrl: './roles-list.page.component.html',\r\n  styleUrl: './roles-list.page.component.css'\r\n})\r\nexport class RolesListComponent implements OnInit {\r\n  @ViewChild('confirmDeleteModal') confirmDeleteModal!: ConfirmModalComponent;\r\n\r\n  private readonly subscription: Subscription = new Subscription();\r\n  private reloadRoles$ = new Subject<void>();\r\n\r\n  roles: RoleDTO[] | undefined;\r\n  confirmModalData: ConfirmModalModel = new ConfirmModalModel();\r\n\r\n  private actionsCallbacks: Map<ActionEnum, Function> = new Map();\r\n\r\n  /* actions permission */\r\n  public allowCreate: boolean = false;\r\n  public allowUpdate: boolean = false;\r\n  public allowDelete: boolean = false;\r\n\r\n  constructor(\r\n      public translate: TranslateService,\r\n      private readonly roleService: RoleService,\r\n      private readonly notificationService: NotificationService,\r\n      private readonly permissionLibService: PermissionLibService,\r\n      private readonly router: Router\r\n    ) {\r\n      [this.allowCreate, this.allowUpdate, this.allowDelete] = this.permissionLibService.hasMultiplePermissionToComponent(\r\n        ModulesEnum.Roles,\r\n        [\r\n          ModuleActionsEnum.Create,\r\n          ModuleActionsEnum.Update,\r\n          ModuleActionsEnum.Delete\r\n        ]\r\n      );\r\n    }\r\n  \r\n    ngOnInit(): void {\r\n      this.loadRoles();\r\n      this.loadActions();\r\n      this.loadConfirmModalData();\r\n    }\r\n\r\n    loadConfirmModalData(): void {\r\n      this.confirmModalData = {\r\n        title: this.translate.instant('Role.DeleteRole'),\r\n        body: this.translate.instant('Role.ConfirmDeleteRole'),\r\n        confirmLabel: this.translate.instant('Button.Yes'),\r\n        cancelLabel: this.translate.instant('Button.No')\r\n      };\r\n    }\r\n  \r\n    loadRoles(): void {\r\n      this.subscription.add(\r\n        this.reloadRoles$.pipe(\r\n          switchMap(() => this.roleService.getAll())\r\n        ).subscribe((roles: RoleDTO[]) => {\r\n          this.roles = roles;\r\n        })\r\n      );\r\n    \r\n      this.reloadRoles$.next();\r\n    }\r\n\r\n    loadActions(): void {\r\n      this.actionsCallbacks.set(ActionEnum.Edit, (roleId: number) => this.editRole(roleId));\r\n      this.actionsCallbacks.set(ActionEnum.Delete, (roleId: number) => this.deleteRole(roleId));\r\n    }\r\n\r\n    loadActionItems(roleId: number): DropdownItemModel[] {\r\n      const actions: DropdownItemModel[] = [\r\n        {\r\n          id: roleId,\r\n          name: this.translate.instant('Button.Edit'),\r\n          disabled: false,\r\n          action: ActionEnum.Edit\r\n        },\r\n        {\r\n          id: roleId,\r\n          name: this.translate.instant('Button.Delete'),\r\n          disabled: false,\r\n          action: ActionEnum.Delete\r\n        }\r\n      ];\r\n\r\n      return actions;\r\n    }\r\n\r\n    handleAction(actionItem: DropdownItemModel) {\r\n      const action = this.actionsCallbacks.get(actionItem.action);\r\n\r\n      if(action) {\r\n        action(actionItem.id);\r\n      }\r\n    }\r\n\r\n    editRole(roleId: number): void {\r\n      this.router.navigate([`/user-management/role-edit/${roleId}`]);\r\n    }\r\n\r\n    deleteRole(roleId: number): void {\r\n      const role = this.roles?.find(e => e.idRole == roleId);\r\n      \r\n      if(role) {\r\n        this.confirmModalData.boldBody = role.name;\r\n        this.confirmDeleteModal.openModal(roleId);\r\n      }\r\n    }\r\n\r\n    onConfirmDelete(roleId: number): void {\r\n        this.roleService.delete(roleId).pipe(\r\n            catchError(error => {\r\n                const errorMsg = this.translate.instant(\"Role.RoleDeletedError\");\r\n                this.notificationService.ErrorNotification(errorMsg);\r\n                console.error('Error en la petición:', error);\r\n                return throwError(() => new Error(errorMsg));\r\n            })\r\n            ).subscribe(data => {\r\n                this.notificationService.SuccesNotification(this.translate.instant(\"Role.RoleDeleted\"));\r\n                this.reloadRoles$.next();\r\n            });\r\n    }\r\n}\r\n","<div class=\"card\">\r\n    <div class=\"card-header\">\r\n        <div class=\"card-title\">{{ 'Title.Roles' | translate }}</div>\r\n    </div>\r\n    <div class=\"card-body\">\r\n        <div class=\"mb-2\">\r\n            <a *ngIf=\"allowCreate\" routerLink=\"/user-management/role-create\" class=\"btn btn-success\" #btnFoco>{{ 'Role.Create' | translate }}</a>\r\n        </div>\r\n        <table class=\"table table-head-bg-primary\">\r\n            <thead>\r\n                <tr>\r\n                    <th scope=\"col\">#</th>\r\n                    <th scope=\"col\" style=\"width: 80%;\">{{ 'Commons.Name' | translate }}</th>\r\n                    <th scope=\"col\" *ngIf=\"allowUpdate || allowDelete\">\r\n                        {{ 'Commons.Action' | translate }}\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                @for (rol of roles; track rol; let i = $index) {\r\n                    <tr>\r\n                        <td>{{ i + 1 }}</td>\r\n                        <td>{{ rol.name }}</td>\r\n                        <td *ngIf=\"allowUpdate || allowDelete\">\r\n                            <lib-dropdown\r\n                                placeholder=\"{{ 'Commons.Action' | translate }}\"\r\n                                emptyItemsLabel=\"{{ 'Commons.ElementsNotFound' | translate }}\"\r\n                                [items]=\"loadActionItems(rol.idRole)\"\r\n                                (actionButtonClick)=\"handleAction($event)\"\r\n                            ></lib-dropdown>\r\n                        </td>\r\n                    </tr>\r\n                }\r\n                @empty {\r\n                    <td colspan=\"7\">\r\n                        <h5>{{ 'Commons.ElementsNotFound' | translate }}</h5>\r\n                    </td>\r\n                }\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>\r\n\r\n<lib-confirm-modal\r\n    [data]=\"confirmModalData\"\r\n    (confirmButtonClick)=\"onConfirmDelete($event)\"\r\n    #confirmDeleteModal\r\n></lib-confirm-modal>","import { Component, OnInit } from '@angular/core';\r\nimport { UserComponent } from \"../../components/user/user.component\";\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ActionEnum } from 'commons-lib';\r\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-user.page',\r\n  standalone: true,\r\n  imports: [UserComponent, TranslateModule],\r\n  templateUrl: './user.page.component.html',\r\n  styleUrl: './user.page.component.css'\r\n})\r\nexport class UserPageComponent implements OnInit {\r\n  userId!: number;\r\n  action!: ActionEnum;\r\n  title: string = '';\r\n\r\n  constructor(\r\n    public translate: TranslateService,\r\n    private route: ActivatedRoute\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.route.paramMap.subscribe(params => {\r\n      this.userId = Number(params.get('id'));\r\n    });\r\n    this.action = this.route.snapshot.data['actionState'];\r\n\r\n    this.setTitle();\r\n  }\r\n\r\n  setTitle(): void {\r\n    switch(this.action) {\r\n      case ActionEnum.Create:\r\n        this.title = 'User.Create';\r\n        break;\r\n      case ActionEnum.Edit: \r\n        this.title = \"User.Edit\";\r\n        break;\r\n    } \r\n  }\r\n}\r\n","<div class=\"card\">\r\n    <div class=\"card-header\">\r\n        <h4 class=\"card-title\">{{ title | translate }}</h4>\r\n    </div>\r\n    <div class=\"card-body\">        \r\n        <app-user [userId]=\"userId\" [action]=\"action\"></app-user>\r\n    </div>\r\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { Subject, Subscription, switchMap } from 'rxjs';\r\nimport { UserDTO } from '../../models/user.model';\r\nimport { UserService } from '../../services/user.service';\r\nimport { Router, RouterLink } from '@angular/router';\r\nimport {\r\n  DropdownComponent,\r\n  DropdownItemModel,\r\n  ActionEnum,\r\n  ConfirmModalComponent,\r\n  ConfirmModalModel,\r\n  NotificationService,\r\n  PermissionLibService,\r\n  ModulesEnum,\r\n  ModuleActionsEnum\r\n} from 'commons-lib';\r\n\r\n@Component({\r\n  selector: 'users-list.page',\r\n  standalone: true,\r\n  imports: [\r\n    TranslateModule,\r\n    CommonModule,\r\n    DropdownComponent,\r\n    ConfirmModalComponent,\r\n    RouterLink\r\n],\r\n  templateUrl: './users-list.page.component.html',\r\n  styleUrl: './users-list.page.component.css'\r\n})\r\nexport class UsersListComponent implements OnInit {\r\n  @ViewChild('confirmDeleteModal') confirmDeleteModal!: ConfirmModalComponent;\r\n\r\n  private readonly subscription: Subscription = new Subscription();\r\n  private reloadUsers$ = new Subject<void>();\r\n\r\n  users: UserDTO[] | undefined;\r\n  confirmModalData: ConfirmModalModel = new ConfirmModalModel();\r\n\r\n  private actionsCallbacks: Map<ActionEnum, Function> = new Map();\r\n\r\n  /* actions permission */\r\n  public allowCreate: boolean = false;\r\n  public allowUpdate: boolean = false;\r\n  public allowDelete: boolean = false;\r\n\r\n  constructor(\r\n      public translate: TranslateService,\r\n      private readonly userService: UserService,\r\n      private readonly notificationService: NotificationService,\r\n      private readonly permissionLibService: PermissionLibService,\r\n      private readonly router: Router\r\n    ) {\r\n      /*this.allowCreate = this.permissionLibService.hasPermissionToComponent(\r\n        ModulesEnum.Users,\r\n        ModuleActionsEnum.Create\r\n      );\r\n      this.allowUpdate = this.permissionLibService.hasPermissionToComponent(\r\n        ModulesEnum.Users,\r\n        ModuleActionsEnum.Update\r\n      );\r\n      this.allowDelete = this.permissionLibService.hasPermissionToComponent(\r\n        ModulesEnum.Users,\r\n        ModuleActionsEnum.Delete\r\n      );*/\r\n\r\n      [this.allowCreate, this.allowUpdate, this.allowDelete] = this.permissionLibService.hasMultiplePermissionToComponent(\r\n        ModulesEnum.Users,\r\n        [\r\n          ModuleActionsEnum.Create,\r\n          ModuleActionsEnum.Update,\r\n          ModuleActionsEnum.Delete\r\n        ]\r\n      );\r\n    }\r\n  \r\n    ngOnInit(): void {\r\n      this.loadUsers();\r\n      this.loadActions();\r\n      this.loadConfirmModalData();\r\n    }\r\n\r\n    loadConfirmModalData(): void {\r\n      this.confirmModalData = {\r\n        title: this.translate.instant('User.DeleteUser'),\r\n        body: this.translate.instant('User.ConfirmDeleteUser'),\r\n        confirmLabel: this.translate.instant('Button.Yes'),\r\n        cancelLabel: this.translate.instant('Button.No')\r\n      };\r\n    }\r\n  \r\n    loadUsers(): void {\r\n      this.subscription.add(\r\n        this.reloadUsers$.pipe(\r\n          switchMap(() => this.userService.getAll())\r\n        ).subscribe((users: UserDTO[]) => {\r\n          this.users = users;\r\n        })\r\n      );\r\n    \r\n      this.reloadUsers$.next();\r\n    }\r\n\r\n    loadActions(): void {\r\n      this.actionsCallbacks.set(ActionEnum.Edit, (userId: number) => this.editUser(userId));\r\n      this.actionsCallbacks.set(ActionEnum.Delete, (userId: number) => this.deleteUser(userId));\r\n    }\r\n\r\n    loadActionItems(userId: number): DropdownItemModel[] {\r\n      let actions: DropdownItemModel[] = [];\r\n\r\n      if(this.allowUpdate) {\r\n        actions.push({\r\n          id: userId,\r\n          name: this.translate.instant('Button.Edit'),\r\n          disabled: false,\r\n          action: ActionEnum.Edit\r\n        });\r\n      }\r\n      \r\n      if(this.allowDelete) {\r\n        actions.push({\r\n          id: userId,\r\n          name: this.translate.instant('Button.Delete'),\r\n          disabled: false,\r\n          action: ActionEnum.Delete\r\n        });\r\n      }\r\n\r\n      return actions;\r\n    }\r\n\r\n    handleAction(actionItem: DropdownItemModel) {\r\n      const action = this.actionsCallbacks.get(actionItem.action);\r\n\r\n      if(action) {\r\n        action(actionItem.id);\r\n      }\r\n    }\r\n\r\n    editUser(userId: number): void {\r\n      this.router.navigate([`/user-management/user-edit/${userId}`]);\r\n    }\r\n\r\n    deleteUser(userId: number): void {\r\n      const user = this.users?.find(e => e.idUser == userId);\r\n      \r\n      if(user) {\r\n        this.confirmModalData.boldBody = user.name;\r\n        this.confirmDeleteModal.openModal(userId);\r\n      }\r\n    }\r\n\r\n    onConfirmDelete(userId: number): void {\r\n      this.userService.delete(userId).subscribe(() => {\r\n        this.notificationService.SuccesNotification(this.translate.instant(\"User.UserDeleted\"));\r\n        this.reloadUsers$.next();\r\n      });\r\n    }\r\n}\r\n","<div class=\"card\">\r\n    <div class=\"card-header\">\r\n        <div class=\"card-title\">{{ 'Title.Users' | translate }}</div>\r\n    </div>\r\n    <div class=\"card-body\">\r\n        <div class=\"mb-2\">\r\n            <a *ngIf=\"allowCreate\" routerLink=\"/user-management/user-create\" class=\"btn btn-success\" #btnFoco>{{ 'User.Create' | translate }}</a>\r\n        </div>\r\n        <table class=\"table table-head-bg-primary\">\r\n            <thead>\r\n                <tr>\r\n                    <th scope=\"col\">#</th>\r\n                    <th scope=\"col\">{{ 'Commons.Name' | translate }}</th>\r\n                    <th scope=\"col\">{{ 'Commons.Role' | translate }}</th>\r\n                    <th scope=\"col\">{{ 'Commons.Email' | translate }}</th>\r\n                    <th scope=\"col\">{{ 'Commons.State' | translate }}</th>\r\n                    <th scope=\"col\" *ngIf=\"allowUpdate || allowDelete\">\r\n                        {{ 'Commons.Action' | translate }}\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                @for (user of users; track user; let i = $index) {\r\n                    <tr>\r\n                        <td>{{ i + 1 }}</td>\r\n                        <td>{{ user.name }}</td>\r\n                        <td>{{ user.roleName ?? 'Admin' }}</td>\r\n                        <td>{{ user.email }}</td>\r\n                        <td>\r\n                            <span \r\n                                class=\"badge btn-sm\"\r\n                                [ngClass]=\"{'badge-success': user.isActive, 'badge-danger': !user.isActive}\"\r\n                            >\r\n                                {{ 'Commons.'+user.isActive | translate }}\r\n                            </span>\r\n                        </td>\r\n                        <td *ngIf=\"allowUpdate || allowDelete\">\r\n                            <lib-dropdown\r\n                                placeholder=\"{{ 'Commons.Action' | translate }}\"\r\n                                emptyItemsLabel=\"{{ 'Commons.ElementsNotFound' | translate }}\"\r\n                                [items]=\"loadActionItems(user.idUser)\"\r\n                                (actionButtonClick)=\"handleAction($event)\"\r\n                            ></lib-dropdown>\r\n                        </td>\r\n                    </tr>\r\n                }\r\n                @empty {\r\n                    <td colspan=\"7\">\r\n                        <h5>{{ 'Commons.ElementsNotFound' | translate }}</h5>\r\n                    </td>\r\n                }\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>\r\n\r\n<lib-confirm-modal\r\n    [data]=\"confirmModalData\"\r\n    (confirmButtonClick)=\"onConfirmDelete($event)\"\r\n    #confirmDeleteModal\r\n></lib-confirm-modal>","// Get all Roles\r\n// Get all modules\r\n// Get role by id\r\n// Save role -> Llamar al GetAllRolesByModule\r\n// Update role -> Llamar al GetAllRolesByModule\r\n// Delete role\r\n// GetAllRolesByModule -> Actualizar en localStorage!\r\n\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { ApiEnum } from \"commons-lib\";\r\nimport { Observable } from \"rxjs\";\r\nimport { UserDTO } from \"../models/user.model\";\r\nimport { ModuleDTO } from \"../models/module.model\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ModuleService {\r\n\r\n    apiUrl: string = ApiEnum.Module;\r\n\r\n    constructor(private readonly http: HttpClient) {\r\n    }\r\n\r\n    getAll(): Observable<ModuleDTO[]> {\r\n        return this.http.get<ModuleDTO[]>(`${this.apiUrl}`);\r\n    }\r\n}\r\n\r\n","// Get all Roles\r\n// Get all modules\r\n// Get role by id\r\n// Save role -> Llamar al GetAllRolesByModule\r\n// Update role -> Llamar al GetAllRolesByModule\r\n// Delete role\r\n// GetAllRolesByModule -> Actualizar en localStorage!\r\n\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { ApiEnum } from \"commons-lib\";\r\nimport { Observable } from \"rxjs\";\r\nimport { RoleItemDTO, RoleDTO } from \"../models/role.model\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RoleService {\r\n\r\n    apiUrl: string = ApiEnum.Role;\r\n\r\n    constructor(\r\n      private readonly http: HttpClient\r\n    ) {}\r\n\r\n    getAll(): Observable<RoleDTO[]> {\r\n        return this.http.get<RoleDTO[]>(`${this.apiUrl}`);\r\n    }\r\n\r\n    getById(roleId: number): Observable<RoleItemDTO> {\r\n      return this.http.get<RoleItemDTO>(`${this.apiUrl}${roleId}`);\r\n    }\r\n\r\n    delete(roleId: number): Observable<number> {\r\n      return this.http.delete<number>(`${this.apiUrl}${roleId}`);\r\n    }\r\n\r\n    create(data: RoleItemDTO): Observable<any> {\r\n      return this.http.post(`${this.apiUrl}`, data);\r\n    }\r\n\r\n    update(roleId: number, data: RoleItemDTO): Observable<any> {\r\n      return this.http.put(`${this.apiUrl}${roleId}`, data);\r\n    }\r\n}\r\n\r\n","import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { ApiEnum } from \"commons-lib\";\r\nimport { Observable } from \"rxjs\";\r\nimport { CreateUserDTO, UpdateUserDTO, UserDTO } from \"../models/user.model\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserService {\r\n\r\n    apiUrl: string = ApiEnum.User;\r\n\r\n    constructor(private readonly http: HttpClient) {\r\n    }\r\n\r\n    getAll(): Observable<UserDTO[]> {\r\n        return this.http.get<UserDTO[]>(`${this.apiUrl}GetAll`);\r\n    }\r\n\r\n    getById(userId: number): Observable<UserDTO> {\r\n      return this.http.get<UserDTO>(`${this.apiUrl}${userId}`);\r\n    }\r\n\r\n    create(data: CreateUserDTO): Observable<any> {\r\n      return this.http.post(`${this.apiUrl}`, data);\r\n    }\r\n\r\n    update(data: UpdateUserDTO): Observable<number> {\r\n      return this.http.put<number>(`${this.apiUrl}`, data);\r\n    }\r\n\r\n    delete(userId: number): Observable<number> {\r\n      return this.http.delete<number>(`${this.apiUrl}${userId}`);\r\n    }\r\n}\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AppRoutingModule } from './app-routing.module';\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    AppRoutingModule\r\n  ]\r\n})\r\nexport class UserModule { }\r\n","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\n\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}"],"names":["RouterModule","UsersListComponent","UserPageComponent","ActionEnum","ModulesEnum","ModuleActionsEnum","permissionGuard","RolesListComponent","RolePageComponent","routes","path","component","data","parentModule","Users","parentModuleAction","Read","canActivate","actionState","Create","Edit","Update","Roles","redirectTo","pathMatch","AppRoutingModule","forChild","imports","i1","exports","AppComponent","constructor","title","selectors","decls","vars","template","AppComponent_Template","rf","ctx","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","CommonModule","BrowserModule","provideClientHydration","HttpClientModule","UserModule","AppModule","bootstrap","declarations","TranslateModule","UserDTO","FormGroup","ReactiveFormsModule","Validators","firstValueFrom","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind1","ɵɵtemplate","RoleComponent_div_14_small_1_Template","ɵɵproperty","ctx_r0","formRole","controls","errors","i_r3","ɵɵtextInterpolate1","tmp_4_0","item_r2","get","value","RoleComponent","translate","moduleService","roleService","formBuilder","route","roleId","roleData","editAction","ngOnInit","setFormGroup","ngAfterViewInit","setRoleModulesFormArray","Promise","resolve","then","loadData","roleModules","createItem","module","group","idModule","moduleName","name","actions","create","read","update","delete","idRole","required","array","_this","_asyncToGenerator","modules","getAll","push","_this2","getById","role","patchValue","save","markAllAsTouched","valid","action","subscribe","e","redirectToList","console","error","cancel","navigate","ɵɵdirectiveInject","TranslateService","i2","ModuleService","i3","RoleService","i4","FormBuilder","i5","Router","inputs","standalone","features","ɵɵStandaloneFeature","consts","RoleComponent_Template","ɵɵlistener","RoleComponent_Template_button_click_2_listener","RoleComponent_Template_button_click_5_listener","RoleComponent_div_14_Template","RoleComponent_div_19_Template","ɵɵpropertyInterpolate","invalid","touched","TranslatePipe","ɵNgNoValidate","DefaultValueAccessor","CheckboxControlValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","FormGroupName","FormArrayName","i6","NgForOf","NgIf","styles","SelectComponent","SelectIdEnum","RoleDTO","UserComponent_div_14_small_1_Template","ctx_r1","formUser","UserComponent_div_15_div_6_small_1_Template","UserComponent_div_15_div_6_small_2_Template","UserComponent_div_15_div_6_Template","UserComponent_div_16_div_6_small_1_Template","UserComponent_div_16_div_6_Template","UserComponent_div_17_div_6_small_1_Template","UserComponent_div_17_div_6_small_2_Template","UserComponent_div_17_div_6_Template","UserComponent","userService","userId","userData","roleList","selectId","ListCourt","email","password","phone","pattern","id","invalidRoleValidator","idUser","isActive","user","toString","roles","roleSelect","items","transformToSelectDto","empty","log","payload","RoleId","Number","newUserRoleId","control","invalidRole","UserService","viewQuery","UserComponent_Query","UserComponent_Template_button_click_2_listener","ɵɵrestoreView","_r1","ɵɵresetView","UserComponent_Template_button_click_5_listener","UserComponent_div_14_Template","UserComponent_div_15_Template","UserComponent_div_16_Template","UserComponent_div_17_Template","UserComponent_div_24_Template","UserComponent_div_25_Template","ɵɵpureFunction2","_c1","_c2","tmp_15_0","hasError","MinLengthValidator","MaxLengthValidator","NgClass","map","text","RoleItemDTO","RoleModulesDTO","CreateUserDTO","UpdateUserDTO","paramMap","params","snapshot","setTitle","ActivatedRoute","attrs","_c0","RolePageComponent_Template","catchError","Subject","Subscription","switchMap","throwError","RouterLink","DropdownComponent","ConfirmModalComponent","ConfirmModalModel","RolesListComponent_For_19_td_5_Template_lib_dropdown_actionButtonClick_1_listener","$event","_r2","ctx_r2","ɵɵnextContext","handleAction","loadActionItems","rol_r4","RolesListComponent_For_19_td_5_Template","i_r5","allowUpdate","allowDelete","notificationService","permissionLibService","router","subscription","reloadRoles$","confirmModalData","actionsCallbacks","Map","allowCreate","hasMultiplePermissionToComponent","Delete","loadRoles","loadActions","loadConfirmModalData","instant","body","confirmLabel","cancelLabel","add","pipe","next","set","editRole","deleteRole","disabled","actionItem","find","boldBody","confirmDeleteModal","openModal","onConfirmDelete","errorMsg","ErrorNotification","Error","SuccesNotification","NotificationService","PermissionLibService","RolesListComponent_Query","RolesListComponent_a_7_Template","RolesListComponent_th_16_Template","ɵɵrepeaterCreate","RolesListComponent_For_19_Template","ɵɵrepeaterTrackByIdentity","RolesListComponent_ForEmpty_20_Template","RolesListComponent_Template_lib_confirm_modal_confirmButtonClick_21_listener","ɵɵrepeater","UserPageComponent_Template","UsersListComponent_For_28_td_13_Template_lib_dropdown_actionButtonClick_1_listener","user_r4","UsersListComponent_For_28_td_13_Template","tmp_13_0","roleName","undefined","reloadUsers$","loadUsers","users","editUser","deleteUser","UsersListComponent_Query","UsersListComponent_a_7_Template","UsersListComponent_th_25_Template","UsersListComponent_For_28_Template","UsersListComponent_ForEmpty_29_Template","UsersListComponent_Template_lib_confirm_modal_confirmButtonClick_30_listener","ApiEnum","http","apiUrl","Module","ɵɵinject","HttpClient","factory","ɵfac","providedIn","Role","post","put","User","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","catch","err"],"sourceRoot":"webpack:///","x_google_ignoreList":[23]}