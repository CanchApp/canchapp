{"version":3,"file":"633.js","mappings":"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","sources":["./node_modules/preact/compat/dist/compat.module.js","./node_modules/preact/dist/preact.module.js","./node_modules/preact/hooks/dist/hooks.module.js","./node_modules/@fullcalendar/core/index.js","./node_modules/@fullcalendar/core/internal-common.js"],"sourcesContent":["import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useId as s,useReducer as h,useEffect as v,useLayoutEffect as d,useRef as p,useImperativeHandle as m,useMemo as y,useCallback as _,useContext as b,useDebugValue as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n,t){return n===t&&(0!==n||1/n==1/t)||n!=n&&t!=t}function w(n){this.props=n}function R(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:C(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(w.prototype=new n).isPureReactComponent=!0,w.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var x=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),x&&x(n)};var N=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function k(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=N,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var A=function(n,t){return null==n?null:r(r(n).map(t))},O={map:A,forEach:A,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},T=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);T(n,t,e,r)};var I=e.unmount;function L(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return L(n,t,e)})),n}function U(n,t,e){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return U(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=e)),n}function D(){this.__u=0,this.t=null,this.__b=null}function F(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function M(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function V(){this.u=null,this.o=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),I&&I(n)},(D.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=F(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=U(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},D.prototype.componentWillUnmount=function(){this.t=[]},D.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=L(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__h=null),[t(u,null,e.__a?null:n.children),i]};var W=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function P(n){return this.getChildContext=function(){return n.context},n.children}function $(n){var e=this,r=n.i;e.componentWillUnmount=function(){o(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),n.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),o(t(P,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function j(n,e){var r=t($,{__v:n,i:e});return r.containerInfo=e,r}(V.prototype=new n).__a=function(n){var t=this,e=F(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),W(t,n,r)):u()};e?e(o):o()}},V.prototype.render=function(n){this.u=null,this.o=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},V.prototype.componentDidUpdate=V.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){W(n,e,t)})};var z=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,B=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,H=\"undefined\"!=typeof document,Z=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function Y(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function q(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var G=e.event;function J(){}function K(){return this.cancelBubble}function Q(){return this.defaultPrevented}e.event=function(n){return G&&(n=G(n)),n.persist=J,n.isPropagationStopped=K,n.isDefaultPrevented=Q,n.nativeEvent=n};var X,nn={configurable:!0,get:function(){return this.class}},tn=e.vnode;e.vnode=function(n){var t=n.type,e=n.props,u=e;if(\"string\"==typeof t){var o=-1===t.indexOf(\"-\");for(var i in u={},e){var l=e[i];H&&\"children\"===i&&\"noscript\"===t||\"value\"===i&&\"defaultValue\"in e&&null==l||(\"defaultValue\"===i&&\"value\"in e&&null==e.value?i=\"value\":\"download\"===i&&!0===l?l=\"\":/ondoubleclick/i.test(i)?i=\"ondblclick\":/^onchange(textarea|input)/i.test(i+t)&&!Z(e.type)?i=\"oninput\":/^onfocus$/i.test(i)?i=\"onfocusin\":/^onblur$/i.test(i)?i=\"onfocusout\":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():o&&B.test(i)?i=i.replace(/[A-Z0-9]/g,\"-$&\").toLowerCase():null===l&&(l=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),u[i]&&(i=\"oninputCapture\")),u[i]=l)}\"select\"==t&&u.multiple&&Array.isArray(u.value)&&(u.value=r(e.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==t&&null!=u.defaultValue&&(u.value=r(e.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),n.props=u,e.class!=e.className&&(nn.enumerable=\"className\"in e,null!=e.className&&(u.class=e.className),Object.defineProperty(u,\"className\",nn))}n.$$typeof=z,tn&&tn(n)};var en=e.__r;e.__r=function(n){en&&en(n),X=n.__c};var rn={ReactCurrentDispatcher:{current:{readContext:function(n){return X.__n[n.__c].props.value}}}},un=\"17.0.2\";function on(n){return t.bind(null,n)}function ln(n){return!!n&&n.$$typeof===z}function cn(n){return ln(n)?f.apply(null,arguments):n}function fn(n){return!!n.__k&&(o(null,n),!0)}function an(n){return n&&(n.base||1===n.nodeType&&n)||null}var sn=function(n,t){return n(t)},hn=function(n,t){return n(t)},vn=u;function dn(n){n()}function pn(n){return n}function mn(){return[!1,dn]}var yn=d;function _n(n,t){var e=t(),r=a({h:{__:e,v:t}}),u=r[0].h,o=r[1];return d(function(){u.__=e,u.v=t,E(u.__,t())||o({h:u})},[n,e,t]),v(function(){return E(u.__,u.v())||o({h:u}),n(function(){E(u.__,u.v())||o({h:u})})},[n]),e}var bn={useState:a,useId:s,useReducer:h,useEffect:v,useLayoutEffect:d,useInsertionEffect:yn,useTransition:mn,useDeferredValue:pn,useSyncExternalStore:_n,startTransition:dn,useRef:p,useImperativeHandle:m,useMemo:y,useCallback:_,useContext:b,useDebugValue:S,version:\"17.0.2\",Children:O,render:Y,hydrate:q,unmountComponentAtNode:fn,createPortal:j,createElement:t,createContext:l,createFactory:on,cloneElement:cn,createRef:c,Fragment:u,isValidElement:ln,findDOMNode:an,Component:n,PureComponent:w,memo:R,forwardRef:k,flushSync:hn,unstable_batchedUpdates:sn,StrictMode:vn,Suspense:D,SuspenseList:V,lazy:M,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:rn};export{O as Children,w as PureComponent,vn as StrictMode,D as Suspense,V as SuspenseList,rn as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cn as cloneElement,on as createFactory,j as createPortal,bn as default,an as findDOMNode,hn as flushSync,k as forwardRef,q as hydrate,ln as isValidElement,M as lazy,R as memo,Y as render,dn as startTransition,fn as unmountComponentAtNode,sn as unstable_batchedUpdates,pn as useDeferredValue,yn as useInsertionEffect,_n as useSyncExternalStore,mn as useTransition,un as version};\n","var n,l,u,i,t,r,o,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h(n,l){for(var u in l)n[u]=l[u];return n}function v(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,i){var t,r,o,f={};for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===f[o]&&(f[o]=l.defaultProps[o]);return p(l,f,t,r,null)}function p(n,i,t,r,o){var f={type:n,props:i,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++u:o};return null==o&&null!=l.vnode&&l.vnode(f),f}function d(){return{current:null}}function _(n){return n.children}function k(n,l,u,i,t){var r;for(r in u)\"children\"===r||\"key\"===r||r in l||g(n,r,null,u[r],i);for(r in l)t&&\"function\"!=typeof l[r]||\"children\"===r||\"key\"===r||\"value\"===r||\"checked\"===r||u[r]===l[r]||g(n,r,l[r],u[r],i)}function b(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function g(n,l,u,i,t){var r;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||b(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||b(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])r=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?w:m,r):n.removeEventListener(l,r?w:m,r);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&-1==l.indexOf(\"-\")?n.removeAttribute(l):n.setAttribute(l,u))}}function m(n){t=!0;try{return this.l[n.type+!1](l.event?l.event(n):n)}finally{t=!1}}function w(n){t=!0;try{return this.l[n.type+!0](l.event?l.event(n):n)}finally{t=!1}}function x(n,l){this.props=n,this.context=l}function A(n,l){if(null==l)return n.__?A(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?A(n):null}function P(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return P(n)}}function C(n){t?setTimeout(n):f(n)}function T(n){(!n.__d&&(n.__d=!0)&&r.push(n)&&!$.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||C)($)}function $(){var n,l,u,i,t,o,f,e;for(r.sort(function(n,l){return n.__v.__b-l.__v.__b});n=r.shift();)n.__d&&(l=r.length,i=void 0,t=void 0,f=(o=(u=n).__v).__e,(e=u.__P)&&(i=[],(t=h({},o)).__v=o.__v+1,M(e,o,t,u.__n,void 0!==e.ownerSVGElement,null!=o.__h?[f]:null,i,null==f?A(o):f,o.__h),N(i,o),o.__e!=f&&P(o)),r.length>l&&r.sort(function(n,l){return n.__v.__b-l.__v.__b}));$.__r=0}function H(n,l,u,i,t,r,o,f,e,a){var h,v,y,d,k,b,g,m=i&&i.__k||s,w=m.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(d=u.__k[h]=null==(d=l[h])||\"boolean\"==typeof d?null:\"string\"==typeof d||\"number\"==typeof d||\"bigint\"==typeof d?p(null,d,null,null,d):Array.isArray(d)?p(_,{children:d},null,null,null):d.__b>0?p(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)){if(d.__=u,d.__b=u.__b+1,null===(y=m[h])||y&&d.key==y.key&&d.type===y.type)m[h]=void 0;else for(v=0;v<w;v++){if((y=m[v])&&d.key==y.key&&d.type===y.type){m[v]=void 0;break}y=null}M(n,d,y=y||c,t,r,o,f,e,a),k=d.__e,(v=d.ref)&&y.ref!=v&&(g||(g=[]),y.ref&&g.push(y.ref,null,d),g.push(v,d.__c||k,d)),null!=k?(null==b&&(b=k),\"function\"==typeof d.type&&d.__k===y.__k?d.__d=e=I(d,e,n):e=z(n,d,y,m,k,e),\"function\"==typeof u.type&&(u.__d=e)):e&&y.__e==e&&e.parentNode!=n&&(e=A(y))}for(u.__e=b,h=w;h--;)null!=m[h]&&(\"function\"==typeof u.type&&null!=m[h].__e&&m[h].__e==u.__d&&(u.__d=L(i).nextSibling),q(m[h],m[h]));if(g)for(h=0;h<g.length;h++)S(g[h],g[++h],g[++h])}function I(n,l,u){for(var i,t=n.__k,r=0;t&&r<t.length;r++)(i=t[r])&&(i.__=n,l=\"function\"==typeof i.type?I(i,l,u):z(u,i,i,t,i.__e,l));return l}function j(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){j(n,l)}):l.push(n)),l}function z(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else{for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=1)if(f==t)break n;n.insertBefore(t,r),o=r}return void 0!==o?o:t.nextSibling}function L(n){var l,u,i;if(null==n.type||\"string\"==typeof n.type)return n.__e;if(n.__k)for(l=n.__k.length-1;l>=0;l--)if((u=n.__k[l])&&(i=L(u)))return i;return null}function M(n,u,i,t,r,o,f,e,c){var s,a,v,y,p,d,k,b,g,m,w,A,P,C,T,$=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof $){if(b=u.props,g=(s=$.contextType)&&t[s.__c],m=s?g?g.props.value:s.__:t,i.__c?k=(a=u.__c=i.__c).__=a.__E:(\"prototype\"in $&&$.prototype.render?u.__c=a=new $(b,m):(u.__c=a=new x(b,m),a.constructor=$,a.render=B),g&&g.sub(a),a.props=b,a.state||(a.state={}),a.context=m,a.__n=t,v=a.__d=!0,a.__h=[],a._sb=[]),null==a.__s&&(a.__s=a.state),null!=$.getDerivedStateFromProps&&(a.__s==a.state&&(a.__s=h({},a.__s)),h(a.__s,$.getDerivedStateFromProps(b,a.__s))),y=a.props,p=a.state,a.__v=u,v)null==$.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&a.__h.push(a.componentDidMount);else{if(null==$.getDerivedStateFromProps&&b!==y&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(b,m),!a.__e&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(b,a.__s,m)||u.__v===i.__v){for(u.__v!==i.__v&&(a.props=b,a.state=a.__s,a.__d=!1),u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),w=0;w<a._sb.length;w++)a.__h.push(a._sb[w]);a._sb=[],a.__h.length&&f.push(a);break n}null!=a.componentWillUpdate&&a.componentWillUpdate(b,a.__s,m),null!=a.componentDidUpdate&&a.__h.push(function(){a.componentDidUpdate(y,p,d)})}if(a.context=m,a.props=b,a.__P=n,A=l.__r,P=0,\"prototype\"in $&&$.prototype.render){for(a.state=a.__s,a.__d=!1,A&&A(u),s=a.render(a.props,a.state,a.context),C=0;C<a._sb.length;C++)a.__h.push(a._sb[C]);a._sb=[]}else do{a.__d=!1,A&&A(u),s=a.render(a.props,a.state,a.context),a.state=a.__s}while(a.__d&&++P<25);a.state=a.__s,null!=a.getChildContext&&(t=h(h({},t),a.getChildContext())),v||null==a.getSnapshotBeforeUpdate||(d=a.getSnapshotBeforeUpdate(y,p)),T=null!=s&&s.type===_&&null==s.key?s.props.children:s,H(n,Array.isArray(T)?T:[T],u,i,t,r,o,f,e,c),a.base=u.__e,u.__h=null,a.__h.length&&f.push(a),k&&(a.__E=a.__=null),a.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=O(i.__e,u,i,t,r,o,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=o)&&(u.__e=e,u.__h=!!c,o[o.indexOf(e)]=null),l.__e(n,u,i)}}function N(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function O(l,u,i,t,r,o,f,e){var s,a,h,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(r=!0),null!=o)for(;_<o.length;_++)if((s=o[_])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,o[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=r?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),o=null,e=!1}if(null===d)y===p||e&&l.data===p||(l.data=p);else{if(o=o&&n.call(l.childNodes),a=(y=i.props||c).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!e){if(null!=o)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(h||a)&&(h&&(a&&h.__html==a.__html||h.__html===l.innerHTML)||(l.innerHTML=h&&h.__html||\"\"))}if(k(l,p,y,r,e),h)u.__k=[];else if(_=u.props.children,H(l,Array.isArray(_)?_:[_],u,i,t,r&&\"foreignObject\"!==d,o,f,o?o[0]:i.__k&&A(i,0),e),null!=o)for(_=o.length;_--;)null!=o[_]&&v(o[_]);e||(\"value\"in p&&void 0!==(_=p.value)&&(_!==l.value||\"progress\"===d&&!_||\"option\"===d&&_!==y.value)&&g(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&g(l,\"checked\",_,y.checked,!1))}return l}function S(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function q(n,u,i){var t,r;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||S(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(r=0;r<t.length;r++)t[r]&&q(t[r],u,i||\"function\"!=typeof n.type);i||null==n.__e||v(n.__e),n.__=n.__e=n.__d=void 0}function B(n,l,u){return this.constructor(n,u)}function D(u,i,t){var r,o,f;l.__&&l.__(u,i),o=(r=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],M(i,u=(!r&&t||i).__k=y(_,null,[u]),o||c,c,void 0!==i.ownerSVGElement,!r&&t?[t]:o?null:i.firstChild?n.call(i.childNodes):null,f,!r&&t?t:o?o.__e:i.firstChild,r),N(f,u)}function E(n,l){D(n,l,E)}function F(l,u,i){var t,r,o,f=h({},l.props);for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),p(l.type,f,t||l.key,r||l.ref,null)}function G(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,T(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,i){for(var t,r,o;l=l.__;)if((t=l.__c)&&!t.__)try{if((r=t.constructor)&&null!=r.getDerivedStateFromError&&(t.setState(r.getDerivedStateFromError(n)),o=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),o=t.__d),o)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},t=!1,x.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),\"function\"==typeof n&&(n=n(h({},u),this.props)),n&&h(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),T(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),T(this))},x.prototype.render=_,r=[],f=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$.__r=0,e=0;export{x as Component,_ as Fragment,F as cloneElement,G as createContext,y as createElement,d as createRef,y as h,E as hydrate,i as isValidElement,l as options,D as render,j as toChildArray};\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function d(t,u){n.__h&&n.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function p(n){return o=1,y(B,n)}function y(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){r.u=!0;var f=r.shouldComponentUpdate;r.shouldComponentUpdate=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!f||f.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!f||f.call(this,n,t,r))}}return o.__N||o.__}function h(u,i){var o=d(t++,3);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function s(u,i){var o=d(t++,4);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,s(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return z(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function P(n){var u=d(t++,10),i=p();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function V(){var n=d(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){r=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[])),u=r},n.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===n.requestAnimationFrame||((i=n.requestAnimationFrame)||j)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return!n.__||w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),l&&l(t,r)},n.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n)}catch(n){r=n}}),u.__H=void 0,r&&n.__e(r,u.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function z(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B(n,t){return\"function\"==typeof t?t(n):t}export{T as useCallback,q as useContext,x as useDebugValue,h as useEffect,P as useErrorBoundary,V as useId,A as useImperativeHandle,s as useLayoutEffect,F as useMemo,y as useReducer,_ as useRef,p as useState};\n","import { m as mergeProps, g as guid, i as isArraysEqual, T as Theme, a as mapHash, B as BaseComponent, V as ViewContextType, C as ContentContainer, b as buildViewClassNames, c as greatestDurationDenominator, d as createDuration, e as BASE_OPTION_DEFAULTS, f as arrayToHash, h as filterHash, j as buildEventSourceRefiners, p as parseEventSource, k as formatWithOrdinals, u as unpromisify, l as buildRangeApiWithTimeZone, n as identity, r as requestJson, s as subtractDurations, o as intersectRanges, q as startOfDay, t as addDays, v as hashValuesToArray, w as buildEventApis, D as DelayedRunner, x as createFormatter, y as diffWholeDays, z as memoize, A as memoizeObjArg, E as isPropsEqual, F as Emitter, G as getInitialDate, H as rangeContainsMarker, I as createEmptyEventStore, J as reduceCurrentDate, K as reduceEventStore, L as rezoneEventStoreDates, M as mergeRawOptions, N as BASE_OPTION_REFINERS, O as CALENDAR_LISTENER_REFINERS, P as CALENDAR_OPTION_REFINERS, Q as COMPLEX_OPTION_COMPARATORS, R as VIEW_OPTION_REFINERS, S as DateEnv, U as DateProfileGenerator, W as createEventUi, X as parseBusinessHours, Y as setRef, Z as Interaction, _ as getElSeg, $ as elementClosest, a0 as EventImpl, a1 as listenBySelector, a2 as listenToHoverBySelector, a3 as PureComponent, a4 as buildViewContext, a5 as getUniqueDomId, a6 as parseInteractionSettings, a7 as interactionSettingsStore, a8 as getNow, a9 as CalendarImpl, aa as flushSync, ab as CalendarRoot, ac as RenderId, ad as ensureElHasStyles, ae as applyStyleProp, af as sliceEventStore } from './internal-common.js';\nexport { ag as JsonRequestError } from './internal-common.js';\nimport { createElement, createRef, Fragment, render } from 'preact';\nimport 'preact/compat';\n\nconst globalLocales = [];\n\nconst MINIMAL_RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    weekTextLong: 'Week',\n    closeHint: 'Close',\n    timeHint: 'Time',\n    eventHint: 'Event',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nconst RAW_EN_LOCALE = Object.assign(Object.assign({}, MINIMAL_RAW_EN_LOCALE), { \n    // Includes things we don't want other locales to inherit,\n    // things that derive from other translatable strings.\n    buttonHints: {\n        prev: 'Previous $0',\n        next: 'Next $0',\n        today(buttonText, unit) {\n            return (unit === 'day')\n                ? 'Today'\n                : `This ${buttonText}`;\n        },\n    }, viewHint: '$0 view', navLinkHint: 'Go to $0', moreLinkHint(eventCnt) {\n        return `Show ${eventCnt} more event${eventCnt === 1 ? '' : 's'}`;\n    } });\nfunction organizeRawLocales(explicitRawLocales) {\n    let defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    let allRawLocales = globalLocales.concat(explicitRawLocales);\n    let rawLocaleMap = {\n        en: RAW_EN_LOCALE,\n    };\n    for (let rawLocale of allRawLocales) {\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    let codes = [].concat(codeArg || []); // will convert to array\n    let raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (let i = 0; i < codes.length; i += 1) {\n        let parts = codes[i].toLocaleLowerCase().split('-');\n        for (let j = parts.length; j > 0; j -= 1) {\n            let simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    let merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    let { week } = merged;\n    delete merged.week;\n    return {\n        codeArg,\n        codes,\n        week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        name: input.name,\n        premiumReleaseDate: input.premiumReleaseDate ? new Date(input.premiumReleaseDate) : undefined,\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    let currentPluginIds = {};\n    let hooks = {\n        premiumReleaseDate: undefined,\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (let def of defs) {\n            const pluginName = def.name;\n            const currentId = currentPluginIds[pluginName];\n            if (currentId === undefined) {\n                currentPluginIds[pluginName] = def.id;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n            else if (currentId !== def.id) {\n                // different ID than the one already added\n                console.warn(`Duplicate plugin '${pluginName}'`);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    let currentOverrideDefs = [];\n    let currentGlobalDefs = [];\n    let currentHooks;\n    return (overrideDefs, globalDefs) => {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        premiumReleaseDate: compareOptionalDates(hooks0.premiumReleaseDate, hooks1.premiumReleaseDate),\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: Object.assign(Object.assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: Object.assign(Object.assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: Object.assign(Object.assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: Object.assign(Object.assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: Object.assign(Object.assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        listenerRefiners: Object.assign(Object.assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: Object.assign(Object.assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: Object.assign(Object.assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\nfunction compareOptionalDates(date0, date1) {\n    if (date0 === undefined) {\n        return date1;\n    }\n    if (date1 === undefined) {\n        return date0;\n    }\n    return new Date(Math.max(date0.valueOf(), date1.valueOf()));\n}\n\nclass StandardTheme extends Theme {\n}\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    let hash = {};\n    let viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    let viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    let defaultConfig = defaultConfigs[viewType];\n    let overrideConfig = overrideConfigs[viewType];\n    let queryProp = (name) => ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null));\n    let theComponent = queryProp('component');\n    let superType = queryProp('superType');\n    let superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: Object.assign(Object.assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: Object.assign(Object.assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    let rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    let { component } = rawOptions;\n    if (rawOptions.content) {\n        // TODO: remove content/classNames/didMount/etc from options?\n        component = createViewHookComponent(rawOptions);\n    }\n    else if (component && !(component.prototype instanceof BaseComponent)) {\n        // WHY?: people were using `component` property for `content`\n        // TODO: converge on one setting name\n        component = createViewHookComponent(Object.assign(Object.assign({}, rawOptions), { content: component }));\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions, // includes type and component too :(\n    };\n}\nfunction createViewHookComponent(options) {\n    return (viewProps) => (createElement(ViewContextType.Consumer, null, (context) => (createElement(ContentContainer, { elTag: \"div\", elClasses: buildViewClassNames(context.viewSpec), renderProps: Object.assign(Object.assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold }), generatorName: undefined, customGenerator: options.content, classNameGenerator: options.classNames, didMount: options.didMount, willUnmount: options.willUnmount }))));\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let defaultConfigs = parseViewConfigs(defaultInputs);\n    let overrideConfigs = parseViewConfigs(optionOverrides.views);\n    let viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, (viewDef) => buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults));\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    let duration = null;\n    let durationUnit = '';\n    let singleUnit = '';\n    let singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            let denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    let queryButtonText = (optionsSubset) => {\n        let buttonTextMap = optionsSubset.buttonText || {};\n        let buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    let queryButtonTitle = (optionsSubset) => {\n        let buttonHints = optionsSubset.buttonHints || {};\n        let buttonKey = viewDef.defaults.buttonTextKey; // use same key as text\n        if (buttonKey != null && buttonHints[buttonKey] != null) {\n            return buttonHints[buttonKey];\n        }\n        if (buttonHints[viewDef.type] != null) {\n            return buttonHints[viewDef.type];\n        }\n        if (buttonHints[singleUnit] != null) {\n            return buttonHints[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration,\n        durationUnit,\n        singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: Object.assign(Object.assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type,\n        // not DRY\n        buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) ||\n            queryButtonTitle(optionOverrides) ||\n            viewDef.overrides.buttonHint,\n        buttonTitleDefault: queryButtonTitle(localeDefaults) ||\n            viewDef.defaults.buttonHint ||\n            queryButtonTitle(BASE_OPTION_DEFAULTS),\n        // will eventually fall back to buttonText\n    };\n}\n// hack to get memoization working\nlet durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    let json = JSON.stringify(durationInput);\n    let res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    switch (action.type) {\n        case 'SET_OPTION':\n            return Object.assign(Object.assign({}, dynamicOptionOverrides), { [action.optionName]: action.rawOptionValue });\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    let dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (let sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    let hash = {};\n    for (let source of sources) {\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return Object.assign(Object.assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, (eventSource) => eventSource.sourceId !== sourceId);\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, (eventSource) => isSourceDirty(eventSource, fetchRange, context)), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    let nextSources = {};\n    for (let sourceId in prevSources) {\n        let source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    let { options, calendarApi } = context;\n    let sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    let fetchId = guid();\n    sourceDef.fetch({\n        eventSource,\n        range: fetchRange,\n        isRefetch,\n        context,\n    }, (res) => {\n        let { rawEvents } = res;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.response) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.response) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            rawEvents,\n        });\n    }, (error) => {\n        let errorHandled = false;\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n            errorHandled = true;\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n            errorHandled = true;\n        }\n        if (!errorHandled) {\n            console.warn(error.message, error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            error,\n        });\n    });\n    return Object.assign(Object.assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    let eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return Object.assign(Object.assign({}, sourceHash), { [sourceId]: Object.assign(Object.assign({}, eventSource), { isFetching: false, fetchRange }) });\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, (eventSource) => doesSourceNeedRange(eventSource, context));\n}\nfunction parseInitialSources(rawOptions, context) {\n    let refiners = buildEventSourceRefiners(context);\n    let rawSources = [].concat(rawOptions.eventSources || []);\n    let sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (let rawSource of rawSources) {\n        let source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    let defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    let newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    let newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    let footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    return { header, footer };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let sectionWidgets = {};\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    for (let sectionName in sectionStrHash) {\n        let sectionStr = sectionStrHash[sectionName];\n        let sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);\n        sectionWidgets[sectionName] = sectionRes.widgets;\n        viewsWithButtons.push(...sectionRes.viewsWithButtons);\n        hasTitle = hasTitle || sectionRes.hasTitle;\n    }\n    return { sectionWidgets, viewsWithButtons, hasTitle };\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, // defaults+overrides, then refined\ncalendarOptionOverrides, // overrides only!, unrefined :(\ntheme, viewSpecs, calendarApi) {\n    let isRtl = calendarOptions.direction === 'rtl';\n    let calendarCustomButtons = calendarOptions.customButtons || {};\n    let calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    let calendarButtonText = calendarOptions.buttonText || {};\n    let calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};\n    let calendarButtonHints = calendarOptions.buttonHints || {};\n    let sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    let widgets = sectionSubstrs.map((buttonGroupStr) => (buttonGroupStr.split(',').map((buttonName) => {\n        if (buttonName === 'title') {\n            hasTitle = true;\n            return { buttonName };\n        }\n        let customButtonProps;\n        let viewSpec;\n        let buttonClick;\n        let buttonIcon; // only one of these will be set\n        let buttonText; // \"\n        let buttonHint;\n        // ^ for the title=\"\" attribute, for accessibility\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = (ev) => {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n            buttonHint = customButtonProps.hint || customButtonProps.text;\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = () => {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n            let textFallback = viewSpec.buttonTextOverride ||\n                viewSpec.buttonTextDefault;\n            buttonHint = formatWithOrdinals(viewSpec.buttonTitleOverride ||\n                viewSpec.buttonTitleDefault ||\n                calendarOptions.viewHint, [textFallback, buttonName], // view-name = buttonName\n            textFallback);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = () => {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]); // everything else is considered default\n            if (buttonName === 'prevYear' || buttonName === 'nextYear') {\n                let prevOrNext = buttonName === 'prevYear' ? 'prev' : 'next';\n                buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] ||\n                    calendarButtonHints[prevOrNext], [\n                    calendarButtonText.year || 'year',\n                    'year',\n                ], calendarButtonText[buttonName]);\n            }\n            else {\n                buttonHint = (navUnit) => formatWithOrdinals(calendarButtonHintOverrides[buttonName] ||\n                    calendarButtonHints[buttonName], [\n                    calendarButtonText[navUnit] || navUnit,\n                    navUnit,\n                ], calendarButtonText[buttonName]);\n            }\n        }\n        return { buttonName, buttonClick, buttonIcon, buttonText, buttonHint };\n    })));\n    return { widgets, viewsWithButtons, hasTitle };\n}\n\n// always represents the current view. otherwise, it'd need to change value every time date changes\nclass ViewImpl {\n    constructor(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    get calendar() {\n        return this.getCurrentData().calendarApi;\n    }\n    get title() {\n        return this.getCurrentData().viewTitle;\n    }\n    get activeStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n    }\n    get activeEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n    }\n    get currentStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n    }\n    get currentEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n    }\n    getOption(name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    }\n}\n\nlet eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta(refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, successCallback) {\n        successCallback({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nconst arrayEventSourcePlugin = createPlugin({\n    name: 'array-event-source',\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nlet eventSourceDef$1 = {\n    parseMeta(refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        const { dateEnv } = arg.context;\n        const func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), (rawEvents) => successCallback({ rawEvents }), errorCallback);\n    },\n};\nconst funcEventSourcePlugin = createPlugin({\n    name: 'func-event-source',\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nconst JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nlet eventSourceDef = {\n    parseMeta(refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        const { meta } = arg.eventSource;\n        const requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams).then(([rawEvents, response]) => {\n            successCallback({ rawEvents, response });\n        }, errorCallback);\n    },\n};\nconst jsonFeedEventSourcePlugin = createPlugin({\n    name: 'json-event-source',\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    let { dateEnv, options } = context;\n    let startParam;\n    let endParam;\n    let timeZoneParam;\n    let customRequestParams;\n    let params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    Object.assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nconst SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nlet recurring = {\n    parse(refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            let recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            let duration;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand(typeData, framingRange, dateEnv) {\n        let clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nconst simpleRecurringEventsPlugin = createPlugin({\n    name: 'simple-recurring-event',\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    let dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    let dayMarker = startOfDay(framingRange.start);\n    let endMarker = framingRange.end;\n    let instanceStarts = [];\n    while (dayMarker < endMarker) {\n        let instanceStart;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nconst changeHandlerPlugin = createPlugin({\n    name: 'change-handler',\n    optionChangeHandlers: {\n        events(events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    let unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    if (unfoundSources.length === 1 &&\n        inputs.length === 1 &&\n        Array.isArray(unfoundSources[0]._raw) &&\n        Array.isArray(inputs[0])) {\n        context.dispatch({\n            type: 'RESET_RAW_EVENTS',\n            sourceId: unfoundSources[0].sourceId,\n            rawEvents: inputs[0],\n        });\n        return;\n    }\n    let newInputs = [];\n    for (let input of inputs) {\n        let inputFound = false;\n        for (let i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (let unfoundSource of unfoundSources) {\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (let newInput of newInputs) {\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', Object.assign(Object.assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    let { emitter } = context;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nconst globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        name: 'misc',\n        isLoadingFuncs: [\n            (state) => computeEventSourcesLoading(state.eventSources),\n        ],\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\n\nclass TaskRunner {\n    constructor(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    request(task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    }\n    pause(scope) {\n        this.delayedRunner.pause(scope);\n    }\n    resume(scope, force) {\n        this.delayedRunner.resume(scope, force);\n    }\n    drain() {\n        let { queue } = this;\n        while (queue.length) {\n            let completedTasks = [];\n            let task;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    }\n    runTask(task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    }\n    drained(completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    }\n}\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    let range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    let { currentRangeUnit } = dateProfile;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    let days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nclass CalendarDataManager {\n    constructor(props) {\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv$1);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.optionsForRefining = [];\n        this.optionsForHandling = [];\n        this.getCurrentData = () => this.data;\n        this.dispatch = (action) => {\n            this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        let dynamicOptionOverrides = {};\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        let currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        let dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        let calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (let callback of optionsData.pluginHooks.contextInit) {\n            callback(calendarContext);\n        }\n        // NOT DRY\n        let eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        let initialState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), initialState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            Object.assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    resetOptions(optionOverrides, changedOptionNames) {\n        let { props } = this;\n        if (changedOptionNames === undefined) {\n            props.optionOverrides = optionOverrides;\n        }\n        else {\n            props.optionOverrides = Object.assign(Object.assign({}, (props.optionOverrides || {})), optionOverrides);\n            this.optionsForRefining.push(...changedOptionNames);\n        }\n        if (changedOptionNames === undefined || changedOptionNames.length) {\n            this.actionRunner.request({\n                type: 'NOTHING',\n            });\n        }\n    }\n    _handleAction(action) {\n        let { props, state, emitter } = this;\n        let dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = reduceViewType(state.currentViewType, action);\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        let calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        let { currentDate, dateProfile } = state;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        let eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        let eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        let isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        let renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        let { eventUiSingleBase, selectionConfig } = this.buildViewUiProps(calendarContext); // will memoize obj\n        let eventUiBySource = this.buildEventUiBySource(eventSources);\n        let eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        let newState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            eventSources,\n            eventStore,\n            renderableEventStore,\n            selectionConfig,\n            eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), newState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            Object.assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        let wasLoading = computeIsLoading(state, calendarContext);\n        let isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    }\n    updateData() {\n        let { props, state } = this;\n        let oldData = this.data;\n        let optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        let currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        let data = this.data = Object.assign(Object.assign(Object.assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        let changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        let oldCalendarOptions = oldData && oldData.calendarOptions;\n        let newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n                state.renderableEventStore = data.renderableEventStore = rezoneEventStoreDates(data.renderableEventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (let optionName in changeHandlers) {\n                if (this.optionsForHandling.indexOf(optionName) !== -1 ||\n                    oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        this.optionsForHandling = [];\n        if (props.onData) {\n            props.onData(data);\n        }\n    }\n    computeOptionsData(optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        if (!this.optionsForRefining.length &&\n            optionOverrides === this.stableOptionOverrides &&\n            dynamicOptionOverrides === this.stableDynamicOptionOverrides) {\n            return this.stableCalendarOptionsData;\n        }\n        let { refinedOptions, pluginHooks, localeDefaults, availableLocaleData, extra, } = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        let dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        let viewSpecs = this.buildViewSpecs(pluginHooks.views, this.stableOptionOverrides, this.stableDynamicOptionOverrides, localeDefaults);\n        let theme = this.buildTheme(refinedOptions, pluginHooks);\n        let toolbarConfig = this.parseToolbars(refinedOptions, this.stableOptionOverrides, theme, viewSpecs, calendarApi);\n        return this.stableCalendarOptionsData = {\n            calendarOptions: refinedOptions,\n            pluginHooks,\n            dateEnv,\n            viewSpecs,\n            theme,\n            toolbarConfig,\n            localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    }\n    // always called from behind a memoizer\n    processRawCalendarOptions(optionOverrides, dynamicOptionOverrides) {\n        let { locales, locale } = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let availableLocaleData = this.organizeRawLocales(locales);\n        let availableRawLocales = availableLocaleData.map;\n        let localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        let pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        let refiners = this.currentCalendarOptionsRefiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let extra = {};\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refined = {};\n        let currentRaw = this.currentCalendarOptionsInput;\n        let currentRefined = this.currentCalendarOptionsRefined;\n        let anyChanges = false;\n        for (let optionName in raw) {\n            if (this.optionsForRefining.indexOf(optionName) === -1 && (raw[optionName] === currentRaw[optionName] || (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                (optionName in currentRaw) &&\n                COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName])))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else if (refiners[optionName]) {\n                refined[optionName] = refiners[optionName](raw[optionName]);\n                anyChanges = true;\n            }\n            else {\n                extra[optionName] = currentRaw[optionName];\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n            this.stableOptionOverrides = optionOverrides;\n            this.stableDynamicOptionOverrides = dynamicOptionOverrides;\n        }\n        this.optionsForHandling.push(...this.optionsForRefining);\n        this.optionsForRefining = [];\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks,\n            availableLocaleData,\n            localeDefaults,\n            extra,\n        };\n    }\n    _computeCurrentViewData(viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        let viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(`viewType \"${viewType}\" is not available. Please make sure you've loaded all neccessary plugins`);\n        }\n        let { refinedOptions, extra } = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        let dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        let viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec, options: refinedOptions, dateProfileGenerator, viewApi };\n    }\n    processRawViewOptions(viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let refined = {};\n        let currentRaw = this.currentViewOptionsInput;\n        let currentRefined = this.currentViewOptionsRefined;\n        let anyChanges = false;\n        let extra = {};\n        for (let optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName] ||\n                (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                    COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], currentRaw[optionName]))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], this.currentCalendarOptionsInput[optionName]))) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra,\n        };\n    }\n}\nfunction buildDateEnv$1(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    let locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale,\n        weekNumberCalculation,\n        firstDay,\n        weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    let ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    let DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewImpl(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, (eventSource) => eventSource.ui);\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    let eventUiBases = { '': eventUiSingleBase };\n    for (let defId in eventDefs) {\n        let def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    let { options } = calendarContext;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (let isLoadingFunc of context.pluginHooks.isLoadingFuncs) {\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (let optionName in options) {\n        console.warn(`Unknown option '${optionName}'` +\n            (viewName ? ` for view '${viewName}'` : ''));\n    }\n}\n\nclass ToolbarSection extends BaseComponent {\n    render() {\n        let children = this.props.widgetGroups.map((widgetGroup) => this.renderWidgetGroup(widgetGroup));\n        return createElement('div', { className: 'fc-toolbar-chunk' }, ...children);\n    }\n    renderWidgetGroup(widgetGroup) {\n        let { props } = this;\n        let { theme } = this.context;\n        let children = [];\n        let isOnlyButtons = true;\n        for (let widget of widgetGroup) {\n            let { buttonName, buttonClick, buttonText, buttonIcon, buttonHint } = widget;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\", id: props.titleId }, props.title));\n            }\n            else {\n                let isPressed = buttonName === props.activeButton;\n                let isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                let buttonClasses = [`fc-${buttonName}-button`, theme.getClass('button')];\n                if (isPressed) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                children.push(createElement(\"button\", { type: \"button\", title: typeof buttonHint === 'function' ? buttonHint(props.navUnit) : buttonHint, disabled: isDisabled, \"aria-pressed\": isPressed, className: buttonClasses.join(' '), onClick: buttonClick }, buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon, role: \"img\" }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            let groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement('div', { className: groupClassName }, ...children);\n        }\n        return children[0];\n    }\n}\n\nclass Toolbar extends BaseComponent {\n    render() {\n        let { model, extraClassName } = this.props;\n        let forceLtr = false;\n        let startContent;\n        let endContent;\n        let sectionWidgets = model.sectionWidgets;\n        let centerContent = sectionWidgets.center;\n        if (sectionWidgets.left) {\n            forceLtr = true;\n            startContent = sectionWidgets.left;\n        }\n        else {\n            startContent = sectionWidgets.start;\n        }\n        if (sectionWidgets.right) {\n            forceLtr = true;\n            endContent = sectionWidgets.right;\n        }\n        else {\n            endContent = sectionWidgets.end;\n        }\n        let classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    }\n    renderSection(key, widgetGroups) {\n        let { props } = this;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, navUnit: props.navUnit, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled, titleId: props.titleId }));\n    }\n}\n\nclass ViewHarness extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            availableWidth: null,\n        };\n        this.handleEl = (el) => {\n            this.el = el;\n            setRef(this.props.elRef, el);\n            this.updateAvailableWidth();\n        };\n        this.handleResize = () => {\n            this.updateAvailableWidth();\n        };\n    }\n    render() {\n        let { props, state } = this;\n        let { aspectRatio } = props;\n        let classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        let height = '';\n        let paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = `${(1 / aspectRatio) * 100}%`;\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { \"aria-labelledby\": props.labeledById, ref: this.handleEl, className: classNames.join(' '), style: { height, paddingBottom } }, props.children));\n    }\n    componentDidMount() {\n        this.context.addResizeHandler(this.handleResize);\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleResize);\n    }\n    updateAvailableWidth() {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    }\n}\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nclass EventClicking extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.handleSegClick = (ev, segEl) => {\n            let { component } = this;\n            let { context } = component;\n            let seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                let hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                let url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventImpl(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        this.handleSegClick);\n    }\n}\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nclass EventHovering extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        this.handleEventElRemove = (el) => {\n            if (el === this.currentSegEl) {\n                this.handleSegLeave(null, this.currentSegEl);\n            }\n        };\n        this.handleSegEnter = (ev, segEl) => {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                this.currentSegEl = segEl;\n                this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        this.handleSegLeave = (ev, segEl) => {\n            if (this.currentSegEl) {\n                this.currentSegEl = null;\n                this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        this.handleSegEnter, this.handleSegLeave);\n    }\n    destroy() {\n        this.removeHoverListeners();\n    }\n    triggerEvent(publicEvName, ev, segEl) {\n        let { component } = this;\n        let { context } = component;\n        let seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventImpl(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    }\n}\n\nclass CalendarContent extends PureComponent {\n    constructor() {\n        super(...arguments);\n        this.buildViewContext = memoize(buildViewContext);\n        this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        this.buildToolbarProps = memoize(buildToolbarProps);\n        this.headerRef = createRef();\n        this.footerRef = createRef();\n        this.interactionsStore = {};\n        // eslint-disable-next-line\n        this.state = {\n            viewLabelId: getUniqueDomId(),\n        };\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        this.registerInteractiveComponent = (component, settingsInput) => {\n            let settings = parseInteractionSettings(component, settingsInput);\n            let DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            let interactionClasses = DEFAULT_INTERACTIONS.concat(this.props.pluginHooks.componentInteractions);\n            let interactions = interactionClasses.map((TheInteractionClass) => new TheInteractionClass(settings));\n            this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        this.unregisterInteractiveComponent = (component) => {\n            let listeners = this.interactionsStore[component.uid];\n            if (listeners) {\n                for (let listener of listeners) {\n                    listener.destroy();\n                }\n                delete this.interactionsStore[component.uid];\n            }\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        this.resizeRunner = new DelayedRunner(() => {\n            this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            this.props.emitter.trigger('windowResize', { view: this.props.viewApi });\n        });\n        this.handleWindowResize = (ev) => {\n            let { options } = this.props;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    render() {\n        let { props } = this;\n        let { toolbarConfig, options } = props;\n        let toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        let viewVGrow = false;\n        let viewHeight = '';\n        let viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        let viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        let viewLabelId = (toolbarConfig.header && toolbarConfig.header.hasTitle)\n            ? this.state.viewLabelId\n            : undefined;\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.header && (createElement(Toolbar, Object.assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.header, titleId: viewLabelId }, toolbarProps))),\n            createElement(ViewHarness, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, labeledById: viewLabelId },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footer && (createElement(Toolbar, Object.assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footer, titleId: \"\" }, toolbarProps)))));\n    }\n    componentDidMount() {\n        let { props } = this;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map((CalendarInteractionClass) => new CalendarInteractionClass(props));\n        window.addEventListener('resize', this.handleWindowResize);\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    }\n    componentDidUpdate(prevProps) {\n        let { props } = this;\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    }\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (let interaction of this.calendarInteractions) {\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    }\n    buildAppendContent() {\n        let { props } = this;\n        let children = props.pluginHooks.viewContainerAppends.map((buildAppendContent) => buildAppendContent(props));\n        return createElement(Fragment, {}, ...children);\n    }\n    renderView(props) {\n        let { pluginHooks } = props;\n        let { viewSpec } = props;\n        let viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        let transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (let transformer of transformers) {\n            Object.assign(viewProps, transformer.transform(viewProps, props));\n        }\n        let ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, Object.assign({}, viewProps)));\n    }\n}\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    let todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    let prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    let nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title,\n        activeButton: viewSpec.type,\n        navUnit: viewSpec.singleUnit,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map((TheClass) => new TheClass());\n}\n\nclass Calendar extends CalendarImpl {\n    constructor(el, optionOverrides = {}) {\n        super();\n        this.isRendering = false;\n        this.isRendered = false;\n        this.currentClassNames = [];\n        this.customContentRenderId = 0;\n        this.handleAction = (action) => {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    this.renderRunner.tryDrain();\n            }\n        };\n        this.handleData = (data) => {\n            this.currentData = data;\n            this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        this.handleRenderRequest = () => {\n            if (this.isRendering) {\n                this.isRendered = true;\n                let { currentData } = this;\n                flushSync(() => {\n                    render(createElement(CalendarRoot, { options: currentData.calendarOptions, theme: currentData.theme, emitter: currentData.emitter }, (classNames, height, isHeightAuto, forPrint) => {\n                        this.setClassNames(classNames);\n                        this.setHeight(height);\n                        return (createElement(RenderId.Provider, { value: this.customContentRenderId },\n                            createElement(CalendarContent, Object.assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData))));\n                    }), this.el);\n                });\n            }\n            else if (this.isRendered) {\n                this.isRendered = false;\n                render(null, this.el);\n                this.setClassNames([]);\n                this.setHeight('');\n            }\n        };\n        ensureElHasStyles(el);\n        this.el = el;\n        this.renderRunner = new DelayedRunner(this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides,\n            calendarApi: this,\n            onAction: this.handleAction,\n            onData: this.handleData,\n        });\n    }\n    render() {\n        let wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    }\n    destroy() {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    }\n    updateSize() {\n        flushSync(() => {\n            super.updateSize();\n        });\n    }\n    batchRendering(func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    }\n    pauseRendering() {\n        this.renderRunner.pause('pauseRendering');\n    }\n    resumeRendering() {\n        this.renderRunner.resume('pauseRendering', true);\n    }\n    resetOptions(optionOverrides, changedOptionNames) {\n        this.currentDataManager.resetOptions(optionOverrides, changedOptionNames);\n    }\n    setClassNames(classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            let { classList } = this.el;\n            for (let className of this.currentClassNames) {\n                classList.remove(className);\n            }\n            for (let className of classNames) {\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    }\n    setHeight(height) {\n        applyStyleProp(this.el, 'height', height);\n    }\n}\n\nfunction formatDate(dateInput, options = {}) {\n    let dateEnv = buildDateEnv(options);\n    let formatter = createFormatter(options);\n    let dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    let dateEnv = buildDateEnv(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    let formatter = createFormatter(options);\n    let startMeta = dateEnv.createMarkerMeta(startInput);\n    let endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv(settings) {\n    let locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(Object.assign(Object.assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale }));\n}\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nconst version = '6.1.15';\n\nexport { Calendar, createPlugin, formatDate, formatRange, globalLocales, globalPlugins, sliceEvents, version };\n","import * as preact from 'preact';\nimport { Component, createElement, isValidElement, Fragment } from 'preact';\nimport { createPortal } from 'preact/compat';\n\nconst styleTexts = [];\nconst styleEls = new Map();\nfunction injectStyles(styleText) {\n    styleTexts.push(styleText);\n    styleEls.forEach((styleEl) => {\n        appendStylesTo(styleEl, styleText);\n    });\n}\nfunction ensureElHasStyles(el) {\n    if (el.isConnected && // sometimes true if SSR system simulates DOM\n        el.getRootNode // sometimes undefined if SSR system simulates DOM\n    ) {\n        registerStylesRoot(el.getRootNode());\n    }\n}\nfunction registerStylesRoot(rootNode) {\n    let styleEl = styleEls.get(rootNode);\n    if (!styleEl || !styleEl.isConnected) {\n        styleEl = rootNode.querySelector('style[data-fullcalendar]');\n        if (!styleEl) {\n            styleEl = document.createElement('style');\n            styleEl.setAttribute('data-fullcalendar', '');\n            const nonce = getNonceValue();\n            if (nonce) {\n                styleEl.nonce = nonce;\n            }\n            const parentEl = rootNode === document ? document.head : rootNode;\n            const insertBefore = rootNode === document\n                ? parentEl.querySelector('script,link[rel=stylesheet],link[as=style],style')\n                : parentEl.firstChild;\n            parentEl.insertBefore(styleEl, insertBefore);\n        }\n        styleEls.set(rootNode, styleEl);\n        hydrateStylesRoot(styleEl);\n    }\n}\nfunction hydrateStylesRoot(styleEl) {\n    for (const styleText of styleTexts) {\n        appendStylesTo(styleEl, styleText);\n    }\n}\nfunction appendStylesTo(styleEl, styleText) {\n    const { sheet } = styleEl;\n    const ruleCnt = sheet.cssRules.length;\n    styleText.split('}').forEach((styleStr, i) => {\n        styleStr = styleStr.trim();\n        if (styleStr) {\n            sheet.insertRule(styleStr + '}', ruleCnt + i);\n        }\n    });\n}\n// nonce\n// -------------------------------------------------------------------------------------------------\nlet queriedNonceValue;\nfunction getNonceValue() {\n    if (queriedNonceValue === undefined) {\n        queriedNonceValue = queryNonceValue();\n    }\n    return queriedNonceValue;\n}\n/*\nTODO: discourage meta tag and instead put nonce attribute on placeholder <style> tag\n*/\nfunction queryNonceValue() {\n    const metaWithNonce = document.querySelector('meta[name=\"csp-nonce\"]');\n    if (metaWithNonce && metaWithNonce.hasAttribute('content')) {\n        return metaWithNonce.getAttribute('content');\n    }\n    const elWithNonce = document.querySelector('script[nonce]');\n    if (elWithNonce) {\n        return elWithNonce.nonce || '';\n    }\n    return '';\n}\n// main\n// -------------------------------------------------------------------------------------------------\nif (typeof document !== 'undefined') {\n    registerStylesRoot(document);\n}\n\nvar css_248z = \":root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:\\\"\\\\e900\\\"}.fc-icon-chevron-right:before{content:\\\"\\\\e901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\\\e902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\\\e903\\\"}.fc-icon-minus-square:before{content:\\\"\\\\e904\\\"}.fc-icon-plus-square:before{content:\\\"\\\\e905\\\"}.fc-icon-x:before{content:\\\"\\\\e906\\\"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:\\\"\\\";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:\\\"\\\";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:\\\"\\\";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}\";\ninjectStyles(css_248z);\n\nclass DelayedRunner {\n    constructor(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    request(delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    }\n    pause(scope = '') {\n        let { pauseDepths } = this;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    }\n    resume(scope = '', force) {\n        let { pauseDepths } = this;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                let depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    }\n    isPaused() {\n        return Object.keys(this.pauseDepths).length;\n    }\n    tryDrain() {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    }\n    clear() {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    }\n    clearTimeout() {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    }\n    drained() {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    }\n}\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    let method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    let containers = container instanceof HTMLElement ? [container] : container;\n    let allMatches = [];\n    for (let i = 0; i < containers.length; i += 1) {\n        let matches = containers[i].querySelectorAll(selector);\n        for (let j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    let parents = parent instanceof HTMLElement ? [parent] : parent;\n    let allMatches = [];\n    for (let i = 0; i < parents.length; i += 1) {\n        let childNodes = parents[i].children; // only ever elements\n        for (let j = 0; j < childNodes.length; j += 1) {\n            let childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nconst PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (let propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = `${val}px`;\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n// Unique ID for DOM attribute\nlet guid$1 = 0;\nfunction getUniqueDomId() {\n    guid$1 += 1;\n    return 'fc-dom-' + guid$1;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return (ev) => {\n        let matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    let attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return () => {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    let currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, (mouseOverEv, matchedChild) => {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            let realOnMouseLeave = (mouseLeaveEv) => {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nconst transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    let realCallback = (ev) => {\n        callback(ev);\n        transitionEventNames.forEach((eventName) => {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach((eventName) => {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n// ARIA workarounds\n// ----------------------------------------------------------------------------------------------------------------\nfunction createAriaClickAttrs(handler) {\n    return Object.assign({ onClick: handler }, createAriaKeyboardAttrs(handler));\n}\nfunction createAriaKeyboardAttrs(handler) {\n    return {\n        tabIndex: 0,\n        onKeyDown(ev) {\n            if (ev.key === 'Enter' || ev.key === ' ') {\n                handler(ev);\n                ev.preventDefault(); // if space, don't scroll down page\n            }\n        },\n    };\n}\n\nlet guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.style.userSelect = 'none';\n    el.style.webkitUserSelect = 'none';\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.style.userSelect = '';\n    el.style.webkitUserSelect = '';\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    let specs = [];\n    let tokens = [];\n    let i;\n    let token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    let i;\n    let cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    let s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\nfunction formatWithOrdinals(formatter, args, fallbackText) {\n    if (typeof formatter === 'function') {\n        return formatter(...args);\n    }\n    if (typeof formatter === 'string') { // non-blank string\n        return args.reduce((str, arg, index) => (str.replace('$' + index, arg || '')), formatter);\n    }\n    return fallbackText;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    let allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    let contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nconst INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nconst PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject({ [unit || 'milliseconds']: input });\n    }\n    return null;\n}\nfunction parseString(s) {\n    let m = PARSE_RE.exec(s);\n    if (m) {\n        let sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    let duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    let weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    let res = null;\n    for (let i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        let unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            let localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    let ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    let removeCnt = 0;\n    let i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    let len = a0.length;\n    let i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nconst DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    let a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    let a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    let a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    let m0day = startOfDay(m0);\n    let m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    let d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    let y = marker.getUTCFullYear();\n    let w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    let nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    let firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    let dayStart = startOfDay(marker);\n    let days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    let fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    let fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC(...a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime = false) {\n    let s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\nfunction formatIsoMonthStr(marker) {\n    return marker.toISOString().match(/^\\d{4}-\\d{2}/)[0];\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso = false) {\n    let sign = minutes < 0 ? '-' : '+';\n    let abs = Math.abs(minutes);\n    let hours = Math.floor(abs / 60);\n    let mins = Math.round(abs % 60);\n    if (doIso) {\n        return `${sign + padStart(hours, 2)}:${padStart(mins, 2)}`;\n    }\n    return `GMT${sign}${hours}${mins ? `:${padStart(mins, 2)}` : ''}`;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    let currentArgs;\n    let currentRes;\n    return function (...newArgs) {\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            let res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    let currentArg;\n    let currentRes;\n    return (newArg) => {\n        if (!currentArg) {\n            currentRes = workerFunc.call(this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            let res = workerFunc.call(this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    let currentArgSets = [];\n    let currentResults = [];\n    return (newArgSets) => {\n        let currentLen = currentArgSets.length;\n        let newLen = newArgSets.length;\n        let i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                let res = workerFunc.apply(this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(workerFunc, resEquality, teardownFunc) {\n    let currentArgHash = {};\n    let currentResHash = {};\n    return (newArgHash) => {\n        let newResHash = {};\n        for (let key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                let res = workerFunc.apply(this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nconst EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nconst STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nconst MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nconst COMMA_RE = /,/g; // we need re for globalness\nconst MULTI_SPACE_RE = /\\s+/g;\nconst LTR_RE = /\\u200e/g; // control character\nconst UTC_RE = /UTC|GMT/;\nclass NativeFormatter {\n    constructor(formatSettings) {\n        let standardDateProps = {};\n        let extendedSettings = {};\n        let severity = 0;\n        for (let name in formatSettings) {\n            if (name in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name] = formatSettings[name];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name], severity);\n            }\n            else {\n                standardDateProps[name] = formatSettings[name];\n                if (name in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    format(date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        let { standardDateProps, extendedSettings } = this;\n        let diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        let biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        let full0 = this.format(start, context);\n        let full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        let partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        let partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        let partial0 = partialFormattingFunc(start);\n        let partial1 = partialFormattingFunc(end);\n        let insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        let separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    }\n    getLargestUnit() {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    }\n}\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    let standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return (date) => (formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return (date) => (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.weekTextLong, context.locale, extendedSettings.week));\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = Object.assign({}, standardDateProps); // copy\n    extendedSettings = Object.assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    let normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    let zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        let zeroProps = Object.assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return (date) => {\n        let { marker } = date;\n        let format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        let s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, (m0, m1) => m1.toLocaleLowerCase());\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, (m0, m1) => `${m1.toLocaleLowerCase()}m`);\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, (m0) => m0.toLocaleLowerCase());\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    let replaced = false;\n    s = s.replace(UTC_RE, () => {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += ` ${tzoStr}`;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, weekTextLong, locale, display) {\n    let parts = [];\n    if (display === 'long') {\n        parts.push(weekTextLong);\n    }\n    else if (display === 'short' || display === 'narrow') {\n        parts.push(weekText);\n    }\n    if (display === 'long' || display === 'short') {\n        parts.push(' ');\n    }\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    let partialOptions = {};\n    for (let name in options) {\n        if (!(name in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name] <= biggestUnit) {\n            partialOptions[name] = options[name];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    let i0 = 0;\n    while (i0 < full0.length) {\n        let found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        let before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        let after0 = full0.substr(i0);\n        let i1 = 0;\n        while (i1 < full1.length) {\n            let found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            let before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            let after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    let a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    let startInfo = expandZonedMarker(start, context.calendarSystem);\n    let endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nclass CmdFormatter {\n    constructor(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    format(date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    }\n}\n\nclass FuncFormatter {\n    constructor(func) {\n        this.func = func;\n    }\n    format(date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    }\n}\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nconst BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    weekTextLong: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    moreLinkHint: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    eventInteractive: Boolean,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    viewHint: identity,\n    navLinkHint: identity,\n    closeHint: String,\n    timeHint: String,\n    eventHint: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n    monthStartFormat: createFormatter,\n    // for connectors\n    // (can't be part of plugin system b/c must be provided at runtime)\n    handleCustomRendering: identity,\n    customRenderingMetaMap: identity,\n    customRenderingReplaces: Boolean,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nconst BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n    monthStartFormat: { month: 'long', day: 'numeric' },\n};\n// calendar listeners\n// ------------------\nconst CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nconst CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    buttonHints: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nconst COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isMaybeObjectsEqual,\n    footerToolbar: isMaybeObjectsEqual,\n    buttonText: isMaybeObjectsEqual,\n    buttonHints: isMaybeObjectsEqual,\n    buttonIcons: isMaybeObjectsEqual,\n    dateIncrement: isMaybeObjectsEqual,\n    plugins: isMaybeArraysEqual,\n    events: isMaybeArraysEqual,\n    eventSources: isMaybeArraysEqual,\n    ['resources']: isMaybeArraysEqual,\n};\nfunction isMaybeObjectsEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\nfunction isMaybeArraysEqual(a, b) {\n    if (Array.isArray(a) && Array.isArray(b)) {\n        return isArraysEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nconst VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    let refined = {};\n    let extra = {};\n    for (let propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (let propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined, extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nconst { hasOwnProperty } = Object.prototype;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    let dest = {};\n    if (complexPropsMap) {\n        for (let name in complexPropsMap) {\n            if (complexPropsMap[name] === isMaybeObjectsEqual) { // implies that it's object-mergeable\n                let complexObjs = [];\n                // collect the trailing object values, stopping when a non-object is discovered\n                for (let i = propObjs.length - 1; i >= 0; i -= 1) {\n                    let val = propObjs[i][name];\n                    if (typeof val === 'object' && val) { // non-null object\n                        complexObjs.unshift(val);\n                    }\n                    else if (val !== undefined) {\n                        dest[name] = val; // if there were no objects, this value will be used\n                        break;\n                    }\n                }\n                // if the trailing values were objects, use the merged value\n                if (complexObjs.length) {\n                    dest[name] = mergeProps(complexObjs);\n                }\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (let i = propObjs.length - 1; i >= 0; i -= 1) {\n        let props = propObjs[i];\n        for (let name in props) {\n            if (!(name in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name] = props[name];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    let filtered = {};\n    for (let key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    let newHash = {};\n    for (let key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    let hash = {};\n    for (let item of a) {\n        hash[item] = true;\n    }\n    return hash;\n}\n// TODO: reassess browser support\n// https://caniuse.com/?search=object.values\nfunction hashValuesToArray(obj) {\n    let a = [];\n    for (let key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (let key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (let key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nconst HANDLER_RE = /^on[A-Z]/;\nfunction isNonHandlerPropsEqual(obj0, obj1) {\n    const keys = getUnequalProps(obj0, obj1);\n    for (let key of keys) {\n        if (!HANDLER_RE.test(key)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    let keys = [];\n    for (let key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (let key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs = {}) {\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (let key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (let key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex = 0, endIndex, step = 1) {\n    let res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (let i = startIndex; i < endIndex; i += step) {\n        let val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nlet calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nclass GregorianCalendarSystem {\n    getMarkerYear(d) {\n        return d.getUTCFullYear();\n    }\n    getMarkerMonth(d) {\n        return d.getUTCMonth();\n    }\n    getMarkerDay(d) {\n        return d.getUTCDate();\n    }\n    arrayToMarker(arr) {\n        return arrayToUtcDate(arr);\n    }\n    markerToArray(marker) {\n        return dateToUtcArray(marker);\n    }\n}\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nconst ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    let m = ISO_RE.exec(str);\n    if (m) {\n        let marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(`0.${m[12]}`) * 1000 : 0));\n        if (isValidDate(marker)) {\n            let timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nclass DateEnv {\n    constructor(settings) {\n        let timeZone = this.timeZone = settings.timeZone;\n        let isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.weekTextLong = (settings.weekTextLong != null ? settings.weekTextLong : settings.locale.options.weekTextLong) || this.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    createMarker(input) {\n        let meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    }\n    createNowMarker() {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    }\n    createMarkerMeta(input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        let marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker, isTimeUnspecified: false, forcedTzo: null };\n    }\n    parse(s) {\n        let parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        let { marker } = parts;\n        let forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo };\n    }\n    // Accessors\n    getYear(marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    }\n    getMonth(marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    }\n    getDay(marker) {\n        return this.calendarSystem.getMarkerDay(marker);\n    }\n    // Adding / Subtracting\n    add(marker, dur) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    subtract(marker, dur) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    addYears(marker, n) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    addMonths(marker, n) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    // Diffing Whole Units\n    diffWholeYears(m0, m1) {\n        let { calendarSystem } = this;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    }\n    diffWholeMonths(m0, m1) {\n        let { calendarSystem } = this;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    }\n    // Range / Duration\n    greatestWholeUnit(m0, m1) {\n        let n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    }\n    countDurationsBetween(m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        let diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    }\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    startOf(m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    }\n    startOfYear(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    }\n    startOfMonth(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    }\n    startOfWeek(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    }\n    // Week Number\n    computeWeekNumber(marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    }\n    // TODO: choke on timeZoneName: long\n    format(marker, formatter, dateOptions = {}) {\n        return formatter.format({\n            marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    }\n    formatRange(start, end, formatter, dateOptions = {}) {\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    }\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    formatIso(marker, extraOptions = {}) {\n        let timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    }\n    // TimeZone\n    timestampToMarker(ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    }\n    offsetForMarker(m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    }\n    // Conversion\n    toDate(m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    }\n}\n\nclass Theme {\n    constructor(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    setIconOverride(iconOverrideHash) {\n        let iconClassesCopy;\n        let buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = Object.assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    }\n    applyIconOverridePrefix(className) {\n        let prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    }\n    getClass(key) {\n        return this.classes[key] || '';\n    }\n    getIconClass(buttonName, isRtl) {\n        let className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return `${this.baseIconClass} ${className}`;\n        }\n        return '';\n    }\n    getCustomButtonIconClass(customButtonProps) {\n        let className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return `${this.baseIconClass} ${this.applyIconOverridePrefix(className)}`;\n            }\n        }\n        return '';\n    }\n}\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\n/*\nNOTE: this can be a public API, especially createElement for hooks.\nSee examples/typescript-scheduler/src/index.ts\n*/\nfunction flushSync(runBeforeFlush) {\n    runBeforeFlush();\n    let oldDebounceRendering = preact.options.debounceRendering; // orig\n    let callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nclass FakeComponent extends preact.Component {\n    render() { return preact.createElement('div', {}); }\n    componentDidMount() { this.setState({}); }\n}\n// TODO: use preact/compat instead?\nfunction createContext(defaultValue) {\n    let ContextType = preact.createContext(defaultValue);\n    let origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        let isNew = !this.getChildContext;\n        let children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            let subs = [];\n            this.shouldComponentUpdate = (_props) => {\n                if (this.props.value !== _props.value) {\n                    subs.forEach((c) => {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = (c) => {\n                subs.push(c);\n                let old = c.componentWillUnmount;\n                c.componentWillUnmount = () => {\n                    subs.splice(subs.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\n\nclass ScrollResponder {\n    constructor(execFunc, emitter, scrollTime, scrollTimeReset) {\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = (request) => {\n            this.queuedRequest = Object.assign({}, this.queuedRequest || {}, request);\n            this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    detach() {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    }\n    update(isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    }\n    fireInitialScroll() {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    }\n    drain() {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    }\n}\n\nconst ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv,\n        options: viewOptions,\n        pluginHooks,\n        emitter,\n        dispatch,\n        getCurrentData,\n        calendarApi,\n        viewSpec,\n        viewApi,\n        dateProfileGenerator,\n        theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler(handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler(handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder(execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent,\n        unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nclass PureComponent extends Component {\n    shouldComponentUpdate(nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    }\n    // HACK for freakin' React StrictMode\n    safeSetState(newState) {\n        if (!compareObjs(this.state, Object.assign(Object.assign({}, this.state), newState), this.stateEquality)) {\n            this.setState(newState);\n        }\n    }\n}\nPureComponent.addPropsEquality = addPropsEquality;\nPureComponent.addStateEquality = addStateEquality;\nPureComponent.contextType = ViewContextType;\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nclass BaseComponent extends PureComponent {\n}\nBaseComponent.contextType = ViewContextType;\nfunction addPropsEquality(propEquality) {\n    let hash = Object.create(this.prototype.propEquality);\n    Object.assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    let hash = Object.create(this.prototype.stateEquality);\n    Object.assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\nclass ContentInjector extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.id = guid();\n        this.queuedDomNodes = [];\n        this.currentDomNodes = [];\n        this.handleEl = (el) => {\n            const { options } = this.context;\n            const { generatorName } = this.props;\n            if (!options.customRenderingReplaces || !hasCustomRenderingHandler(generatorName, options)) {\n                this.updateElRef(el);\n            }\n        };\n        this.updateElRef = (el) => {\n            if (this.props.elRef) {\n                setRef(this.props.elRef, el);\n            }\n        };\n    }\n    render() {\n        const { props, context } = this;\n        const { options } = context;\n        const { customGenerator, defaultGenerator, renderProps } = props;\n        const attrs = buildElAttrs(props, [], this.handleEl);\n        let useDefault = false;\n        let innerContent;\n        let queuedDomNodes = [];\n        let currentGeneratorMeta;\n        if (customGenerator != null) {\n            const customGeneratorRes = typeof customGenerator === 'function' ?\n                customGenerator(renderProps, createElement) :\n                customGenerator;\n            if (customGeneratorRes === true) {\n                useDefault = true;\n            }\n            else {\n                const isObject = customGeneratorRes && typeof customGeneratorRes === 'object'; // non-null\n                if (isObject && ('html' in customGeneratorRes)) {\n                    attrs.dangerouslySetInnerHTML = { __html: customGeneratorRes.html };\n                }\n                else if (isObject && ('domNodes' in customGeneratorRes)) {\n                    queuedDomNodes = Array.prototype.slice.call(customGeneratorRes.domNodes);\n                }\n                else if (isObject\n                    ? isValidElement(customGeneratorRes) // vdom node\n                    : typeof customGeneratorRes !== 'function' // primitive value (like string or number)\n                ) {\n                    // use in vdom\n                    innerContent = customGeneratorRes;\n                }\n                else {\n                    // an exotic object for handleCustomRendering\n                    currentGeneratorMeta = customGeneratorRes;\n                }\n            }\n        }\n        else {\n            useDefault = !hasCustomRenderingHandler(props.generatorName, options);\n        }\n        if (useDefault && defaultGenerator) {\n            innerContent = defaultGenerator(renderProps);\n        }\n        this.queuedDomNodes = queuedDomNodes;\n        this.currentGeneratorMeta = currentGeneratorMeta;\n        return createElement(props.elTag, attrs, innerContent);\n    }\n    componentDidMount() {\n        this.applyQueueudDomNodes();\n        this.triggerCustomRendering(true);\n    }\n    componentDidUpdate() {\n        this.applyQueueudDomNodes();\n        this.triggerCustomRendering(true);\n    }\n    componentWillUnmount() {\n        this.triggerCustomRendering(false); // TODO: different API for removal?\n    }\n    triggerCustomRendering(isActive) {\n        var _a;\n        const { props, context } = this;\n        const { handleCustomRendering, customRenderingMetaMap } = context.options;\n        if (handleCustomRendering) {\n            const generatorMeta = (_a = this.currentGeneratorMeta) !== null && _a !== void 0 ? _a : customRenderingMetaMap === null || customRenderingMetaMap === void 0 ? void 0 : customRenderingMetaMap[props.generatorName];\n            if (generatorMeta) {\n                handleCustomRendering(Object.assign(Object.assign({ id: this.id, isActive, containerEl: this.base, reportNewContainerEl: this.updateElRef, // front-end framework tells us about new container els\n                    generatorMeta }, props), { elClasses: (props.elClasses || []).filter(isTruthy) }));\n            }\n        }\n    }\n    applyQueueudDomNodes() {\n        const { queuedDomNodes, currentDomNodes } = this;\n        const el = this.base;\n        if (!isArraysEqual(queuedDomNodes, currentDomNodes)) {\n            currentDomNodes.forEach(removeElement);\n            for (let newNode of queuedDomNodes) {\n                el.appendChild(newNode);\n            }\n            this.currentDomNodes = queuedDomNodes;\n        }\n    }\n}\nContentInjector.addPropsEquality({\n    elClasses: isArraysEqual,\n    elStyle: isPropsEqual,\n    elAttrs: isNonHandlerPropsEqual,\n    renderProps: isPropsEqual,\n});\n// Util\n/*\nDoes UI-framework provide custom way of rendering that does not use Preact VDOM\nAND does the calendar's options define custom rendering?\nAKA. Should we NOT render the default content?\n*/\nfunction hasCustomRenderingHandler(generatorName, options) {\n    var _a;\n    return Boolean(options.handleCustomRendering &&\n        generatorName &&\n        ((_a = options.customRenderingMetaMap) === null || _a === void 0 ? void 0 : _a[generatorName]));\n}\nfunction buildElAttrs(props, extraClassNames, elRef) {\n    const attrs = Object.assign(Object.assign({}, props.elAttrs), { ref: elRef });\n    if (props.elClasses || extraClassNames) {\n        attrs.className = (props.elClasses || [])\n            .concat(extraClassNames || [])\n            .concat(attrs.className || [])\n            .filter(Boolean)\n            .join(' ');\n    }\n    if (props.elStyle) {\n        attrs.style = props.elStyle;\n    }\n    return attrs;\n}\nfunction isTruthy(val) {\n    return Boolean(val);\n}\n\nconst RenderId = createContext(0);\n\nclass ContentContainer extends Component {\n    constructor() {\n        super(...arguments);\n        this.InnerContent = InnerContentInjector.bind(undefined, this);\n        this.handleEl = (el) => {\n            this.el = el;\n            if (this.props.elRef) {\n                setRef(this.props.elRef, el);\n                if (el && this.didMountMisfire) {\n                    this.componentDidMount();\n                }\n            }\n        };\n    }\n    render() {\n        const { props } = this;\n        const generatedClassNames = generateClassNames(props.classNameGenerator, props.renderProps);\n        if (props.children) {\n            const elAttrs = buildElAttrs(props, generatedClassNames, this.handleEl);\n            const children = props.children(this.InnerContent, props.renderProps, elAttrs);\n            if (props.elTag) {\n                return createElement(props.elTag, elAttrs, children);\n            }\n            else {\n                return children;\n            }\n        }\n        else {\n            return createElement((ContentInjector), Object.assign(Object.assign({}, props), { elRef: this.handleEl, elTag: props.elTag || 'div', elClasses: (props.elClasses || []).concat(generatedClassNames), renderId: this.context }));\n        }\n    }\n    componentDidMount() {\n        var _a, _b;\n        if (this.el) {\n            (_b = (_a = this.props).didMount) === null || _b === void 0 ? void 0 : _b.call(_a, Object.assign(Object.assign({}, this.props.renderProps), { el: this.el }));\n        }\n        else {\n            this.didMountMisfire = true;\n        }\n    }\n    componentWillUnmount() {\n        var _a, _b;\n        (_b = (_a = this.props).willUnmount) === null || _b === void 0 ? void 0 : _b.call(_a, Object.assign(Object.assign({}, this.props.renderProps), { el: this.el }));\n    }\n}\nContentContainer.contextType = RenderId;\nfunction InnerContentInjector(containerComponent, props) {\n    const parentProps = containerComponent.props;\n    return createElement((ContentInjector), Object.assign({ renderProps: parentProps.renderProps, generatorName: parentProps.generatorName, customGenerator: parentProps.customGenerator, defaultGenerator: parentProps.defaultGenerator, renderId: containerComponent.context }, props));\n}\n// Utils\nfunction generateClassNames(classNameGenerator, renderProps) {\n    const classNames = typeof classNameGenerator === 'function' ?\n        classNameGenerator(renderProps) :\n        classNameGenerator || [];\n    return typeof classNames === 'string' ? [classNames] : classNames;\n}\n\nclass ViewContainer extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let renderProps = { view: context.viewApi };\n        return (createElement(ContentContainer, Object.assign({}, props, { elTag: props.elTag || 'div', elClasses: [\n                ...buildViewClassNames(props.viewSpec),\n                ...(props.elClasses || []),\n            ], renderProps: renderProps, classNameGenerator: options.viewClassNames, generatorName: undefined, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount }), () => props.children));\n    }\n}\nfunction buildViewClassNames(viewSpec) {\n    return [\n        `fc-${viewSpec.type}-view`,\n        'fc-view',\n    ];\n}\n\nfunction parseRange(input, dateEnv) {\n    let start = null;\n    let end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start, end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    let invertedRanges = [];\n    let { start } = constraintRange; // the end of the previous range. the start of the new range\n    let i;\n    let dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    let { start, end } = range0;\n    let newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start, end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    let dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    let start = startOfDay(timedRange.start);\n    let end = addDays(start, dayCnt);\n    return { start, end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold = createDuration(0)) {\n    let startDay = null;\n    let endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        let endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    let visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    let initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nclass DateProfileGenerator {\n    constructor(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    buildPrev(currentDateProfile, currentDate, forceToValid) {\n        let { dateEnv } = this.props;\n        let prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    }\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    buildNext(currentDateProfile, currentDate, forceToValid) {\n        let { dateEnv } = this.props;\n        let nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    }\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    build(currentDate, direction, forceToValid = true) {\n        let { props } = this;\n        let validRange;\n        let currentInfo;\n        let isRangeAllDay;\n        let renderRange;\n        let activeRange;\n        let isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        // HACK: constrain to render-range so `currentDate` is more useful to view rendering\n        if (!rangeContainsMarker(renderRange, currentDate)) {\n            currentDate = renderRange.start;\n        }\n        return {\n            currentDate,\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    }\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    buildValidRange() {\n        let input = this.props.validRangeInput;\n        let simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    }\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    buildCurrentRangeInfo(date, direction) {\n        let { props } = this;\n        let duration = null;\n        let unit = null;\n        let range = null;\n        let dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration, unit, range };\n    }\n    getFallbackDuration() {\n        return createDuration({ day: 1 });\n    }\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    adjustActiveRange(range) {\n        let { dateEnv, usesMinMaxTime, slotMinTime, slotMaxTime } = this.props;\n        let { start, end } = range;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start, end };\n    }\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    buildRangeFromDuration(date, direction, duration, unit) {\n        let { dateEnv, dateAlignment } = this.props;\n        let start;\n        let end;\n        let res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            let { dateIncrement } = this.props;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start, end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    }\n    // Builds the \"current\" range when a dayCount is specified.\n    buildRangeFromDayCount(date, direction, dayCount) {\n        let { dateEnv, dateAlignment } = this.props;\n        let runningCount = 0;\n        let start = date;\n        let end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start, end };\n    }\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    buildCustomVisibleRange(date) {\n        let { props } = this;\n        let input = props.visibleRangeInput;\n        let simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        let range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    }\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    }\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    buildDateIncrement(fallback) {\n        let { dateIncrement } = this.props;\n        let customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    }\n    refineRange(rangeInput) {\n        if (rangeInput) {\n            let range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    }\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    initHiddenDays() {\n        let hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        let isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        let dayCnt = 0;\n        let i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    }\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    trimHiddenDays(range) {\n        let { start, end } = range;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start, end };\n        }\n        return null;\n    }\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    isHiddenDay(day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    }\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    skipHiddenDays(date, inc = 1, isExclusive = false) {\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    }\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId,\n        range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (let i = 0; i < recurringTypes.length; i += 1) {\n        let parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            let { allDay } = refined;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    let { dateEnv, pluginHooks, options } = context;\n    let { defs, instances } = eventStore;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, (instance) => !defs[instance.defId].recurringDef);\n    for (let defId in defs) {\n        let def = defs[defId];\n        if (def.recurringDef) {\n            let { duration } = def.recurringDef;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            let starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (let start of starts) {\n                let instance = createEventInstance(defId, {\n                    start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs, instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    let typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    let markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nconst EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n    interactive: Boolean,\n};\nconst EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nconst EVENT_REFINERS = Object.assign(Object.assign(Object.assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners = buildEventRefiners(context), defIdMap, instanceIdMap) {\n    let { refined, extra } = refineEventDef(raw, context, refiners);\n    let defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    let recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        let def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context, defIdMap);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def, instance: null };\n    }\n    let singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        let def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context, defIdMap);\n        let instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        if (instanceIdMap && def.publicId && instanceIdMap[def.publicId]) {\n            instance.instanceId = instanceIdMap[def.publicId];\n        }\n        return { def, instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners = buildEventRefiners(context)) {\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return Object.assign(Object.assign(Object.assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context, defIdMap) {\n    let def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: ((defIdMap && refined.id) ? defIdMap[refined.id] : '') || guid(),\n        sourceId,\n        allDay,\n        hasEnd,\n        interactive: refined.interactive,\n        ui: createEventUi(refined, context),\n        extendedProps: Object.assign(Object.assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (let memberAdder of context.pluginHooks.eventDefMemberAdders) {\n        Object.assign(def, memberAdder(refined));\n    }\n    // help out EventImpl from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    let { allDay } = refined;\n    let startMeta;\n    let startMarker = null;\n    let hasEnd = false;\n    let endMeta;\n    let endMarker = null;\n    let startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay,\n        hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    let res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange, defIdMap, instanceIdMap) {\n    let eventStore = createEmptyEventStore();\n    let eventRefiners = buildEventRefiners(context);\n    for (let rawEvent of rawEvents) {\n        let tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners, defIdMap, instanceIdMap);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore = createEmptyEventStore()) {\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    let instance = eventStore.instances[instanceId];\n    if (instance) {\n        let def = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        let newStore = filterEventStoreDefs(eventStore, (lookDef) => isEventDefsGrouped(def, lookDef));\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def.defId] = def;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: Object.assign(Object.assign({}, store0.defs), store1.defs),\n        instances: Object.assign(Object.assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    let defs = filterHash(eventStore.defs, filterFunc);\n    let instances = filterHash(eventStore.instances, (instance) => (defs[instance.defId] // still exists?\n    ));\n    return { defs, instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    let { defs, instances } = master;\n    let filteredDefs = {};\n    let filteredInstances = {};\n    for (let defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (let instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nconst EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nconst EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    let constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nconst EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners = buildEventSourceRefiners(context)) {\n    let rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        let { refined, extra } = refineProps(rawObj, refiners);\n        let metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return Object.assign(Object.assign(Object.assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    let defs = context.pluginHooks.eventSourceDefs;\n    for (let i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        let def = defs[i];\n        let meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'RESET_RAW_EVENTS':\n            return resetRawEvents(eventStore, eventSources[action.sourceId], action.rawEvents, dateProfile.activeRange, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, (eventDef) => (!eventDef.sourceId // only keep events with no source id\n            ));\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        let subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction resetRawEvents(existingEventStore, eventSource, rawEvents, activeRange, context) {\n    const { defIdMap, instanceIdMap } = buildPublicIdMaps(existingEventStore);\n    let newEventStore = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context, false, defIdMap, instanceIdMap);\n    return expandRecurring(newEventStore, activeRange, context);\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    let calEachTransform = context.options.eventDataTransform;\n    let sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    let refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (let rawEvent of rawEvents) {\n            let refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    let { defs } = eventStore;\n    let instances = mapHash(eventStore.instances, (instance) => {\n        let def = defs[instance.defId];\n        if (def.allDay) {\n            return instance; // isn't dependent on timezone\n        }\n        return Object.assign(Object.assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs, instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, (eventDef) => eventDef.sourceId !== sourceId);\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, (instance) => !removals[instance.instanceId]),\n    };\n}\nfunction buildPublicIdMaps(eventStore) {\n    const { defs, instances } = eventStore;\n    const defIdMap = {};\n    const instanceIdMap = {};\n    for (let defId in defs) {\n        const def = defs[defId];\n        const { publicId } = def;\n        if (publicId) {\n            defIdMap[publicId] = defId;\n        }\n    }\n    for (let instanceId in instances) {\n        const instance = instances[instanceId];\n        const def = defs[instance.defId];\n        const { publicId } = def;\n        if (publicId) {\n            instanceIdMap[publicId] = instanceId;\n        }\n    }\n    return { defIdMap, instanceIdMap };\n}\n\nclass Emitter {\n    constructor() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    setThisContext(thisContext) {\n        this.thisContext = thisContext;\n    }\n    setOptions(options) {\n        this.options = options;\n    }\n    on(type, handler) {\n        addToHash(this.handlers, type, handler);\n    }\n    off(type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    }\n    trigger(type, ...args) {\n        let attachedHandlers = this.handlers[type] || [];\n        let optionHandler = this.options && this.options[type];\n        let handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (let handler of handlers) {\n            handler.apply(this.thisContext, args);\n        }\n    }\n    hasHandlers(type) {\n        return Boolean((this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]));\n    }\n}\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter((func) => func !== handler);\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\nconst DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    let rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter((rawDef) => rawDef.daysOfWeek);\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map((rawDef) => (Object.assign(Object.assign({}, DEF_DEFAULTS), rawDef)));\n    return rawDefs;\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', Object.assign(Object.assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    let props = {};\n    for (let transform of context.pluginHooks.dateSpanTransforms) {\n        Object.assign(props, transform(dateSpan, context));\n    }\n    Object.assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    let { dateEnv, options } = context;\n    let end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    let eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    let dest = createEmptyEventStore();\n    for (let defId in eventStore.defs) {\n        let def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (let instanceId in eventStore.instances) {\n        let instance = eventStore.instances[instanceId];\n        let def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    let standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    let copy = Object.assign(Object.assign(Object.assign({}, eventDef), standardProps), { ui: Object.assign(Object.assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = Object.assign(Object.assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (let applier of context.pluginHooks.eventDefMutationAppliers) {\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    let { dateEnv } = context;\n    let forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    let clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    let copy = Object.assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\nclass EventSourceImpl {\n    constructor(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    remove() {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    }\n    refetch() {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    }\n    get id() {\n        return this.internalEventSource.publicId;\n    }\n    get url() {\n        return this.internalEventSource.meta.url;\n    }\n    get format() {\n        return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n    }\n}\n\nclass EventImpl {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    constructor(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    setProp(name, val) {\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { [name]: val },\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            let ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = { [name]: val };\n            }\n            this.mutate({\n                standardProps: { ui },\n            });\n        }\n        else {\n            console.warn(`Could not set prop '${name}'. Use setExtendedProp instead.`);\n        }\n    }\n    setExtendedProp(name, val) {\n        this.mutate({\n            extendedProps: { [name]: val },\n        });\n    }\n    setStart(startInput, options = {}) {\n        let { dateEnv } = this._context;\n        let start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            let instanceRange = this._instance.range;\n            let startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta });\n            }\n        }\n    }\n    setEnd(endInput, options = {}) {\n        let { dateEnv } = this._context;\n        let end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                let endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    }\n    setDates(startInput, endInput, options = {}) {\n        let { dateEnv } = this._context;\n        let standardProps = { allDay: options.allDay };\n        let start = dateEnv.createMarker(startInput);\n        let end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            let instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            let startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                let endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps });\n                }\n                else {\n                    this.mutate({ startDelta, endDelta, standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps });\n            }\n        }\n    }\n    moveStart(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    }\n    moveEnd(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    }\n    moveDates(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    }\n    setAllDay(allDay, options = {}) {\n        let standardProps = { allDay };\n        let { maintainDuration } = options;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps });\n    }\n    formatRange(formatInput) {\n        let { dateEnv } = this._context;\n        let instance = this._instance;\n        let formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    }\n    mutate(mutation) {\n        let instance = this._instance;\n        if (instance) {\n            let def = this._def;\n            let context = this._context;\n            let { eventStore } = context.getCurrentData();\n            let relevantEvents = getRelevantEvents(eventStore, instance.instanceId);\n            let eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context);\n            let oldEvent = new EventImpl(context, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context.emitter.trigger('eventChange', {\n                oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context, instance),\n                revert() {\n                    context.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore, // the ORIGINAL store\n                    });\n                },\n            });\n        }\n    }\n    remove() {\n        let context = this._context;\n        let asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert() {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    }\n    get source() {\n        let { sourceId } = this._def;\n        if (sourceId) {\n            return new EventSourceImpl(this._context, this._context.getCurrentData().eventSources[sourceId]);\n        }\n        return null;\n    }\n    get start() {\n        return this._instance ?\n            this._context.dateEnv.toDate(this._instance.range.start) :\n            null;\n    }\n    get end() {\n        return (this._instance && this._def.hasEnd) ?\n            this._context.dateEnv.toDate(this._instance.range.end) :\n            null;\n    }\n    get startStr() {\n        let instance = this._instance;\n        if (instance) {\n            return this._context.dateEnv.formatIso(instance.range.start, {\n                omitTime: this._def.allDay,\n                forcedTzo: instance.forcedStartTzo,\n            });\n        }\n        return '';\n    }\n    get endStr() {\n        let instance = this._instance;\n        if (instance && this._def.hasEnd) {\n            return this._context.dateEnv.formatIso(instance.range.end, {\n                omitTime: this._def.allDay,\n                forcedTzo: instance.forcedEndTzo,\n            });\n        }\n        return '';\n    }\n    // computable props that all access the def\n    // TODO: find a TypeScript-compatible way to do this at scale\n    get id() { return this._def.publicId; }\n    get groupId() { return this._def.groupId; }\n    get allDay() { return this._def.allDay; }\n    get title() { return this._def.title; }\n    get url() { return this._def.url; }\n    get display() { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n    get startEditable() { return this._def.ui.startEditable; }\n    get durationEditable() { return this._def.ui.durationEditable; }\n    get constraint() { return this._def.ui.constraints[0] || null; }\n    get overlap() { return this._def.ui.overlap; }\n    get allow() { return this._def.ui.allows[0] || null; }\n    get backgroundColor() { return this._def.ui.backgroundColor; }\n    get borderColor() { return this._def.ui.borderColor; }\n    get textColor() { return this._def.ui.textColor; }\n    // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n    get classNames() { return this._def.ui.classNames; }\n    get extendedProps() { return this._def.extendedProps; }\n    toPlainObject(settings = {}) {\n        let def = this._def;\n        let { ui } = def;\n        let { startStr, endStr } = this;\n        let res = {\n            allDay: def.allDay,\n        };\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                Object.assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    }\n    toJSON() {\n        return this.toPlainObject();\n    }\n}\nfunction eventApiToStore(eventApi) {\n    let def = eventApi._def;\n    let instance = eventApi._instance;\n    return {\n        defs: { [def.defId]: def },\n        instances: instance\n            ? { [instance.instanceId]: instance }\n            : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    let { defs, instances } = eventStore;\n    let eventApis = [];\n    let excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (let id in instances) {\n        let instance = instances[id];\n        let def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventImpl(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    let inverseBgByGroupId = {};\n    let inverseBgByDefId = {};\n    let defByGroupId = {};\n    let bgRanges = [];\n    let fgRanges = [];\n    let eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (let defId in eventStore.defs) {\n        let def = eventStore.defs[defId];\n        let ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (let instanceId in eventStore.instances) {\n        let instance = eventStore.instances[instanceId];\n        let def = eventStore.defs[instance.defId];\n        let ui = eventUis[def.defId];\n        let origRange = instance.range;\n        let normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        let slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def,\n                    ui,\n                    instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (let groupId in inverseBgByGroupId) { // BY GROUP\n        let ranges = inverseBgByGroupId[groupId];\n        let invertedRanges = invertRanges(ranges, framingRange);\n        for (let invertedRange of invertedRanges) {\n            let def = defByGroupId[groupId];\n            let ui = eventUis[def.defId];\n            bgRanges.push({\n                def,\n                ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (let defId in inverseBgByDefId) {\n        let ranges = inverseBgByDefId[defId];\n        let invertedRanges = invertRanges(ranges, framingRange);\n        for (let invertedRange of invertedRanges) {\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, (eventDef) => compileEventUi(eventDef, eventUiBases));\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    let uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    let objs = segs.map(buildSegCompareObj);\n    objs.sort((obj0, obj1) => compareByFieldSpecs(obj0, obj1, eventOrderSpecs));\n    return objs.map((c) => c._seg);\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    let { eventRange } = seg;\n    let eventDef = eventRange.def;\n    let range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    let start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    let end = range.end ? range.end.valueOf() : 0; // \"\n    return Object.assign(Object.assign(Object.assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start,\n        end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    let { pluginHooks } = context;\n    let transformers = pluginHooks.isDraggableTransformers;\n    let { def, ui } = seg.eventRange;\n    let val = ui.startEditable;\n    for (let transformer of transformers) {\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    let { dateEnv, options } = context;\n    let { displayEventTime, displayEventEnd } = options;\n    let eventDef = seg.eventRange.def;\n    let eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    let wholeEventStart = eventInstance.range.start;\n    let wholeEventEnd = eventInstance.range.end;\n    let segStart = startOverride || seg.start || seg.eventRange.range.start;\n    let segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    let isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    let isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    let segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end <= (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    let classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : `${eventRange.def.defId}:${eventRange.range.start.toISOString()}`;\n    // inverse-background events don't have specific instances. TODO: better solution\n}\nfunction getSegAnchorAttrs(seg, context) {\n    let { def, instance } = seg.eventRange;\n    let { url } = def;\n    if (url) {\n        return { href: url };\n    }\n    let { emitter, options } = context;\n    let { eventInteractive } = options;\n    if (eventInteractive == null) {\n        eventInteractive = def.interactive;\n        if (eventInteractive == null) {\n            eventInteractive = Boolean(emitter.hasHandlers('eventClick'));\n        }\n    }\n    // mock what happens in EventClicking\n    if (eventInteractive) {\n        // only attach keyboard-related handlers because click handler is already done in EventClicking\n        return createAriaKeyboardAttrs((ev) => {\n            emitter.trigger('eventClick', {\n                el: ev.target,\n                event: new EventImpl(context, def, instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        });\n    }\n    return {};\n}\n\nconst STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    let span = parseOpenDateSpan(raw, dateEnv);\n    let { range } = span;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    let { refined: standardProps, extra } = refineProps(raw, STANDARD_PROPS);\n    let startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    let endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    let { allDay } = standardProps;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return Object.assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (let propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (let propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return Object.assign(Object.assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return Object.assign(Object.assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    let res = refineEventDef({ editable: false }, context);\n    let def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\n/*\ngiven a function that resolves a result asynchronously.\nthe function can either call passed-in success and failure callbacks,\nor it can return a promise.\nif you need to pass additional params to func, bind them first.\n*/\nfunction unpromisify(func, normalizedSuccessCallback, normalizedFailureCallback) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    let isResolved = false;\n    let wrappedSuccess = function (res) {\n        if (!isResolved) {\n            isResolved = true;\n            normalizedSuccessCallback(res);\n        }\n    };\n    let wrappedFailure = function (error) {\n        if (!isResolved) {\n            isResolved = true;\n            normalizedFailureCallback(error);\n        }\n    };\n    let res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nclass JsonRequestError extends Error {\n    constructor(message, response) {\n        super(message);\n        this.response = response;\n    }\n}\nfunction requestJson(method, url, params) {\n    method = method.toUpperCase();\n    const fetchOptions = {\n        method,\n    };\n    if (method === 'GET') {\n        url += (url.indexOf('?') === -1 ? '?' : '&') +\n            new URLSearchParams(params);\n    }\n    else {\n        fetchOptions.body = new URLSearchParams(params);\n        fetchOptions.headers = {\n            'Content-Type': 'application/x-www-form-urlencoded',\n        };\n    }\n    return fetch(url, fetchOptions).then((fetchRes) => {\n        if (fetchRes.ok) {\n            return fetchRes.json().then((parsedResponse) => {\n                return [parsedResponse, fetchRes];\n            }, () => {\n                throw new JsonRequestError('Failure parsing JSON', fetchRes);\n            });\n        }\n        else {\n            throw new JsonRequestError('Request failed', fetchRes);\n        }\n    });\n}\n\nlet canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    let el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    let div = el.querySelector('div');\n    let possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nclass CalendarRoot extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            forPrint: false,\n        };\n        this.handleBeforePrint = () => {\n            flushSync(() => {\n                this.setState({ forPrint: true });\n            });\n        };\n        this.handleAfterPrint = () => {\n            flushSync(() => {\n                this.setState({ forPrint: false });\n            });\n        };\n    }\n    render() {\n        let { props } = this;\n        let { options } = props;\n        let { forPrint } = this.state;\n        let isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        let height = (!isHeightAuto && options.height != null) ? options.height : '';\n        let classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            `fc-direction-${options.direction}`,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    }\n    componentDidMount() {\n        let { emitter } = this.props;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    }\n    componentWillUnmount() {\n        let { emitter } = this.props;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    }\n}\n\nclass Interaction {\n    constructor(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    destroy() {\n    }\n}\nfunction parseInteractionSettings(component, input) {\n    return {\n        component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    return {\n        [settings.component.uid]: settings,\n    };\n}\n// global state\nconst interactionSettingsStore = {};\n\nclass CalendarImpl {\n    getCurrentData() {\n        return this.currentDataManager.getCurrentData();\n    }\n    dispatch(action) {\n        this.currentDataManager.dispatch(action);\n    }\n    get view() { return this.getCurrentData().viewApi; }\n    batchRendering(callback) {\n        callback();\n    }\n    updateSize() {\n        this.trigger('_resize', true);\n    }\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    setOption(name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    }\n    getOption(name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    }\n    getAvailableLocaleCodes() {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    }\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    on(handlerName, handler) {\n        let { currentDataManager } = this;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(`Unknown listener name '${handlerName}'`);\n        }\n    }\n    off(handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    }\n    // not meant for public use\n    trigger(handlerName, ...args) {\n        this.currentDataManager.emitter.trigger(handlerName, ...args);\n    }\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    changeView(viewType, dateOrRange) {\n        this.batchRendering(() => {\n            this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType,\n                    });\n                    this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    let { dateEnv } = this.getCurrentData();\n                    this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType,\n                });\n            }\n        });\n    }\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    zoomTo(dateMarker, viewType) {\n        let state = this.getCurrentData();\n        let spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker,\n            });\n        }\n    }\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    getUnitViewSpec(unit) {\n        let { viewSpecs, toolbarConfig } = this.getCurrentData();\n        let viewTypes = [].concat(toolbarConfig.header ? toolbarConfig.header.viewsWithButtons : [], toolbarConfig.footer ? toolbarConfig.footer.viewsWithButtons : []);\n        let i;\n        let spec;\n        for (let viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    }\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    prev() {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    }\n    next() {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    }\n    prevYear() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    }\n    nextYear() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    }\n    today() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    }\n    gotoDate(zonedDateInput) {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    }\n    incrementDate(deltaInput) {\n        let state = this.getCurrentData();\n        let delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    }\n    getDate() {\n        let state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    }\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    formatDate(d, formatter) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    }\n    // `settings` is for formatter AND isEndExclusive\n    formatRange(d0, d1, settings) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    }\n    formatIso(d, omitTime) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime });\n    }\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    select(dateOrObj, endDate) {\n        let selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        let state = this.getCurrentData();\n        let selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection });\n            triggerDateSelect(selection, null, state);\n        }\n    }\n    unselect(pev) {\n        let state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    }\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    addEvent(eventInput, sourceInput) {\n        if (eventInput instanceof EventImpl) {\n            let def = eventInput._def;\n            let instance = eventInput._instance;\n            let currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def, instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        let state = this.getCurrentData();\n        let eventSource;\n        if (sourceInput instanceof EventSourceImpl) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                [eventSource] = hashValuesToArray(state.eventSources);\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            let sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(`Could not find an event source with ID \"${sourceInput}\"`); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        let tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            let newEventApi = new EventImpl(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    }\n    triggerEventAdd(eventApi) {\n        let { emitter } = this.getCurrentData();\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: () => {\n                this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    }\n    // TODO: optimize\n    getEventById(id) {\n        let state = this.getCurrentData();\n        let { defs, instances } = state.eventStore;\n        id = String(id);\n        for (let defId in defs) {\n            let def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventImpl(state, def, null);\n                }\n                for (let instanceId in instances) {\n                    let instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventImpl(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    }\n    getEvents() {\n        let currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    }\n    removeAllEvents() {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    }\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    getEventSources() {\n        let state = this.getCurrentData();\n        let sourceHash = state.eventSources;\n        let sourceApis = [];\n        for (let internalId in sourceHash) {\n            sourceApis.push(new EventSourceImpl(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    }\n    getEventSourceById(id) {\n        let state = this.getCurrentData();\n        let sourceHash = state.eventSources;\n        id = String(id);\n        for (let sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceImpl(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    }\n    addEventSource(sourceInput) {\n        let state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceImpl) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        let eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceImpl(state, eventSource);\n        }\n        return null;\n    }\n    removeAllEventSources() {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    }\n    refetchEvents() {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    }\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    scrollToTime(timeInput) {\n        let time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time });\n        }\n    }\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    let res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nconst EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nclass Splitter {\n    constructor() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    splitProps(props) {\n        let keyInfos = this.getKeyInfo(props);\n        let defKeys = this.getKeysForEventDefs(props.eventStore);\n        let dateSelections = this.splitDateSelection(props.dateSelection);\n        let individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        let eventStores = this.splitEventStore(props.eventStore, defKeys);\n        let eventDrags = this.splitEventDrag(props.eventDrag);\n        let eventResizes = this.splitEventResize(props.eventResize);\n        let splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, (info, key) => this.eventUiBuilders[key] || memoize(buildEventUiForKey));\n        for (let key in keyInfos) {\n            let keyInfo = keyInfos[key];\n            let eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            let buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    }\n    _splitDateSpan(dateSpan) {\n        let dateSpans = {};\n        if (dateSpan) {\n            let keys = this.getKeysForDateSpan(dateSpan);\n            for (let key of keys) {\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    }\n    _getKeysForEventDefs(eventStore) {\n        return mapHash(eventStore.defs, (eventDef) => this.getKeysForEventDef(eventDef));\n    }\n    _splitEventStore(eventStore, defKeys) {\n        let { defs, instances } = eventStore;\n        let splitStores = {};\n        for (let defId in defs) {\n            for (let key of defKeys[defId]) {\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (let instanceId in instances) {\n            let instance = instances[instanceId];\n            for (let key of defKeys[instance.defId]) {\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    }\n    _splitIndividualUi(eventUiBases, defKeys) {\n        let splitHashes = {};\n        for (let defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (let key of defKeys[defId]) {\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    }\n    _splitInteraction(interaction) {\n        let splitStates = {};\n        if (interaction) {\n            let affectedStores = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            let mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            let mutatedStores = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            let populate = (key) => {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (let key in affectedStores) {\n                populate(key);\n            }\n            for (let key in mutatedStores) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    }\n}\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    let baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    let stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        Object.assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    let classNames = [\n        'fc-day',\n        `fc-day-${DAY_IDS[meta.dow]}`,\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    let classNames = [\n        'fc-slot',\n        `fc-slot-${DAY_IDS[meta.dow]}`,\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nconst DAY_FORMAT = createFormatter({ year: 'numeric', month: 'long', day: 'numeric' });\nconst WEEK_FORMAT = createFormatter({ week: 'long' });\nfunction buildNavLinkAttrs(context, dateMarker, viewType = 'day', isTabbable = true) {\n    const { dateEnv, options, calendarApi } = context;\n    let dateStr = dateEnv.format(dateMarker, viewType === 'week' ? WEEK_FORMAT : DAY_FORMAT);\n    if (options.navLinks) {\n        let zonedDate = dateEnv.toDate(dateMarker);\n        const handleInteraction = (ev) => {\n            let customAction = viewType === 'day' ? options.navLinkDayClick :\n                viewType === 'week' ? options.navLinkWeekClick : null;\n            if (typeof customAction === 'function') {\n                customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n            }\n            else {\n                if (typeof customAction === 'string') {\n                    viewType = customAction;\n                }\n                calendarApi.zoomTo(dateMarker, viewType);\n            }\n        };\n        return Object.assign({ title: formatWithOrdinals(options.navLinkHint, [dateStr, zonedDate], dateStr), 'data-navlink': '' }, (isTabbable\n            ? createAriaClickAttrs(handleInteraction)\n            : { onClick: handleInteraction }));\n    }\n    return { 'aria-label': dateStr };\n}\n\nlet _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    let outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    let innerEl = outerEl.firstChild;\n    let res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nlet _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    let el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    let res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding = false) {\n    let computedStyle = window.getComputedStyle(el);\n    let borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    let borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    let borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    let borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    let badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    let scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    let scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    let res = {\n        borderLeft,\n        borderRight,\n        borderTop,\n        borderBottom,\n        scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding = false, doFromWindowViewport) {\n    let outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    let edges = computeEdges(el, goWithinPadding);\n    let res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    let rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.scrollX,\n        top: rect.top + window.scrollY,\n        right: rect.right + window.scrollX,\n        bottom: rect.bottom + window.scrollY,\n    };\n}\nfunction computeClippedClientRect(el) {\n    let clippingParents = getClippingParents(el);\n    let rect = el.getBoundingClientRect();\n    for (let clippingParent of clippingParents) {\n        let intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\n// does not return window\nfunction getClippingParents(el) {\n    let parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        let computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nclass PositionCache {\n    constructor(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        let originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    buildElHorizontals(originClientLeft) {\n        let lefts = [];\n        let rights = [];\n        for (let el of this.els) {\n            let rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    }\n    // Populates the top/bottom internal coordinate arrays\n    buildElVerticals(originClientTop) {\n        let tops = [];\n        let bottoms = [];\n        for (let el of this.els) {\n            let rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    }\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    leftToIndex(leftPosition) {\n        let { lefts, rights } = this;\n        let len = lefts.length;\n        let i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    }\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    topToIndex(topPosition) {\n        let { tops, bottoms } = this;\n        let len = tops.length;\n        let i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    }\n    // Gets the width of the element at the given index\n    getWidth(leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    }\n    // Gets the height of the element at the given index\n    getHeight(topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    }\n    similarTo(otherCache) {\n        return similarNumArrays(this.tops || [], otherCache.tops || []) &&\n            similarNumArrays(this.bottoms || [], otherCache.bottoms || []) &&\n            similarNumArrays(this.lefts || [], otherCache.lefts || []) &&\n            similarNumArrays(this.rights || [], otherCache.rights || []);\n    }\n}\nfunction similarNumArrays(a, b) {\n    const len = a.length;\n    if (len !== b.length) {\n        return false;\n    }\n    for (let i = 0; i < len; i++) {\n        if (Math.round(a[i]) !== Math.round(b[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nclass ScrollController {\n    getMaxScrollTop() {\n        return this.getScrollHeight() - this.getClientHeight();\n    }\n    getMaxScrollLeft() {\n        return this.getScrollWidth() - this.getClientWidth();\n    }\n    canScrollVertically() {\n        return this.getMaxScrollTop() > 0;\n    }\n    canScrollHorizontally() {\n        return this.getMaxScrollLeft() > 0;\n    }\n    canScrollUp() {\n        return this.getScrollTop() > 0;\n    }\n    canScrollDown() {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    }\n    canScrollLeft() {\n        return this.getScrollLeft() > 0;\n    }\n    canScrollRight() {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    }\n}\nclass ElementScrollController extends ScrollController {\n    constructor(el) {\n        super();\n        this.el = el;\n    }\n    getScrollTop() {\n        return this.el.scrollTop;\n    }\n    getScrollLeft() {\n        return this.el.scrollLeft;\n    }\n    setScrollTop(top) {\n        this.el.scrollTop = top;\n    }\n    setScrollLeft(left) {\n        this.el.scrollLeft = left;\n    }\n    getScrollWidth() {\n        return this.el.scrollWidth;\n    }\n    getScrollHeight() {\n        return this.el.scrollHeight;\n    }\n    getClientHeight() {\n        return this.el.clientHeight;\n    }\n    getClientWidth() {\n        return this.el.clientWidth;\n    }\n}\nclass WindowScrollController extends ScrollController {\n    getScrollTop() {\n        return window.scrollY;\n    }\n    getScrollLeft() {\n        return window.scrollX;\n    }\n    setScrollTop(n) {\n        window.scroll(window.scrollX, n);\n    }\n    setScrollLeft(n) {\n        window.scroll(n, window.scrollY);\n    }\n    getScrollWidth() {\n        return document.documentElement.scrollWidth;\n    }\n    getScrollHeight() {\n        return document.documentElement.scrollHeight;\n    }\n    getClientHeight() {\n        return document.documentElement.clientHeight;\n    }\n    getClientWidth() {\n        return document.documentElement.clientWidth;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nclass DateComponent extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.uid = guid();\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    prepareHits() {\n    }\n    queryHit(positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    }\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    isValidSegDownEl(el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    }\n    isValidDateDownEl(el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    }\n}\n\nclass NamedTimeZoneImpl {\n    constructor(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n}\n\nclass SegHierarchy {\n    constructor(getEntryThickness = (entry) => {\n        // if no thickness known, assume 1 (if 0, so small it always fits)\n        return entry.thickness || 1;\n    }) {\n        this.getEntryThickness = getEntryThickness;\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    addSegs(inputs) {\n        let hiddenEntries = [];\n        for (let input of inputs) {\n            this.insertEntry(input, hiddenEntries);\n        }\n        return hiddenEntries;\n    }\n    insertEntry(entry, hiddenEntries) {\n        let insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n        }\n        else {\n            this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n        }\n    }\n    isInsertionValid(insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + this.getEntryThickness(entry) <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    }\n    handleInvalidInsertion(insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            const hiddenEntry = Object.assign(Object.assign({}, entry), { span: intersectSpans(entry.span, insertion.touchingEntry.span) });\n            hiddenEntries.push(hiddenEntry);\n            this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        else {\n            hiddenEntries.push(entry);\n        }\n    }\n    /*\n    Does NOT add what hit the `barrier` into hiddenEntries. Should already be done.\n    */\n    splitEntry(entry, barrier, hiddenEntries) {\n        let entrySpan = entry.span;\n        let barrierSpan = barrier.span;\n        if (entrySpan.start < barrierSpan.start) {\n            this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: entrySpan.start, end: barrierSpan.start },\n            }, hiddenEntries);\n        }\n        if (entrySpan.end > barrierSpan.end) {\n            this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: barrierSpan.end, end: entrySpan.end },\n            }, hiddenEntries);\n        }\n    }\n    insertEntryAt(entry, insertion) {\n        let { entriesByLevel, levelCoords } = this;\n        if (insertion.lateral === -1) {\n            // create a new level\n            insertAt(levelCoords, insertion.level, insertion.levelCoord);\n            insertAt(entriesByLevel, insertion.level, [entry]);\n        }\n        else {\n            // insert into existing level\n            insertAt(entriesByLevel[insertion.level], insertion.lateral, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    }\n    /*\n    does not care about limits\n    */\n    findInsertion(newEntry) {\n        let { levelCoords, entriesByLevel, strictOrder, stackCnts } = this;\n        let levelCnt = levelCoords.length;\n        let candidateCoord = 0;\n        let touchingLevel = -1;\n        let touchingLateral = -1;\n        let touchingEntry = null;\n        let stackCnt = 0;\n        for (let trackingLevel = 0; trackingLevel < levelCnt; trackingLevel += 1) {\n            const trackingCoord = levelCoords[trackingLevel];\n            // if the current level is past the placed entry, we have found a good empty space and can stop.\n            // if strictOrder, keep finding more lateral intersections.\n            if (!strictOrder && trackingCoord >= candidateCoord + this.getEntryThickness(newEntry)) {\n                break;\n            }\n            let trackingEntries = entriesByLevel[trackingLevel];\n            let trackingEntry;\n            let searchRes = binarySearch(trackingEntries, newEntry.span.start, getEntrySpanEnd); // find first entry after newEntry's end\n            let lateralIndex = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            while ( // loop through entries that horizontally intersect\n            (trackingEntry = trackingEntries[lateralIndex]) && // but not past the whole entry list\n                trackingEntry.span.start < newEntry.span.end // and not entirely past newEntry\n            ) {\n                let trackingEntryBottom = trackingCoord + this.getEntryThickness(trackingEntry);\n                // intersects into the top of the candidate?\n                if (trackingEntryBottom > candidateCoord) {\n                    candidateCoord = trackingEntryBottom;\n                    touchingEntry = trackingEntry;\n                    touchingLevel = trackingLevel;\n                    touchingLateral = lateralIndex;\n                }\n                // butts up against top of candidate? (will happen if just intersected as well)\n                if (trackingEntryBottom === candidateCoord) {\n                    // accumulate the highest possible stackCnt of the trackingEntries that butt up\n                    stackCnt = Math.max(stackCnt, stackCnts[buildEntryKey(trackingEntry)] + 1);\n                }\n                lateralIndex += 1;\n            }\n        }\n        // the destination level will be after touchingEntry's level. find it\n        let destLevel = 0;\n        if (touchingEntry) {\n            destLevel = touchingLevel + 1;\n            while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord) {\n                destLevel += 1;\n            }\n        }\n        // if adding to an existing level, find where to insert\n        let destLateral = -1;\n        if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord) {\n            destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end, getEntrySpanEnd)[0];\n        }\n        return {\n            touchingLevel,\n            touchingLateral,\n            touchingEntry,\n            stackCnt,\n            levelCoord: candidateCoord,\n            level: destLevel,\n            lateral: destLateral,\n        };\n    }\n    // sorted by levelCoord (lowest to highest)\n    toRects() {\n        let { entriesByLevel, levelCoords } = this;\n        let levelCnt = entriesByLevel.length;\n        let rects = [];\n        for (let level = 0; level < levelCnt; level += 1) {\n            let entries = entriesByLevel[level];\n            let levelCoord = levelCoords[level];\n            for (let entry of entries) {\n                rects.push(Object.assign(Object.assign({}, entry), { thickness: this.getEntryThickness(entry), levelCoord }));\n            }\n        }\n        return rects;\n    }\n}\nfunction getEntrySpanEnd(entry) {\n    return entry.span.end;\n}\nfunction buildEntryKey(entry) {\n    return entry.index + ':' + entry.span.start;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    let merges = [];\n    for (let entry of entries) {\n        let filteredMerges = [];\n        let hungryMerge = {\n            span: entry.span,\n            entries: [entry],\n        };\n        for (let merge of merges) {\n            if (intersectSpans(merge.span, hungryMerge.span)) {\n                hungryMerge = {\n                    entries: merge.entries.concat(hungryMerge.entries),\n                    span: joinSpans(merge.span, hungryMerge.span),\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\nfunction joinSpans(span0, span1) {\n    return {\n        start: Math.min(span0.start, span1.start),\n        end: Math.max(span0.end, span1.end),\n    };\n}\nfunction intersectSpans(span0, span1) {\n    let start = Math.max(span0.start, span1.start);\n    let end = Math.min(span0.end, span1.end);\n    if (start < end) {\n        return { start, end };\n    }\n    return null;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    let startIndex = 0;\n    let endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        let middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        let middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nclass ElementDragging {\n    constructor(el, selector) {\n        this.emitter = new Emitter();\n    }\n    destroy() {\n    }\n    setMirrorIsVisible(bool) {\n        // optional if subclass doesn't want to support a mirror\n    }\n    setMirrorNeedsRevert(bool) {\n        // optional if subclass doesn't want to support a mirror\n    }\n    setAutoScrollEnabled(bool) {\n        // optional\n    }\n}\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nconst config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nconst DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    let { refined, extra } = refineProps(raw, DRAG_META_REFINERS);\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nconst CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(renderProps) {\n    return renderProps.text;\n}\n\n// BAD name for this class now. used in the Header\nclass TableDateCell extends BaseComponent {\n    render() {\n        let { dateEnv, options, theme, viewApi } = this.context;\n        let { props } = this;\n        let { date, dateProfile } = props;\n        let dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        let classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        let text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        let navLinkAttrs = (!dayMeta.isDisabled && props.colCnt > 1)\n            ? buildNavLinkAttrs(this.context, date)\n            : {};\n        let renderProps = Object.assign(Object.assign(Object.assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraRenderProps), { text }), dayMeta);\n        return (createElement(ContentContainer, { elTag: \"th\", elClasses: classNames, elAttrs: Object.assign({ role: 'columnheader', colSpan: props.colSpan, 'data-date': !dayMeta.isDisabled ? formatDayString(date) : undefined }, props.extraDataAttrs), renderProps: renderProps, generatorName: \"dayHeaderContent\", customGenerator: options.dayHeaderContent, defaultGenerator: renderInner$1, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContainer) => (createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(InnerContainer, { elTag: \"a\", elAttrs: navLinkAttrs, elClasses: [\n                'fc-col-header-cell-cushion',\n                props.isSticky && 'fc-sticky',\n            ] }))))));\n    }\n}\n\nconst WEEKDAY_FORMAT = createFormatter({ weekday: 'long' });\nclass TableDowCell extends BaseComponent {\n    render() {\n        let { props } = this;\n        let { dateEnv, theme, viewApi, options } = this.context;\n        let date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        let dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        let text = dateEnv.format(date, props.dayHeaderFormat);\n        let renderProps = Object.assign(Object.assign(Object.assign(Object.assign({ // TODO: make this public?\n            date }, dateMeta), { view: viewApi }), props.extraRenderProps), { text });\n        return (createElement(ContentContainer, { elTag: \"th\", elClasses: [\n                CLASS_NAME,\n                ...getDayClassNames(dateMeta, theme),\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign({ role: 'columnheader', colSpan: props.colSpan }, props.extraDataAttrs), renderProps: renderProps, generatorName: \"dayHeaderContent\", customGenerator: options.dayHeaderContent, defaultGenerator: renderInner$1, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContent) => (createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n            createElement(InnerContent, { elTag: \"a\", elClasses: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky && 'fc-sticky',\n                ], elAttrs: {\n                    'aria-label': dateEnv.format(date, WEEKDAY_FORMAT),\n                } })))));\n    }\n}\n\nclass NowTimer extends Component {\n    constructor(props, context) {\n        super(props, context);\n        this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        this.initialNowQueriedMs = new Date().valueOf();\n        this.state = this.computeTiming().currentState;\n    }\n    render() {\n        let { props, state } = this;\n        return props.children(state.nowDate, state.todayRange);\n    }\n    componentDidMount() {\n        this.setTimeout();\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    }\n    componentWillUnmount() {\n        this.clearTimeout();\n    }\n    computeTiming() {\n        let { props, context } = this;\n        let unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        let currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        let nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        let waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs,\n        };\n    }\n    setTimeout() {\n        let { nextState, waitMs } = this.computeTiming();\n        this.timeoutId = setTimeout(() => {\n            this.setState(nextState, () => {\n                this.setTimeout();\n            });\n        }, waitMs);\n    }\n    clearTimeout() {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    }\n}\nNowTimer.contextType = ViewContextType;\nfunction buildDayRange(date) {\n    let start = startOfDay(date);\n    let end = addDays(start, 1);\n    return { start, end };\n}\n\nclass DayHeader extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n    }\n    render() {\n        let { context } = this;\n        let { dates, dateProfile, datesRepDistinctDays, renderIntro } = this.props;\n        let dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => (createElement(\"tr\", { role: \"row\" },\n            renderIntro && renderIntro('day'),\n            dates.map((date) => (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))))))));\n    }\n}\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nclass DaySeriesModel {\n    constructor(range, dateProfileGenerator) {\n        let date = range.start;\n        let { end } = range;\n        let indices = [];\n        let dates = [];\n        let dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    sliceRange(range) {\n        let firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        let lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        let clippedFirstIndex = Math.max(0, firstIndex);\n        let clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    }\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    getDateDayIndex(date) {\n        let { indices } = this;\n        let dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    }\n}\n\nclass DayTableModel {\n    constructor(daySeries, breakOnWeeks) {\n        let { dates } = daySeries;\n        let daysPerRow;\n        let firstDay;\n        let rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    buildCells() {\n        let rows = [];\n        for (let row = 0; row < this.rowCnt; row += 1) {\n            let cells = [];\n            for (let col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    }\n    buildCell(row, col) {\n        let date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date,\n        };\n    }\n    buildHeaderDates() {\n        let dates = [];\n        for (let col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    }\n    sliceRange(range) {\n        let { colCnt } = this;\n        let seriesSeg = this.daySeries.sliceRange(range);\n        let segs = [];\n        if (seriesSeg) {\n            let { firstIndex, lastIndex } = seriesSeg;\n            let index = firstIndex;\n            while (index <= lastIndex) {\n                let row = Math.floor(index / colCnt);\n                let nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    }\n}\n\nclass Slicer {\n    constructor() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    sliceProps(props, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        let { eventUiBases } = props;\n        let eventSegs = this.sliceEventStore(props.eventStore, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs);\n        return {\n            dateSelectionSegs: this.sliceDateSelection(props.dateSelection, dateProfile, nextDayThreshold, eventUiBases, context, ...extraArgs),\n            businessHourSegs: this.sliceBusinessHours(props.businessHours, dateProfile, nextDayThreshold, context, ...extraArgs),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag(props.eventDrag, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs),\n            eventResize: this.sliceEventResize(props.eventResize, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    }\n    sliceNowDate(// does not memoize\n    date, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        return this._sliceDateSpan({ range: { start: date, end: addMs(date, 1) }, allDay: false }, // add 1 ms, protect against null range\n        dateProfile, nextDayThreshold, {}, context, ...extraArgs);\n    }\n    _sliceBusinessHours(businessHours, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore(expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context), {}, dateProfile, nextDayThreshold, ...extraArgs).bg;\n    }\n    _sliceEventStore(eventStore, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs) {\n        if (eventStore) {\n            let rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    }\n    _sliceInteraction(interaction, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs) {\n        if (!interaction) {\n            return null;\n        }\n        let rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    }\n    _sliceDateSpan(dateSpan, dateProfile, nextDayThreshold, eventUiBases, context, ...extraArgs) {\n        if (!dateSpan) {\n            return [];\n        }\n        let activeRange = computeActiveRange(dateProfile, Boolean(nextDayThreshold));\n        let activeDateSpanRange = intersectRanges(dateSpan.range, activeRange);\n        if (activeDateSpanRange) {\n            dateSpan = Object.assign(Object.assign({}, dateSpan), { range: activeDateSpanRange });\n            let eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n            let segs = this.sliceRange(dateSpan.range, ...extraArgs);\n            for (let seg of segs) {\n                seg.eventRange = eventRange;\n            }\n            return segs;\n        }\n        return [];\n    }\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    sliceEventRanges(eventRanges, extraArgs) {\n        let segs = [];\n        for (let eventRange of eventRanges) {\n            segs.push(...this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    }\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    sliceEventRange(eventRange, extraArgs) {\n        let dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        let segs = this.sliceRange(dateRange, ...extraArgs);\n        for (let seg of segs) {\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    }\n}\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    let range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    let { instances } = interaction.mutatedEvents;\n    for (let instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    let calendarState = context.getCurrentData();\n    let props = Object.assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta = {}, filterConfig) {\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    let currentState = context.getCurrentData();\n    let interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    let subjectEventStore = interaction.mutatedEvents;\n    let subjectDefs = subjectEventStore.defs;\n    let subjectInstances = subjectEventStore.instances;\n    let subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    let otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    let otherDefs = otherEventStore.defs;\n    let otherInstances = otherEventStore.instances;\n    let otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (let subjectInstanceId in subjectInstances) {\n        let subjectInstance = subjectInstances[subjectInstanceId];\n        let subjectRange = subjectInstance.range;\n        let subjectConfig = subjectConfigs[subjectInstance.defId];\n        let subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        let { eventOverlap } = context.options;\n        let eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (let otherInstanceId in otherInstances) {\n            let otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                let otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventImpl(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventImpl(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        let calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (let subjectAllow of subjectConfig.allows) {\n            let subjectDateSpan = Object.assign(Object.assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            let origDef = calendarEventStore.defs[subjectDef.defId];\n            let origInstance = calendarEventStore.instances[subjectInstanceId];\n            let eventApi;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventImpl(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventImpl(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    let relevantEventStore = state.eventStore;\n    let relevantDefs = relevantEventStore.defs;\n    let relevantInstances = relevantEventStore.instances;\n    let selection = state.dateSelection;\n    let selectionRange = selection.range;\n    let { selectionConfig } = context.getCurrentData();\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    let { selectOverlap } = context.options;\n    let selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (let relevantInstanceId in relevantInstances) {\n        let relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventImpl(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (let selectionAllow of selectionConfig.allows) {\n        let fullDateSpan = Object.assign(Object.assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (let constraint of constraints) {\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, (eventDef) => eventDef.groupId === constraint));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    let { instances } = eventStore;\n    let ranges = [];\n    for (let instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (let outerRange of outerRanges) {\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nconst VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nclass Scroller extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.handleEl = (el) => {\n            this.el = el;\n            setRef(this.props.elRef, el);\n        };\n    }\n    render() {\n        let { props } = this;\n        let { liquid, liquidIsAbsolute } = props;\n        let isAbsolute = liquid && liquidIsAbsolute;\n        let className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    }\n    needsXScrolling() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        let { el } = this;\n        let realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        let { children } = el;\n        for (let i = 0; i < children.length; i += 1) {\n            let childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    }\n    needsYScrolling() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        let { el } = this;\n        let realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        let { children } = el;\n        for (let i = 0; i < children.length; i += 1) {\n            let childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getXScrollbarWidth() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    }\n    getYScrollbarWidth() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    }\n}\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nclass RefMap {\n    constructor(masterCallback) {\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = (val, key) => {\n            let { depths, currentMap } = this;\n            let removed = false;\n            let added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (this.masterCallback) {\n                if (removed) {\n                    this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    createRef(key) {\n        let refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = (val) => {\n                this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    }\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    collect(startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    }\n    getAll() {\n        return hashValuesToArray(this.currentMap);\n    }\n}\n\nfunction computeShrinkWidth(chunkEls) {\n    let shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    let largestWidth = 0;\n    for (let shrinkCell of shrinkCells) {\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg, isHeader) {\n    let { expandRows } = arg;\n    let content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            role: 'presentation',\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement(isHeader ? 'thead' : 'tbody', {\n            role: 'presentation',\n        }, typeof chunkConfig.rowContent === 'function'\n            ? chunkConfig.rowContent(arg)\n            : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    let colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (let colProps of cols) {\n        let span = colProps.span || 1;\n        for (let i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement('colgroup', {}, ...colNodes);\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (let col of cols) {\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    let classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    let classNames = [\n        'fc-scrollgrid-section',\n        `fc-scrollgrid-section-${sectionConfig.type}`,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    let { stickyHeaderDates } = options;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    let { stickyFooterScrollbar } = options;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nclass SimpleScrollGrid extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.processCols = memoize((a) => a, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        this.renderMicroColGroup = memoize(renderMicroColGroup);\n        this.scrollerRefs = new RefMap();\n        this.scrollerElRefs = new RefMap(this._handleScrollerEl.bind(this));\n        this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        this.handleSizing = () => {\n            this.safeSetState(Object.assign({ shrinkWidth: this.computeShrinkWidth() }, this.computeScrollerDims()));\n        };\n    }\n    render() {\n        let { props, state, context } = this;\n        let sectionConfigs = props.sections || [];\n        let cols = this.processCols(props.cols);\n        let microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        let classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        let configCnt = sectionConfigs.length;\n        let configI = 0;\n        let currentConfig;\n        let headSectionNodes = [];\n        let bodySectionNodes = [];\n        let footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode, false));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        let isBuggy = !getCanVGrowWithinCell();\n        const roleAttrs = { role: 'rowgroup' };\n        return createElement('table', {\n            role: 'grid',\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement('thead', roleAttrs, ...headSectionNodes), Boolean(!isBuggy && bodySectionNodes.length) && createElement('tbody', roleAttrs, ...bodySectionNodes), Boolean(!isBuggy && footSectionNodes.length) && createElement('tfoot', roleAttrs, ...footSectionNodes), isBuggy && createElement('tbody', roleAttrs, ...headSectionNodes, ...bodySectionNodes, ...footSectionNodes));\n    }\n    renderSection(sectionConfig, microColGroupNode, isHeader) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, role: \"presentation\", className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk, isHeader)));\n    }\n    renderChunkTd(sectionConfig, microColGroupNode, chunkConfig, isHeader) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        let { props } = this;\n        let { forceYScrollbars, scrollerClientWidths, scrollerClientHeights } = this.state;\n        let needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        let isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        let overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        let sectionKey = sectionConfig.key;\n        let content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: () => { },\n        }, isHeader);\n        return createElement(isHeader ? 'th' : 'td', {\n            ref: chunkConfig.elRef,\n            role: 'presentation',\n        }, createElement(\"div\", { className: `fc-scroller-harness${isLiquid ? ' fc-scroller-harness-liquid' : ''}` },\n            createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                : true }, content)));\n    }\n    _handleScrollerEl(scrollerEl, key) {\n        let section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    }\n    componentDidMount() {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    }\n    componentDidUpdate() {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleSizing);\n    }\n    computeShrinkWidth() {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    }\n    computeScrollerDims() {\n        let scrollbarWidth = getScrollbarWidths();\n        let { scrollerRefs, scrollerElRefs } = this;\n        let forceYScrollbars = false;\n        let scrollerClientWidths = {};\n        let scrollerClientHeights = {};\n        for (let sectionKey in scrollerRefs.currentMap) {\n            let scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (let section of this.props.sections) {\n            let sectionKey = section.key;\n            let scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                let harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars, scrollerClientWidths, scrollerClientHeights };\n    }\n}\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (let section of sections) {\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nclass EventContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.handleEl = (el) => {\n            this.el = el;\n            if (el) {\n                setElSeg(el, this.props.seg);\n            }\n        };\n    }\n    render() {\n        const { props, context } = this;\n        const { options } = context;\n        const { seg } = props;\n        const { eventRange } = seg;\n        const { ui } = eventRange;\n        const renderProps = {\n            event: new EventImpl(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        return (createElement(ContentContainer, Object.assign({}, props /* contains children */, { elRef: this.handleEl, elClasses: [\n                ...getEventClassNames(renderProps),\n                ...seg.eventRange.ui.classNames,\n                ...(props.elClasses || []),\n            ], renderProps: renderProps, generatorName: \"eventContent\", customGenerator: options.eventContent, defaultGenerator: props.defaultGenerator, classNameGenerator: options.eventClassNames, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount })));\n    }\n    componentDidUpdate(prevProps) {\n        if (this.el && this.props.seg !== prevProps.seg) {\n            setElSeg(this.el, this.props.seg);\n        }\n    }\n}\n\n// should not be a purecomponent\nclass StandardEvent extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { seg } = props;\n        let { ui } = seg.eventRange;\n        let timeFormat = options.eventTimeFormat || props.defaultTimeFormat;\n        let timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventContainer, Object.assign({}, props /* includes elRef */, { elTag: \"a\", elStyle: {\n                borderColor: ui.borderColor,\n                backgroundColor: ui.backgroundColor,\n            }, elAttrs: getSegAnchorAttrs(seg, context), defaultGenerator: renderInnerContent$1, timeText: timeText }), (InnerContent, eventContentArg) => (createElement(Fragment, null,\n            createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-event-main'], elStyle: { color: eventContentArg.textColor } }),\n            Boolean(eventContentArg.isStartResizable) && (createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" })),\n            Boolean(eventContentArg.isEndResizable) && (createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))))));\n    }\n}\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\n\nconst NowIndicatorContainer = (props) => (createElement(ViewContextType.Consumer, null, (context) => {\n    let { options } = context;\n    let renderProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(ContentContainer, Object.assign({}, props /* includes children */, { elTag: props.elTag || 'div', renderProps: renderProps, generatorName: \"nowIndicatorContent\", customGenerator: options.nowIndicatorContent, classNameGenerator: options.nowIndicatorClassNames, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount })));\n}));\n\nconst DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nclass DayCellContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.refineRenderProps = memoizeObjArg(refineRenderProps);\n    }\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let renderProps = this.refineRenderProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            isMonthStart: props.isMonthStart || false,\n            showDayNumber: props.showDayNumber,\n            extraRenderProps: props.extraRenderProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n            monthStartFormat: options.monthStartFormat,\n        });\n        return (createElement(ContentContainer, Object.assign({}, props /* includes children */, { elClasses: [\n                ...getDayClassNames(renderProps, context.theme),\n                ...(props.elClasses || []),\n            ], elAttrs: Object.assign(Object.assign({}, props.elAttrs), (renderProps.isDisabled ? {} : { 'data-date': formatDayString(props.date) })), renderProps: renderProps, generatorName: \"dayCellContent\", customGenerator: options.dayCellContent, defaultGenerator: props.defaultGenerator, classNameGenerator: \n            // don't use custom classNames if disabled\n            renderProps.isDisabled ? undefined : options.dayCellClassNames, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount })));\n    }\n}\nfunction hasCustomDayCellContent(options) {\n    return Boolean(options.dayCellContent || hasCustomRenderingHandler('dayCellContent', options));\n}\nfunction refineRenderProps(raw) {\n    let { date, dateEnv, dateProfile, isMonthStart } = raw;\n    let dayMeta = getDateMeta(date, raw.todayRange, null, dateProfile);\n    let dayNumberText = raw.showDayNumber ? (dateEnv.format(date, isMonthStart ? raw.monthStartFormat : DAY_NUM_FORMAT)) : '';\n    return Object.assign(Object.assign(Object.assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { isMonthStart,\n        dayNumberText }), raw.extraRenderProps);\n}\n\nclass BgEvent extends BaseComponent {\n    render() {\n        let { props } = this;\n        let { seg } = props;\n        return (createElement(EventContainer, { elTag: \"div\", elClasses: ['fc-bg-event'], elStyle: { backgroundColor: seg.eventRange.ui.backgroundColor }, defaultGenerator: renderInnerContent, seg: seg, timeText: \"\", isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, disableDragging: true, disableResizing: true }));\n    }\n}\nfunction renderInnerContent(props) {\n    let { title } = props.event;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: `fc-${fillType}` }));\n}\n\nconst WeekNumberContainer = (props) => (createElement(ViewContextType.Consumer, null, (context) => {\n    let { dateEnv, options } = context;\n    let { date } = props;\n    let format = options.weekNumberFormat || props.defaultFormat;\n    let num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    let text = dateEnv.format(date, format);\n    let renderProps = { num, text, date };\n    return (createElement(ContentContainer // why isn't WeekNumberContentArg being auto-detected?\n    , Object.assign({}, props /* includes children */, { renderProps: renderProps, generatorName: \"weekNumberContent\", customGenerator: options.weekNumberContent, defaultGenerator: renderInner, classNameGenerator: options.weekNumberClassNames, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount })));\n}));\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nconst PADDING_FROM_VIEWPORT = 10;\nclass Popover extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            titleId: getUniqueDomId(),\n        };\n        this.handleRootEl = (el) => {\n            this.rootEl = el;\n            if (this.props.elRef) {\n                setRef(this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        this.handleDocumentMouseDown = (ev) => {\n            // only hide the popover if the click happened outside the popover\n            const target = getEventTargetViaRoot(ev);\n            if (!this.rootEl.contains(target)) {\n                this.handleCloseClick();\n            }\n        };\n        this.handleDocumentKeyDown = (ev) => {\n            if (ev.key === 'Escape') {\n                this.handleCloseClick();\n            }\n        };\n        this.handleCloseClick = () => {\n            let { onClose } = this.props;\n            if (onClose) {\n                onClose();\n            }\n        };\n    }\n    render() {\n        let { theme, options } = this.context;\n        let { props, state } = this;\n        let classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", Object.assign({}, props.extraAttrs, { id: props.id, className: classNames.join(' '), \"aria-labelledby\": state.titleId, ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\", id: state.titleId }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), title: options.closeHint, onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    }\n    componentDidMount() {\n        document.addEventListener('mousedown', this.handleDocumentMouseDown);\n        document.addEventListener('keydown', this.handleDocumentKeyDown);\n        this.updateSize();\n    }\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleDocumentMouseDown);\n        document.removeEventListener('keydown', this.handleDocumentKeyDown);\n    }\n    updateSize() {\n        let { isRtl } = this.context;\n        let { alignmentEl, alignGridTop } = this.props;\n        let { rootEl } = this;\n        let alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            let popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            let popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            let popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            let origin = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin.top,\n                left: popoverLeft - origin.left,\n            });\n        }\n    }\n}\n\nclass MorePopover extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.handleRootEl = (rootEl) => {\n            this.rootEl = rootEl;\n            if (rootEl) {\n                this.context.registerInteractiveComponent(this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n    }\n    render() {\n        let { options, dateEnv } = this.context;\n        let { props } = this;\n        let { startDate, todayRange, dateProfile } = props;\n        let title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellContainer, { elRef: this.handleRootEl, date: startDate, dateProfile: dateProfile, todayRange: todayRange }, (InnerContent, renderProps, elAttrs) => (createElement(Popover, { elRef: elAttrs.ref, id: props.id, title: title, extraClassNames: ['fc-more-popover'].concat(elAttrs.className || []), extraAttrs: elAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            hasCustomDayCellContent(options) && (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-more-popover-misc'] })),\n            props.children))));\n    }\n    queryHit(positionLeft, positionTop, elWidth, elHeight) {\n        let { rootEl, props } = this;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: Object.assign({ allDay: !props.forceTimed, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    }\n}\n\nclass MoreLinkContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            isPopoverOpen: false,\n            popoverId: getUniqueDomId(),\n        };\n        this.handleLinkEl = (linkEl) => {\n            this.linkEl = linkEl;\n            if (this.props.elRef) {\n                setRef(this.props.elRef, linkEl);\n            }\n        };\n        this.handleClick = (ev) => {\n            let { props, context } = this;\n            let { moreLinkClick } = context.options;\n            let date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                let { def, instance, range } = seg.eventRange;\n                return {\n                    event: new EventImpl(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        this.handlePopoverClose = () => {\n            this.setState({ isPopoverOpen: false });\n        };\n    }\n    render() {\n        let { props, state } = this;\n        return (createElement(ViewContextType.Consumer, null, (context) => {\n            let { viewApi, options, calendarApi } = context;\n            let { moreLinkText } = options;\n            let { moreCnt } = props;\n            let range = computeRange(props);\n            let text = typeof moreLinkText === 'function' // TODO: eventually use formatWithOrdinals\n                ? moreLinkText.call(calendarApi, moreCnt)\n                : `+${moreCnt} ${moreLinkText}`;\n            let hint = formatWithOrdinals(options.moreLinkHint, [moreCnt], text);\n            let renderProps = {\n                num: moreCnt,\n                shortText: `+${moreCnt}`,\n                text,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(ContentContainer, { elTag: props.elTag || 'a', elRef: this.handleLinkEl, elClasses: [\n                        ...(props.elClasses || []),\n                        'fc-more-link',\n                    ], elStyle: props.elStyle, elAttrs: Object.assign(Object.assign(Object.assign({}, props.elAttrs), createAriaClickAttrs(this.handleClick)), { title: hint, 'aria-expanded': state.isPopoverOpen, 'aria-controls': state.isPopoverOpen ? state.popoverId : '' }), renderProps: renderProps, generatorName: \"moreLinkContent\", customGenerator: options.moreLinkContent, defaultGenerator: props.defaultGenerator || renderMoreLinkInner, classNameGenerator: options.moreLinkClassNames, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, props.children)),\n                state.isPopoverOpen && (createElement(MorePopover, { id: state.popoverId, startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: this.parentEl, alignmentEl: props.alignmentElRef ?\n                        props.alignmentElRef.current :\n                        this.linkEl, alignGridTop: props.alignGridTop, forceTimed: props.forceTimed, onClose: this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    }\n    componentDidMount() {\n        this.updateParentEl();\n    }\n    componentDidUpdate() {\n        this.updateParentEl();\n    }\n    updateParentEl() {\n        if (this.linkEl) {\n            this.parentEl = elementClosest(this.linkEl, '.fc-view-harness');\n        }\n    }\n}\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    let { hiddenSegs } = props;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\nclass Store {\n    constructor() {\n        this.handlers = [];\n    }\n    set(value) {\n        this.currentValue = value;\n        for (let handler of this.handlers) {\n            handler(value);\n        }\n    }\n    subscribe(handler) {\n        this.handlers.push(handler);\n        if (this.currentValue !== undefined) {\n            handler(this.currentValue);\n        }\n    }\n}\n\n/*\nSubscribers will get a LIST of CustomRenderings\n*/\nclass CustomRenderingStore extends Store {\n    constructor() {\n        super(...arguments);\n        this.map = new Map();\n    }\n    // for consistent order\n    handle(customRendering) {\n        const { map } = this;\n        let updated = false;\n        if (customRendering.isActive) {\n            map.set(customRendering.id, customRendering);\n            updated = true;\n        }\n        else if (map.has(customRendering.id)) {\n            map.delete(customRendering.id);\n            updated = true;\n        }\n        if (updated) {\n            this.set(map);\n        }\n    }\n}\n\nexport { elementClosest as $, memoizeObjArg as A, BaseComponent as B, ContentContainer as C, DelayedRunner as D, isPropsEqual as E, Emitter as F, getInitialDate as G, rangeContainsMarker as H, createEmptyEventStore as I, reduceCurrentDate as J, reduceEventStore as K, rezoneEventStoreDates as L, mergeRawOptions as M, BASE_OPTION_REFINERS as N, CALENDAR_LISTENER_REFINERS as O, CALENDAR_OPTION_REFINERS as P, COMPLEX_OPTION_COMPARATORS as Q, VIEW_OPTION_REFINERS as R, DateEnv as S, Theme as T, DateProfileGenerator as U, ViewContextType as V, createEventUi as W, parseBusinessHours as X, setRef as Y, Interaction as Z, getElSeg as _, mapHash as a, getSlotClassNames as a$, EventImpl as a0, listenBySelector as a1, listenToHoverBySelector as a2, PureComponent as a3, buildViewContext as a4, getUniqueDomId as a5, parseInteractionSettings as a6, interactionSettingsStore as a7, getNow as a8, CalendarImpl as a9, diffDates as aA, removeExact as aB, memoizeArraylike as aC, memoizeHashlike as aD, intersectRects as aE, pointInsideRect as aF, constrainPoint as aG, getRectCenter as aH, diffPoints as aI, translateRect as aJ, compareObjs as aK, collectFromHash as aL, findElements as aM, findDirectChildren as aN, removeElement as aO, applyStyle as aP, elementMatches as aQ, getEventTargetViaRoot as aR, parseClassNames as aS, getCanVGrowWithinCell as aT, mergeEventStores as aU, getRelevantEvents as aV, eventTupleToStore as aW, combineEventUis as aX, Splitter as aY, getDayClassNames as aZ, getDateMeta as a_, flushSync as aa, CalendarRoot as ab, RenderId as ac, ensureElHasStyles as ad, applyStyleProp as ae, sliceEventStore as af, JsonRequestError as ag, createContext as ah, refineProps as ai, createEventInstance as aj, parseEventDef as ak, refineEventDef as al, padStart as am, isInt as an, parseFieldSpecs as ao, compareByFieldSpecs as ap, flexibleCompare as aq, preventSelection as ar, allowSelection as as, preventContextMenu as at, allowContextMenu as au, compareNumbers as av, enableCursor as aw, disableCursor as ax, computeVisibleDayRange as ay, isMultiDayRange as az, buildViewClassNames as b, SimpleScrollGrid as b$, buildNavLinkAttrs as b0, preventDefault as b1, whenTransitionDone as b2, computeInnerRect as b3, computeEdges as b4, getClippingParents as b5, computeRect as b6, rangesEqual as b7, rangesIntersect as b8, rangeContainsRange as b9, SegHierarchy as bA, buildEntryKey as bB, getEntrySpanEnd as bC, binarySearch as bD, groupIntersectingEntries as bE, intersectSpans as bF, interactionSettingsToStore as bG, ElementDragging as bH, config as bI, parseDragMeta as bJ, DayHeader as bK, computeFallbackHeaderFormat as bL, TableDateCell as bM, TableDowCell as bN, DaySeriesModel as bO, hasBgRendering as bP, buildSegTimeText as bQ, sortEventSegs as bR, getSegMeta as bS, buildEventRangeKey as bT, getSegAnchorAttrs as bU, DayTableModel as bV, Slicer as bW, applyMutationToEventStore as bX, isPropsValid as bY, isInteractionValid as bZ, isDateSelectionValid as b_, PositionCache as ba, ScrollController as bb, ElementScrollController as bc, WindowScrollController as bd, DateComponent as be, isDateSpansEqual as bf, addMs as bg, addWeeks as bh, diffWeeks as bi, diffWholeWeeks as bj, diffDayAndTime as bk, diffDays as bl, isValidDate as bm, asCleanDays as bn, multiplyDuration as bo, addDurations as bp, asRoughMinutes as bq, asRoughSeconds as br, asRoughMs as bs, wholeDivideDurations as bt, formatIsoTimeString as bu, formatDayString as bv, buildIsoString as bw, formatIsoMonthStr as bx, NamedTimeZoneImpl as by, parse as bz, greatestDurationDenominator as c, hasShrinkWidth as c0, renderMicroColGroup as c1, getScrollGridClassNames as c2, getSectionClassNames as c3, getSectionHasLiquidHeight as c4, getAllowYScrolling as c5, renderChunkContent as c6, computeShrinkWidth as c7, sanitizeShrinkWidth as c8, isColPropsEqual as c9, renderScrollShim as ca, getStickyFooterScrollbar as cb, getStickyHeaderDates as cc, Scroller as cd, getScrollbarWidths as ce, RefMap as cf, getIsRtlScrollbarOnLeft as cg, NowTimer as ch, ScrollResponder as ci, StandardEvent as cj, NowIndicatorContainer as ck, DayCellContainer as cl, hasCustomDayCellContent as cm, EventContainer as cn, renderFill as co, BgEvent as cp, WeekNumberContainer as cq, MoreLinkContainer as cr, computeEarliestSegStart as cs, ViewContainer as ct, triggerDateSelect as cu, getDefaultEventEnd as cv, injectStyles as cw, buildElAttrs as cx, CustomRenderingStore as cy, createDuration as d, BASE_OPTION_DEFAULTS as e, arrayToHash as f, guid as g, filterHash as h, isArraysEqual as i, buildEventSourceRefiners as j, formatWithOrdinals as k, buildRangeApiWithTimeZone as l, mergeProps as m, identity as n, intersectRanges as o, parseEventSource as p, startOfDay as q, requestJson as r, subtractDurations as s, addDays as t, unpromisify as u, hashValuesToArray as v, buildEventApis as w, createFormatter as x, diffWholeDays as y, memoize as z };\n"],"names":["Component","n","createElement","t","options","e","toChildArray","r","Fragment","u","render","o","hydrate","i","createContext","l","createRef","c","cloneElement","f","useState","a","useId","s","useReducer","h","useEffect","v","useLayoutEffect","d","useRef","p","useImperativeHandle","m","useMemo","y","useCallback","_","useContext","b","useDebugValue","S","g","C","E","w","props","R","ref","call","current","shouldComponentUpdate","displayName","name","prototype","isReactComponent","__f","isPureReactComponent","state","x","__b","type","N","Symbol","for","k","$$typeof","A","map","O","forEach","count","length","only","toArray","T","__e","then","__","__c","__k","I","unmount","L","__H","__P","U","__v","insertBefore","__d","D","__u","F","__a","M","default","V","__R","__h","push","__O","setState","pop","forceUpdate","componentWillUnmount","document","fallback","children","W","delete","revealOrder","size","P","getChildContext","context","$","nodeType","parentNode","childNodes","appendChild","removeChild","splice","indexOf","j","containerInfo","get","Map","reverse","set","componentDidUpdate","componentDidMount","z","B","H","Z","test","Y","textContent","q","Object","defineProperty","configurable","writable","value","G","event","J","K","cancelBubble","Q","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","X","nn","class","tn","vnode","toLowerCase","replace","multiple","Array","isArray","selected","defaultValue","className","enumerable","en","__r","rn","ReactCurrentDispatcher","readContext","__n","un","on","bind","ln","cn","apply","arguments","fn","an","base","sn","hn","vn","dn","pn","mn","yn","_n","bn","useInsertionEffect","useTransition","useDeferredValue","useSyncExternalStore","startTransition","version","Children","unmountComponentAtNode","createPortal","createFactory","isValidElement","findDOMNode","PureComponent","memo","forwardRef","flushSync","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","defaultProps","key","constructor","setProperty","style","cssText","slice","addEventListener","removeEventListener","removeAttribute","setAttribute","setTimeout","debounceRendering","sort","shift","ownerSVGElement","nextSibling","some","contextType","__E","sub","_sb","__s","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","componentWillUpdate","getSnapshotBeforeUpdate","diffed","localName","createTextNode","createElementNS","is","data","dangerouslySetInnerHTML","attributes","__html","innerHTML","checked","firstChild","Consumer","Provider","getDerivedStateFromError","componentDidCatch","Promise","resolve","__V","__N","filter","every","concat","__m","requestAnimationFrame","clearTimeout","cancelAnimationFrame","useErrorBoundary","mergeProps","guid","isArraysEqual","Theme","mapHash","BaseComponent","ViewContextType","ContentContainer","buildViewClassNames","greatestDurationDenominator","createDuration","BASE_OPTION_DEFAULTS","arrayToHash","filterHash","buildEventSourceRefiners","parseEventSource","formatWithOrdinals","unpromisify","buildRangeApiWithTimeZone","identity","requestJson","subtractDurations","intersectRanges","startOfDay","addDays","hashValuesToArray","buildEventApis","DelayedRunner","createFormatter","diffWholeDays","memoize","memoizeObjArg","isPropsEqual","Emitter","getInitialDate","rangeContainsMarker","createEmptyEventStore","reduceCurrentDate","reduceEventStore","rezoneEventStoreDates","mergeRawOptions","BASE_OPTION_REFINERS","CALENDAR_LISTENER_REFINERS","CALENDAR_OPTION_REFINERS","COMPLEX_OPTION_COMPARATORS","VIEW_OPTION_REFINERS","DateEnv","DateProfileGenerator","createEventUi","parseBusinessHours","setRef","Interaction","getElSeg","elementClosest","a0","EventImpl","a1","listenBySelector","a2","listenToHoverBySelector","a3","a4","buildViewContext","a5","getUniqueDomId","a6","parseInteractionSettings","a7","interactionSettingsStore","a8","getNow","a9","CalendarImpl","aa","ab","CalendarRoot","ac","RenderId","ad","ensureElHasStyles","ae","applyStyleProp","af","sliceEventStore","ag","JsonRequestError","globalLocales","MINIMAL_RAW_EN_LOCALE","code","week","dow","doy","direction","buttonText","prev","next","prevYear","nextYear","year","today","month","day","list","weekText","weekTextLong","closeHint","timeHint","eventHint","allDayText","moreLinkText","noEventsText","RAW_EN_LOCALE","assign","buttonHints","unit","viewHint","navLinkHint","moreLinkHint","eventCnt","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","rawLocale","buildLocale","inputSingular","available","parseLocale","queryLocale","codeArg","codes","raw","queryRawLocale","parts","toLocaleLowerCase","split","simpleId","join","merged","simpleNumberFormat","Intl","NumberFormat","createPlugin","input","id","premiumReleaseDate","Date","undefined","deps","reducers","isLoadingFuncs","contextInit","eventRefiners","eventDefMemberAdders","eventSourceRefiners","isDraggableTransformers","eventDragMutationMassagers","eventDefMutationAppliers","dateSelectionTransformers","datePointTransforms","dateSpanTransforms","views","viewPropsTransformers","isPropsValid","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","eventSourceDefs","cmdFormatter","recurringTypes","namedTimeZonedImpl","initialView","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","listenerRefiners","optionRefiners","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","currentPluginIds","hooks","addDefs","defs","def","pluginName","currentId","combineHooks","console","warn","buildBuildPluginHooks","currentOverrideDefs","currentGlobalDefs","currentHooks","overrideDefs","hooks0","hooks1","compareOptionalDates","date0","date1","Math","max","valueOf","StandardTheme","classes","root","tableCellShaded","buttonGroup","button","buttonActive","baseIconClass","iconClasses","close","rtlIconClasses","iconOverrideOption","iconOverrideCustomButtonOption","iconOverridePrefix","compileViewDefs","defaultConfigs","overrideConfigs","hash","viewType","ensureViewDef","viewDef","buildViewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","Error","component","defaults","rawOptions","overrides","parseViewConfigs","inputs","parseViewConfig","content","createViewHookComponent","viewProps","elTag","elClasses","viewSpec","renderProps","nextDayThreshold","generatorName","customGenerator","classNameGenerator","classNames","didMount","willUnmount","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","duration","durationUnit","singleUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","buttonTextKey","queryButtonTitle","buttonKey","optionDefaults","buttonTextOverride","buttonTextDefault","buttonTitleOverride","buttonHint","buttonTitleDefault","durationInputMap","json","JSON","stringify","res","reduceViewType","action","reduceDynamicOptionOverrides","optionName","rawOptionValue","reduceDateProfile","currentDateProfile","currentDate","dateProfileGenerator","dp","build","dateMarker","buildPrev","isValid","buildNext","initEventSources","calendarOptions","dateProfile","activeRange","addSources","parseInitialSources","reduceEventSources","eventSources","sources","removeSource","sourceId","fetchDirtySources","fetchSourcesByIds","sourceIds","excludeStaticSources","isRefetch","receiveResponse","fetchId","fetchRange","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","isFetching","eventSourceHash","source","eventSource","sourceHash","isSourceDirty","doesSourceNeedRange","latestFetchId","lazyFetching","start","end","prevSources","sourceIdHash","nextSources","fetchSource","calendarApi","sourceDef","pluginHooks","sourceDefId","fetch","range","rawEvents","eventSourceSuccess","response","success","dispatch","error","errorHandled","eventSourceFailure","failure","message","refiners","rawSources","initialEvents","unshift","events","rawSource","ignoreRange","reduceDateSelection","currentSelection","selection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","affectedEvents","mutatedEvents","isEvent","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","theme","viewSpecs","header","headerToolbar","parseToolbar","footer","footerToolbar","sectionStrHash","sectionWidgets","viewsWithButtons","hasTitle","sectionName","sectionStr","sectionRes","parseSection","widgets","isRtl","calendarCustomButtons","customButtons","calendarButtonTextOverrides","calendarButtonText","calendarButtonHintOverrides","calendarButtonHints","sectionSubstrs","buttonGroupStr","buttonName","customButtonProps","buttonClick","buttonIcon","ev","click","target","getCustomButtonIconClass","getIconClass","text","hint","changeView","textFallback","prevOrNext","navUnit","ViewImpl","getCurrentData","dateEnv","calendar","title","viewTitle","activeStart","toDate","activeEnd","currentStart","currentRange","currentEnd","getOption","eventSourceDef$2","parseMeta","refined","arg","successCallback","meta","arrayEventSourcePlugin","eventSourceDef$1","errorCallback","func","funcEventSourcePlugin","JSON_FEED_EVENT_SOURCE_REFINERS","method","String","extraParams","startParam","endParam","timeZoneParam","eventSourceDef","url","format","toUpperCase","requestParams","buildRequestParams","jsonFeedEventSourcePlugin","customRequestParams","params","formatIso","timeZone","SIMPLE_RECURRING_REFINERS","daysOfWeek","startTime","endTime","startRecur","endRecur","recurring","parse","recurringData","createMarker","allDayGuess","Boolean","typeData","expand","framingRange","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","endMarker","instanceStarts","instanceStart","getUTCDay","add","changeHandlerPlugin","handleEventSources","unfoundSources","_raw","newInputs","inputFound","unfoundSource","newInput","addEventSource","handleDateProfile","emitter","trigger","view","viewApi","handleEventStore","eventStore","hasHandlers","globalPlugins","TaskRunner","runTaskOption","drainedOption","queue","delayedRunner","drain","request","task","delay","pause","scope","resume","force","completedTasks","runTask","drained","buildTitle","viewOptions","currentRangeUnit","formatRange","titleFormat","buildTitleFormat","isEndExclusive","isRangeAllDay","defaultSeparator","titleRangeSeparator","days","CalendarDataManager","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildDateEnv$1","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsInput","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","currentCalendarOptionsRefiners","optionsForRefining","optionsForHandling","optionsData","computeOptionsData","currentViewType","currentViewData","currentDataManager","setThisContext","setOptions","calendarContext","callback","initialState","businessHours","eventUiBases","renderableEventStore","dateSelection","eventSelection","eventDrag","eventResize","selectionConfig","contextAndState","reducer","computeIsLoading","resetOptions","changedOptionNames","isEventsLoading","progressiveEventRendering","eventUiSingleBase","eventUiBySource","newState","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","stableOptionOverrides","stableDynamicOptionOverrides","stableCalendarOptionsData","refinedOptions","availableLocaleData","extra","processRawCalendarOptions","warnUnknownOptions","locale","weekNumberCalculation","firstDay","defaultRangeSeparator","toolbarConfig","availableRawLocales","locales","plugins","currentRaw","currentRefined","anyChanges","processRawViewOptions","dateProfileGeneratorClass","usesMinMaxTime","slotMinTime","slotMaxTime","showNonCurrentDates","dayCount","dateAlignment","dateIncrement","hiddenDays","weekends","nowInput","now","validRangeInput","validRange","visibleRangeInput","visibleRange","fixedWeekCount","explicitLocale","calendarSystem","namedTimeZoneImpl","ThemeClass","themeSystem","DateProfileGeneratorClass","ui","eventDefs","defId","display","eventDisplay","editable","startEditable","eventStartEditable","durationEditable","eventDurationEditable","constraint","eventConstraint","overlap","eventOverlap","allow","eventAllow","backgroundColor","eventBackgroundColor","borderColor","eventBorderColor","textColor","eventTextColor","color","eventColor","selectConstraint","selectOverlap","selectAllow","isLoadingFunc","viewName","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widget","titleId","isPressed","activeButton","isDisabled","isTodayEnabled","isPrevEnabled","isNextEnabled","buttonClasses","getClass","disabled","onClick","role","groupClassName","Toolbar","model","extraClassName","forceLtr","startContent","endContent","centerContent","center","left","right","renderSection","ViewHarness","availableWidth","handleEl","el","elRef","updateAvailableWidth","handleResize","aspectRatio","liquid","height","paddingBottom","labeledById","addResizeHandler","removeResizeHandler","offsetWidth","EventClicking","settings","handleSegClick","segEl","seg","isValidSegDownEl","hasUrlContainer","querySelector","href","eventRange","instance","jsEvent","window","location","destroy","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","headerRef","footerRef","interactionsStore","viewLabelId","registerInteractiveComponent","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","uid","unregisterInteractiveComponent","listeners","listener","resizeRunner","handleWindowResize","windowResizeDelay","toolbarProps","viewVGrow","viewHeight","viewAspectRatio","isHeightAuto","forPrint","contentHeight","viewContext","renderView","buildAppendContent","CalendarInteractionClass","propName","prevProps","clear","interaction","transformers","transformer","transform","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","Calendar","isRendering","isRendered","currentClassNames","customContentRenderId","handleAction","renderRunner","tryDrain","handleData","currentData","rerenderDelay","handleRenderRequest","setClassNames","setHeight","wasRendering","updateSize","batchRendering","pauseRendering","resumeRendering","classList","remove","formatDate","dateInput","formatter","dateMeta","createMarkerMeta","marker","forcedTzo","startInput","endInput","startMeta","endMeta","forcedStartTzo","forcedEndTzo","sliceEvents","allDay","fg","preact","styleTexts","styleEls","injectStyles","styleText","styleEl","appendStylesTo","isConnected","getRootNode","registerStylesRoot","rootNode","nonce","getNonceValue","parentEl","head","hydrateStylesRoot","sheet","ruleCnt","cssRules","styleStr","trim","insertRule","queriedNonceValue","queryNonceValue","metaWithNonce","hasAttribute","getAttribute","elWithNonce","css_248z","isRunning","isDirty","pauseDepths","timeoutId","isPaused","depth","keys","removeElement","selector","closest","documentElement","contains","elementMatches","parentElement","matches","matchesSelector","msMatchesSelector","findElements","container","containers","HTMLElement","allMatches","querySelectorAll","findDirectChildren","parent","parents","childNode","PIXEL_PROP_RE","applyStyle","val","getEventTargetViaRoot","_a","_b","composedPath","guid$1","preventDefault","buildDelegationHandler","handler","matchedChild","eventType","attachedHandler","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave","mouseLeaveEv","transitionEventNames","whenTransitionDone","realCallback","eventName","createAriaClickAttrs","createAriaKeyboardAttrs","tabIndex","onKeyDown","guidNumber","disableCursor","body","enableCursor","preventSelection","userSelect","webkitUserSelect","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","specs","tokens","token","charAt","field","substring","order","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","localeCompare","padStart","len","substr","args","fallbackText","reduce","str","index","compareNumbers","isInt","computeSmallestCellWidth","cellEl","allWidthEl","contentWidthEl","getBoundingClientRect","width","INTERNAL_UNITS","PARSE_RE","parseString","parseObject","exec","sign","years","months","parseInt","milliseconds","obj","hours","hour","minutes","minute","seconds","second","millisecond","ms","weeks","specifiedWeeks","durationsEqual","d0","d1","asCleanDays","dur","addDurations","multiplyDuration","asRoughYears","asRoughDays","asRoughMonths","asRoughMs","asRoughMinutes","asRoughSeconds","wholeDivideDurations","numerator","denominator","localRes","removeExact","array","exactVal","removeCnt","equalityFunc","DAY_IDS","addWeeks","dateToUtcArray","arrayToUtcDate","addMs","diffWeeks","m0","m1","diffDays","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","m1day","round","diffWholeWeeks","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","weekOfGivenYear","nextW","min","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","dateToLocalArray","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","getUTCMilliseconds","UTC","isValidDate","isNaN","buildIsoString","timeZoneOffset","stripZeroTime","toISOString","formatTimeZoneOffset","formatDayString","formatIsoMonthStr","match","formatIsoTimeString","doIso","abs","mins","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","currentArg","newArg","memoizeArraylike","currentArgSets","currentResults","newArgSets","currentLen","newLen","memoizeHashlike","currentArgHash","currentResHash","newArgHash","newResHash","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","buildFormattingFunc","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","buildNativeFormattingFunc","sanitizeSettings","normalFormat","DateTimeFormat","zeroFormat","zeroProps","postProcess","injectTzoStr","tzoStr","replaced","num","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","FuncFormatter","navLinkDayClick","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","defaultAllDayEventDuration","defaultTimedEventDuration","scrollTime","scrollTimeReset","dayPopoverFormat","slotDuration","snapDuration","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","Number","weekNumbers","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","eventOrderStrict","longPressDelay","eventDragMinDistance","expandRows","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","initialDate","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","defaultAllDay","eventClassNames","eventContent","eventDidMount","eventWillUnmount","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMaxStack","eventMinHeight","eventMinWidth","eventShortHeight","slotEventOverlap","eventInteractive","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","monthStartFormat","handleCustomRendering","customRenderingMetaMap","customRenderingReplaces","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","select","unselect","loading","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","isMaybeObjectsEqual","isMaybeArraysEqual","optionSets","refineProps","hasOwnProperty","propObjs","complexPropsMap","dest","complexObjs","filtered","newHash","item","HANDLER_RE","isNonHandlerPropsEqual","getUnequalProps","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","startIndex","endIndex","step","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","arr","ISO_RE","isTimeUnspecified","isNamedTimeZone","canComputeOffset","weekDow","weekDoy","weekNumberFunc","createNowMarker","timestampToMarker","getYear","getDay","subtract","addYears","addMonths","diffWholeYears","diffWholeMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","startOfWeek","dateOptions","offsetForMarker","extraOptions","omitTimeZoneOffset","omitTime","timestampToArray","getTimezoneOffset","offsetForArray","setIconOverride","iconOverrideHash","iconClassesCopy","applyIconOverridePrefix","prefix","runBeforeFlush","oldDebounceRendering","callbackQ","execCallbackSync","FakeComponent","ContextType","origProvider","isNew","subs","_props","old","ScrollResponder","execFunc","handleScrollRequest","queuedRequest","fireInitialScroll","detach","off","update","isDatesNew","time","createScrollResponder","nextProps","nextState","debug","log","propEquality","stateEquality","safeSetState","addPropsEquality","addStateEquality","create","ContentInjector","queuedDomNodes","currentDomNodes","hasCustomRenderingHandler","updateElRef","defaultGenerator","attrs","buildElAttrs","useDefault","innerContent","currentGeneratorMeta","customGeneratorRes","isObject","html","domNodes","applyQueueudDomNodes","triggerCustomRendering","isActive","generatorMeta","containerEl","reportNewContainerEl","isTruthy","newNode","elStyle","elAttrs","extraClassNames","InnerContent","InnerContentInjector","didMountMisfire","generatedClassNames","generateClassNames","renderId","containerComponent","parentProps","ViewContainer","parseRange","invertRanges","ranges","constraintRange","invertedRanges","dateRange","compareRanges","range0","range1","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","constrainMarkerToRange","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","largeUnit","initialDateInput","nowDate","initHiddenDays","forceToValid","prevDate","nextDate","currentInfo","renderRange","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","isHiddenDay","skipHiddenDays","computeRes","runningCount","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","createEventInstance","instanceId","parseRecurring","parsed","typeId","expandRecurring","instances","recurringDef","starts","expandRecurringRanges","eventDef","typeDef","markers","EVENT_NON_DATE_REFINERS","groupId","interactive","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","parseEvent","allowOpenRange","buildEventRefiners","defIdMap","instanceIdMap","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","hasEnd","publicId","EVENT_UI_REFINERS","memberAdder","freeze","startMarker","parseEvents","rawEvent","tuple","eventTupleToStore","getRelevantEvents","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EMPTY_EVENT_UI","constraints","allows","combineEventUis","uis","combineTwoEventUis","item0","item1","EVENT_SOURCE_REFINERS","rawObj","metaRes","buildEventSourceMeta","receiveRawEvents","resetRawEvents","addEvent","excludeEventsBySourceId","subset","transformRawEvents","existingEventStore","buildPublicIdMaps","newEventStore","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","oldDateEnv","newDateEnv","excludeInstances","removals","handlers","thisContext","addToHash","removeFromHash","attachedHandlers","optionHandler","DEF_DEFAULTS","refineInputs","rawDefs","rawDef","triggerDateSelect","pev","buildDateSpanApiWithContext","origEvent","triggerDateUnselect","dateSpan","buildDateSpanApi","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","compileEventUis","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","standardProps","startDelta","endDelta","copy","applier","eventInstance","forceAllDay","clearEnd","datesDelta","EventSourceImpl","internalEventSource","refetch","_context","_def","_instance","setProp","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","setDates","moveStart","deltaInput","delta","moveEnd","moveDates","setAllDay","formatInput","relevantEvents","oldEvent","relatedEvents","revert","asStore","eventApiToStore","startStr","endStr","toPlainObject","collapseColor","collapseExtendedProps","toJSON","eventApi","excludeInstance","eventApis","excludeInstanceId","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRange","bg","hasBgRendering","setElSeg","fcSeg","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","_seg","computeSegDraggable","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","todayRange","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","getSegAnchorAttrs","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildRangeApi","fabricateEventRange","normalizedSuccessCallback","normalizedFailureCallback","isResolved","wrappedSuccess","wrappedFailure","fetchOptions","URLSearchParams","headers","fetchRes","ok","parsedResponse","canVGrowWithinCell","getCanVGrowWithinCell","computeCanVGrowWithinCell","position","top","div","possible","offsetHeight","handleBeforePrint","handleAfterPrint","isHitComboAllowed","useEventCenter","interactionSettingsToStore","setOption","getAvailableLocaleCodes","handlerName","dateOrRange","zoomTo","spec","getUnitViewSpec","viewTypes","gotoDate","zonedDateInput","incrementDate","dateOrObj","endDate","selectionInput","eventInput","sourceInput","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","getEventById","getEvents","removeAllEvents","getEventSources","sourceApis","internalId","removeAllEventSources","refetchEvents","scrollToTime","timeInput","pointInsideRect","point","rect","bottom","intersectRects","rect1","rect2","translateRect","deltaX","deltaY","constrainPoint","getRectCenter","diffPoints","point1","point2","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventResizes","info","buildEventUiForKey","keyInfo","buildEventUi","dateSpans","getKeysForDateSpan","getKeysForEventDef","splitStores","splitHashes","splitStates","affectedStores","mutatedKeysByDefId","mutatedStores","populate","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isOther","getDayClassNames","getSlotClassNames","DAY_FORMAT","WEEK_FORMAT","buildNavLinkAttrs","isTabbable","dateStr","zonedDate","handleInteraction","customAction","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","border","padding","overflow","innerEl","_scrollbarWidths","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","clientHeight","clientWidth","computeEdges","getPadding","computedStyle","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","scrollX","scrollY","computeClippedClientRect","clippingParents","getClippingParents","clippingParent","intersection","overflowY","overflowX","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","similarTo","otherCache","similarNumArrays","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","WindowScrollController","scroll","DateComponent","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidDateDownEl","NamedTimeZoneImpl","SegHierarchy","getEntryThickness","entry","thickness","strictOrder","allowReslicing","maxCoord","maxStackCnt","levelCoords","entriesByLevel","stackCnts","addSegs","hiddenEntries","insertEntry","findInsertion","isInsertionValid","insertEntryAt","handleInvalidInsertion","levelCoord","stackCnt","touchingEntry","hiddenEntry","intersectSpans","splitEntry","barrier","entrySpan","barrierSpan","lateral","insertAt","level","buildEntryKey","newEntry","levelCnt","candidateCoord","touchingLevel","touchingLateral","trackingLevel","trackingCoord","trackingEntries","trackingEntry","searchRes","binarySearch","getEntrySpanEnd","lateralIndex","trackingEntryBottom","destLevel","destLateral","toRects","rects","entries","groupIntersectingEntries","merges","filteredMerges","hungryMerge","merge","joinSpans","searchVal","getItemVal","middleIndex","middleVal","ElementDragging","setMirrorIsVisible","bool","setMirrorNeedsRevert","setAutoScrollEnabled","config","DRAG_META_REFINERS","parseDragMeta","leftoverProps","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner$1","TableDateCell","dayMeta","navLinkAttrs","colCnt","extraRenderProps","colSpan","extraDataAttrs","InnerContainer","isSticky","WEEKDAY_FORMAT","TableDowCell","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","currentState","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","dates","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","dayIndex","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","col","buildCell","seriesSeg","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","activeDateSpanRange","eventRanges","sliceEventRange","isComponentAllDay","isInteractionValid","isNewPropsValid","isDateSelectionValid","calendarState","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","marginBottom","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","removed","added","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","isHeader","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","colProps","sanitizeShrinkWidth","hasShrinkWidth","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","collapsibleWidth","configCnt","configI","currentConfig","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","roleAttrs","outerContent","renderChunkTd","chunk","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","EventContainer","timeText","disableDragging","disableResizing","isDateSelecting","StandardEvent","defaultTimeFormat","renderInnerContent$1","eventContentArg","innerProps","NowIndicatorContainer","isAxis","DAY_NUM_FORMAT","DayCellContainer","refineRenderProps","isMonthStart","showDayNumber","hasCustomDayCellContent","dayNumberText","BgEvent","renderInnerContent","renderFill","fillType","WeekNumberContainer","defaultFormat","renderInner","PADDING_FROM_VIEWPORT","Popover","handleRootEl","rootEl","handleDocumentMouseDown","handleCloseClick","handleDocumentKeyDown","onClose","extraAttrs","alignmentEl","alignGridTop","alignmentRect","popoverDims","popoverTop","popoverLeft","origin","offsetParent","MorePopover","startDate","forceTimed","extraDateSpan","dayEl","layer","MoreLinkContainer","isPopoverOpen","popoverId","handleLinkEl","linkEl","handleClick","computeRange","buildPublicSeg","allDayDate","allSegs","hiddenSegs","handlePopoverClose","moreCnt","shortText","renderMoreLinkInner","alignmentElRef","popoverContent","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","Store","currentValue","subscribe","CustomRenderingStore","handle","customRendering","updated","has","a$","aA","aB","aC","aD","aE","aF","aG","aH","aI","aJ","aK","aL","aM","aN","aO","aP","aQ","aR","aS","aT","aU","aV","aW","aX","aY","aZ","a_","ah","ai","aj","ak","al","am","ao","ap","aq","ar","as","at","au","av","aw","ax","ay","az","b$","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","bA","bB","bC","bD","bE","bF","bG","bH","bI","bJ","bK","bL","bM","bN","bO","bP","bQ","bR","bS","bT","bU","bV","bW","bX","bY","bZ","b_","ba","bb","bc","bd","be","bf","bh","bi","bj","bk","bl","bm","bo","bp","bq","br","bs","bt","bu","bv","bw","bx","by","bz","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","cb","cc","cd","ce","cf","cg","ch","ci","cj","ck","cl","cm","co","cp","cq","cr","cs","ct","cu","cv","cw","cx","cy"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1,2,3,4]}